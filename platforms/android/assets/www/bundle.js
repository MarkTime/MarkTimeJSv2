function $LocationDecorator($location,$timeout){return $location.__hash=$location.hash,$location.hash=function(value){return angular.isDefined(value)&&$timeout(function(){var scroll=document.querySelector(".scroll-content");scroll&&(scroll.scrollTop=0)},0,!1),$location.__hash(value)},$location}!function(window,document,undefined){"use strict";function minErr(module,ErrorConstructor){return ErrorConstructor=ErrorConstructor||Error,function(){var message,i,code=arguments[0],prefix="["+(module?module+":":"")+code+"] ",template=arguments[1],templateArgs=arguments;for(message=prefix+template.replace(/\{\d+\}/g,function(match){var index=+match.slice(1,-1);return index+2<templateArgs.length?toDebugString(templateArgs[index+2]):match}),message=message+"\nhttp://errors.angularjs.org/1.3.11/"+(module?module+"/":"")+code,i=2;i<arguments.length;i++)message=message+(2==i?"?":"&")+"p"+(i-2)+"="+encodeURIComponent(toDebugString(arguments[i]));return new ErrorConstructor(message)}}function isArrayLike(obj){if(null==obj||isWindow(obj))return!1;var length=obj.length;return obj.nodeType===NODE_TYPE_ELEMENT&&length?!0:isString(obj)||isArray(obj)||0===length||"number"==typeof length&&length>0&&length-1 in obj}function forEach(obj,iterator,context){var key,length;if(obj)if(isFunction(obj))for(key in obj)"prototype"==key||"length"==key||"name"==key||obj.hasOwnProperty&&!obj.hasOwnProperty(key)||iterator.call(context,obj[key],key,obj);else if(isArray(obj)||isArrayLike(obj)){var isPrimitive="object"!=typeof obj;for(key=0,length=obj.length;length>key;key++)(isPrimitive||key in obj)&&iterator.call(context,obj[key],key,obj)}else if(obj.forEach&&obj.forEach!==forEach)obj.forEach(iterator,context,obj);else for(key in obj)obj.hasOwnProperty(key)&&iterator.call(context,obj[key],key,obj);return obj}function sortedKeys(obj){return Object.keys(obj).sort()}function forEachSorted(obj,iterator,context){for(var keys=sortedKeys(obj),i=0;i<keys.length;i++)iterator.call(context,obj[keys[i]],keys[i]);return keys}function reverseParams(iteratorFn){return function(value,key){iteratorFn(key,value)}}function nextUid(){return++uid}function setHashKey(obj,h){h?obj.$$hashKey=h:delete obj.$$hashKey}function extend(dst){for(var h=dst.$$hashKey,i=1,ii=arguments.length;ii>i;i++){var obj=arguments[i];if(obj)for(var keys=Object.keys(obj),j=0,jj=keys.length;jj>j;j++){var key=keys[j];dst[key]=obj[key]}}return setHashKey(dst,h),dst}function int(str){return parseInt(str,10)}function inherit(parent,extra){return extend(Object.create(parent),extra)}function noop(){}function identity($){return $}function valueFn(value){return function(){return value}}function isUndefined(value){return"undefined"==typeof value}function isDefined(value){return"undefined"!=typeof value}function isObject(value){return null!==value&&"object"==typeof value}function isString(value){return"string"==typeof value}function isNumber(value){return"number"==typeof value}function isDate(value){return"[object Date]"===toString.call(value)}function isFunction(value){return"function"==typeof value}function isRegExp(value){return"[object RegExp]"===toString.call(value)}function isWindow(obj){return obj&&obj.window===obj}function isScope(obj){return obj&&obj.$evalAsync&&obj.$watch}function isFile(obj){return"[object File]"===toString.call(obj)}function isFormData(obj){return"[object FormData]"===toString.call(obj)}function isBlob(obj){return"[object Blob]"===toString.call(obj)}function isBoolean(value){return"boolean"==typeof value}function isPromiseLike(obj){return obj&&isFunction(obj.then)}function isElement(node){return!(!node||!(node.nodeName||node.prop&&node.attr&&node.find))}function makeMap(str){var i,obj={},items=str.split(",");for(i=0;i<items.length;i++)obj[items[i]]=!0;return obj}function nodeName_(element){return lowercase(element.nodeName||element[0]&&element[0].nodeName)}function arrayRemove(array,value){var index=array.indexOf(value);return index>=0&&array.splice(index,1),value}function copy(source,destination,stackSource,stackDest){if(isWindow(source)||isScope(source))throw ngMinErr("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(destination){if(source===destination)throw ngMinErr("cpi","Can't copy! Source and destination are identical.");if(stackSource=stackSource||[],stackDest=stackDest||[],isObject(source)){var index=stackSource.indexOf(source);if(-1!==index)return stackDest[index];stackSource.push(source),stackDest.push(destination)}var result;if(isArray(source)){destination.length=0;for(var i=0;i<source.length;i++)result=copy(source[i],null,stackSource,stackDest),isObject(source[i])&&(stackSource.push(source[i]),stackDest.push(result)),destination.push(result)}else{var h=destination.$$hashKey;isArray(destination)?destination.length=0:forEach(destination,function(value,key){delete destination[key]});for(var key in source)source.hasOwnProperty(key)&&(result=copy(source[key],null,stackSource,stackDest),isObject(source[key])&&(stackSource.push(source[key]),stackDest.push(result)),destination[key]=result);setHashKey(destination,h)}}else if(destination=source,source)if(isArray(source))destination=copy(source,[],stackSource,stackDest);else if(isDate(source))destination=new Date(source.getTime());else if(isRegExp(source))destination=new RegExp(source.source,source.toString().match(/[^\/]*$/)[0]),destination.lastIndex=source.lastIndex;else if(isObject(source)){var emptyObject=Object.create(Object.getPrototypeOf(source));destination=copy(source,emptyObject,stackSource,stackDest)}return destination}function shallowCopy(src,dst){if(isArray(src)){dst=dst||[];for(var i=0,ii=src.length;ii>i;i++)dst[i]=src[i]}else if(isObject(src)){dst=dst||{};for(var key in src)("$"!==key.charAt(0)||"$"!==key.charAt(1))&&(dst[key]=src[key])}return dst||src}function equals(o1,o2){if(o1===o2)return!0;if(null===o1||null===o2)return!1;if(o1!==o1&&o2!==o2)return!0;var length,key,keySet,t1=typeof o1,t2=typeof o2;if(t1==t2&&"object"==t1){if(!isArray(o1)){if(isDate(o1))return isDate(o2)?equals(o1.getTime(),o2.getTime()):!1;if(isRegExp(o1)&&isRegExp(o2))return o1.toString()==o2.toString();if(isScope(o1)||isScope(o2)||isWindow(o1)||isWindow(o2)||isArray(o2))return!1;keySet={};for(key in o1)if("$"!==key.charAt(0)&&!isFunction(o1[key])){if(!equals(o1[key],o2[key]))return!1;keySet[key]=!0}for(key in o2)if(!keySet.hasOwnProperty(key)&&"$"!==key.charAt(0)&&o2[key]!==undefined&&!isFunction(o2[key]))return!1;return!0}if(!isArray(o2))return!1;if((length=o1.length)==o2.length){for(key=0;length>key;key++)if(!equals(o1[key],o2[key]))return!1;return!0}}return!1}function concat(array1,array2,index){return array1.concat(slice.call(array2,index))}function sliceArgs(args,startIndex){return slice.call(args,startIndex||0)}function bind(self,fn){var curryArgs=arguments.length>2?sliceArgs(arguments,2):[];return!isFunction(fn)||fn instanceof RegExp?fn:curryArgs.length?function(){return arguments.length?fn.apply(self,concat(curryArgs,arguments,0)):fn.apply(self,curryArgs)}:function(){return arguments.length?fn.apply(self,arguments):fn.call(self)}}function toJsonReplacer(key,value){var val=value;return"string"==typeof key&&"$"===key.charAt(0)&&"$"===key.charAt(1)?val=undefined:isWindow(value)?val="$WINDOW":value&&document===value?val="$DOCUMENT":isScope(value)&&(val="$SCOPE"),val}function toJson(obj,pretty){return"undefined"==typeof obj?undefined:(isNumber(pretty)||(pretty=pretty?2:null),JSON.stringify(obj,toJsonReplacer,pretty))}function fromJson(json){return isString(json)?JSON.parse(json):json}function startingTag(element){element=jqLite(element).clone();try{element.empty()}catch(e){}var elemHtml=jqLite("<div>").append(element).html();try{return element[0].nodeType===NODE_TYPE_TEXT?lowercase(elemHtml):elemHtml.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(match,nodeName){return"<"+lowercase(nodeName)})}catch(e){return lowercase(elemHtml)}}function tryDecodeURIComponent(value){try{return decodeURIComponent(value)}catch(e){}}function parseKeyValue(keyValue){var key_value,key,obj={};return forEach((keyValue||"").split("&"),function(keyValue){if(keyValue&&(key_value=keyValue.replace(/\+/g,"%20").split("="),key=tryDecodeURIComponent(key_value[0]),isDefined(key))){var val=isDefined(key_value[1])?tryDecodeURIComponent(key_value[1]):!0;hasOwnProperty.call(obj,key)?isArray(obj[key])?obj[key].push(val):obj[key]=[obj[key],val]:obj[key]=val}}),obj}function toKeyValue(obj){var parts=[];return forEach(obj,function(value,key){isArray(value)?forEach(value,function(arrayValue){parts.push(encodeUriQuery(key,!0)+(arrayValue===!0?"":"="+encodeUriQuery(arrayValue,!0)))}):parts.push(encodeUriQuery(key,!0)+(value===!0?"":"="+encodeUriQuery(value,!0)))}),parts.length?parts.join("&"):""}function encodeUriSegment(val){return encodeUriQuery(val,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function encodeUriQuery(val,pctEncodeSpaces){return encodeURIComponent(val).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,pctEncodeSpaces?"%20":"+")}function getNgAttribute(element,ngAttr){var attr,i,ii=ngAttrPrefixes.length;for(element=jqLite(element),i=0;ii>i;++i)if(attr=ngAttrPrefixes[i]+ngAttr,isString(attr=element.attr(attr)))return attr;return null}function angularInit(element,bootstrap){var appElement,module,config={};forEach(ngAttrPrefixes,function(prefix){var name=prefix+"app";!appElement&&element.hasAttribute&&element.hasAttribute(name)&&(appElement=element,module=element.getAttribute(name))}),forEach(ngAttrPrefixes,function(prefix){var candidate,name=prefix+"app";!appElement&&(candidate=element.querySelector("["+name.replace(":","\\:")+"]"))&&(appElement=candidate,module=candidate.getAttribute(name))}),appElement&&(config.strictDi=null!==getNgAttribute(appElement,"strict-di"),bootstrap(appElement,module?[module]:[],config))}function bootstrap(element,modules,config){isObject(config)||(config={});var defaultConfig={strictDi:!1};config=extend(defaultConfig,config);var doBootstrap=function(){if(element=jqLite(element),element.injector()){var tag=element[0]===document?"document":startingTag(element);throw ngMinErr("btstrpd","App Already Bootstrapped with this Element '{0}'",tag.replace(/</,"&lt;").replace(/>/,"&gt;"))}modules=modules||[],modules.unshift(["$provide",function($provide){$provide.value("$rootElement",element)}]),config.debugInfoEnabled&&modules.push(["$compileProvider",function($compileProvider){$compileProvider.debugInfoEnabled(!0)}]),modules.unshift("ng");var injector=createInjector(modules,config.strictDi);return injector.invoke(["$rootScope","$rootElement","$compile","$injector",function(scope,element,compile,injector){scope.$apply(function(){element.data("$injector",injector),compile(element)(scope)})}]),injector},NG_ENABLE_DEBUG_INFO=/^NG_ENABLE_DEBUG_INFO!/,NG_DEFER_BOOTSTRAP=/^NG_DEFER_BOOTSTRAP!/;return window&&NG_ENABLE_DEBUG_INFO.test(window.name)&&(config.debugInfoEnabled=!0,window.name=window.name.replace(NG_ENABLE_DEBUG_INFO,"")),window&&!NG_DEFER_BOOTSTRAP.test(window.name)?doBootstrap():(window.name=window.name.replace(NG_DEFER_BOOTSTRAP,""),void(angular.resumeBootstrap=function(extraModules){forEach(extraModules,function(module){modules.push(module)}),doBootstrap()}))}function reloadWithDebugInfo(){window.name="NG_ENABLE_DEBUG_INFO!"+window.name,window.location.reload()}function getTestability(rootElement){var injector=angular.element(rootElement).injector();if(!injector)throw ngMinErr("test","no injector found for element argument to getTestability");return injector.get("$$testability")}function snake_case(name,separator){return separator=separator||"_",name.replace(SNAKE_CASE_REGEXP,function(letter,pos){return(pos?separator:"")+letter.toLowerCase()})}function bindJQuery(){var originalCleanData;bindJQueryFired||(jQuery=window.jQuery,jQuery&&jQuery.fn.on?(jqLite=jQuery,extend(jQuery.fn,{scope:JQLitePrototype.scope,isolateScope:JQLitePrototype.isolateScope,controller:JQLitePrototype.controller,injector:JQLitePrototype.injector,inheritedData:JQLitePrototype.inheritedData}),originalCleanData=jQuery.cleanData,jQuery.cleanData=function(elems){var events;if(skipDestroyOnNextJQueryCleanData)skipDestroyOnNextJQueryCleanData=!1;else for(var elem,i=0;null!=(elem=elems[i]);i++)events=jQuery._data(elem,"events"),events&&events.$destroy&&jQuery(elem).triggerHandler("$destroy");originalCleanData(elems)}):jqLite=JQLite,angular.element=jqLite,bindJQueryFired=!0)}function assertArg(arg,name,reason){if(!arg)throw ngMinErr("areq","Argument '{0}' is {1}",name||"?",reason||"required");return arg}function assertArgFn(arg,name,acceptArrayAnnotation){return acceptArrayAnnotation&&isArray(arg)&&(arg=arg[arg.length-1]),assertArg(isFunction(arg),name,"not a function, got "+(arg&&"object"==typeof arg?arg.constructor.name||"Object":typeof arg)),arg}function assertNotHasOwnProperty(name,context){if("hasOwnProperty"===name)throw ngMinErr("badname","hasOwnProperty is not a valid {0} name",context)}function getter(obj,path,bindFnToScope){if(!path)return obj;for(var key,keys=path.split("."),lastInstance=obj,len=keys.length,i=0;len>i;i++)key=keys[i],obj&&(obj=(lastInstance=obj)[key]);return!bindFnToScope&&isFunction(obj)?bind(lastInstance,obj):obj}function getBlockNodes(nodes){var node=nodes[0],endNode=nodes[nodes.length-1],blockNodes=[node];do{if(node=node.nextSibling,!node)break;blockNodes.push(node)}while(node!==endNode);return jqLite(blockNodes)}function createMap(){return Object.create(null)}function setupModuleLoader(window){function ensure(obj,name,factory){return obj[name]||(obj[name]=factory())}var $injectorMinErr=minErr("$injector"),ngMinErr=minErr("ng"),angular=ensure(window,"angular",Object);return angular.$$minErr=angular.$$minErr||minErr,ensure(angular,"module",function(){var modules={};return function(name,requires,configFn){var assertNotHasOwnProperty=function(name,context){if("hasOwnProperty"===name)throw ngMinErr("badname","hasOwnProperty is not a valid {0} name",context)};return assertNotHasOwnProperty(name,"module"),requires&&modules.hasOwnProperty(name)&&(modules[name]=null),ensure(modules,name,function(){function invokeLater(provider,method,insertMethod,queue){return queue||(queue=invokeQueue),function(){return queue[insertMethod||"push"]([provider,method,arguments]),moduleInstance}}if(!requires)throw $injectorMinErr("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",name);var invokeQueue=[],configBlocks=[],runBlocks=[],config=invokeLater("$injector","invoke","push",configBlocks),moduleInstance={_invokeQueue:invokeQueue,_configBlocks:configBlocks,_runBlocks:runBlocks,requires:requires,name:name,provider:invokeLater("$provide","provider"),factory:invokeLater("$provide","factory"),service:invokeLater("$provide","service"),value:invokeLater("$provide","value"),constant:invokeLater("$provide","constant","unshift"),animation:invokeLater("$animateProvider","register"),filter:invokeLater("$filterProvider","register"),controller:invokeLater("$controllerProvider","register"),directive:invokeLater("$compileProvider","directive"),config:config,run:function(block){return runBlocks.push(block),this}};return configFn&&config(configFn),moduleInstance})}})}function serializeObject(obj){var seen=[];return JSON.stringify(obj,function(key,val){if(val=toJsonReplacer(key,val),isObject(val)){if(seen.indexOf(val)>=0)return"<<already seen>>";seen.push(val)}return val})}function toDebugString(obj){return"function"==typeof obj?obj.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof obj?"undefined":"string"!=typeof obj?serializeObject(obj):obj}function publishExternalAPI(angular){extend(angular,{bootstrap:bootstrap,copy:copy,extend:extend,equals:equals,element:jqLite,forEach:forEach,injector:createInjector,noop:noop,bind:bind,toJson:toJson,fromJson:fromJson,identity:identity,isUndefined:isUndefined,isDefined:isDefined,isString:isString,isFunction:isFunction,isObject:isObject,isNumber:isNumber,isElement:isElement,isArray:isArray,version:version,isDate:isDate,lowercase:lowercase,uppercase:uppercase,callbacks:{counter:0},getTestability:getTestability,$$minErr:minErr,$$csp:csp,reloadWithDebugInfo:reloadWithDebugInfo}),angularModule=setupModuleLoader(window);try{angularModule("ngLocale")}catch(e){angularModule("ngLocale",[]).provider("$locale",$LocaleProvider)}angularModule("ng",["ngLocale"],["$provide",function($provide){$provide.provider({$$sanitizeUri:$$SanitizeUriProvider}),$provide.provider("$compile",$CompileProvider).directive({a:htmlAnchorDirective,input:inputDirective,textarea:inputDirective,form:formDirective,script:scriptDirective,select:selectDirective,style:styleDirective,option:optionDirective,ngBind:ngBindDirective,ngBindHtml:ngBindHtmlDirective,ngBindTemplate:ngBindTemplateDirective,ngClass:ngClassDirective,ngClassEven:ngClassEvenDirective,ngClassOdd:ngClassOddDirective,ngCloak:ngCloakDirective,ngController:ngControllerDirective,ngForm:ngFormDirective,ngHide:ngHideDirective,ngIf:ngIfDirective,ngInclude:ngIncludeDirective,ngInit:ngInitDirective,ngNonBindable:ngNonBindableDirective,ngPluralize:ngPluralizeDirective,ngRepeat:ngRepeatDirective,ngShow:ngShowDirective,ngStyle:ngStyleDirective,ngSwitch:ngSwitchDirective,ngSwitchWhen:ngSwitchWhenDirective,ngSwitchDefault:ngSwitchDefaultDirective,ngOptions:ngOptionsDirective,ngTransclude:ngTranscludeDirective,ngModel:ngModelDirective,ngList:ngListDirective,ngChange:ngChangeDirective,pattern:patternDirective,ngPattern:patternDirective,required:requiredDirective,ngRequired:requiredDirective,minlength:minlengthDirective,ngMinlength:minlengthDirective,maxlength:maxlengthDirective,ngMaxlength:maxlengthDirective,ngValue:ngValueDirective,ngModelOptions:ngModelOptionsDirective}).directive({ngInclude:ngIncludeFillContentDirective}).directive(ngAttributeAliasDirectives).directive(ngEventDirectives),$provide.provider({$anchorScroll:$AnchorScrollProvider,$animate:$AnimateProvider,$browser:$BrowserProvider,$cacheFactory:$CacheFactoryProvider,$controller:$ControllerProvider,$document:$DocumentProvider,$exceptionHandler:$ExceptionHandlerProvider,$filter:$FilterProvider,$interpolate:$InterpolateProvider,$interval:$IntervalProvider,$http:$HttpProvider,$httpBackend:$HttpBackendProvider,$location:$LocationProvider,$log:$LogProvider,$parse:$ParseProvider,$rootScope:$RootScopeProvider,$q:$QProvider,$$q:$$QProvider,$sce:$SceProvider,$sceDelegate:$SceDelegateProvider,$sniffer:$SnifferProvider,$templateCache:$TemplateCacheProvider,$templateRequest:$TemplateRequestProvider,$$testability:$$TestabilityProvider,$timeout:$TimeoutProvider,$window:$WindowProvider,$$rAF:$$RAFProvider,$$asyncCallback:$$AsyncCallbackProvider,$$jqLite:$$jqLiteProvider})}])}function jqNextId(){return++jqId}function camelCase(name){return name.replace(SPECIAL_CHARS_REGEXP,function(_,separator,letter,offset){return offset?letter.toUpperCase():letter}).replace(MOZ_HACK_REGEXP,"Moz$1")}function jqLiteIsTextNode(html){return!HTML_REGEXP.test(html)}function jqLiteAcceptsData(node){var nodeType=node.nodeType;return nodeType===NODE_TYPE_ELEMENT||!nodeType||nodeType===NODE_TYPE_DOCUMENT}function jqLiteBuildFragment(html,context){var tmp,tag,wrap,i,fragment=context.createDocumentFragment(),nodes=[];if(jqLiteIsTextNode(html))nodes.push(context.createTextNode(html));else{for(tmp=tmp||fragment.appendChild(context.createElement("div")),tag=(TAG_NAME_REGEXP.exec(html)||["",""])[1].toLowerCase(),wrap=wrapMap[tag]||wrapMap._default,tmp.innerHTML=wrap[1]+html.replace(XHTML_TAG_REGEXP,"<$1></$2>")+wrap[2],i=wrap[0];i--;)tmp=tmp.lastChild;nodes=concat(nodes,tmp.childNodes),tmp=fragment.firstChild,tmp.textContent=""}return fragment.textContent="",fragment.innerHTML="",forEach(nodes,function(node){fragment.appendChild(node)}),fragment}function jqLiteParseHTML(html,context){context=context||document;var parsed;return(parsed=SINGLE_TAG_REGEXP.exec(html))?[context.createElement(parsed[1])]:(parsed=jqLiteBuildFragment(html,context))?parsed.childNodes:[]}function JQLite(element){if(element instanceof JQLite)return element;var argIsString;if(isString(element)&&(element=trim(element),argIsString=!0),!(this instanceof JQLite)){if(argIsString&&"<"!=element.charAt(0))throw jqLiteMinErr("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new JQLite(element)}argIsString?jqLiteAddNodes(this,jqLiteParseHTML(element)):jqLiteAddNodes(this,element)}function jqLiteClone(element){return element.cloneNode(!0)}function jqLiteDealoc(element,onlyDescendants){if(onlyDescendants||jqLiteRemoveData(element),element.querySelectorAll)for(var descendants=element.querySelectorAll("*"),i=0,l=descendants.length;l>i;i++)jqLiteRemoveData(descendants[i])}function jqLiteOff(element,type,fn,unsupported){if(isDefined(unsupported))throw jqLiteMinErr("offargs","jqLite#off() does not support the `selector` argument");var expandoStore=jqLiteExpandoStore(element),events=expandoStore&&expandoStore.events,handle=expandoStore&&expandoStore.handle;if(handle)if(type)forEach(type.split(" "),function(type){if(isDefined(fn)){var listenerFns=events[type];if(arrayRemove(listenerFns||[],fn),listenerFns&&listenerFns.length>0)return}removeEventListenerFn(element,type,handle),delete events[type]});else for(type in events)"$destroy"!==type&&removeEventListenerFn(element,type,handle),delete events[type]}function jqLiteRemoveData(element,name){var expandoId=element.ng339,expandoStore=expandoId&&jqCache[expandoId];if(expandoStore){if(name)return void delete expandoStore.data[name];expandoStore.handle&&(expandoStore.events.$destroy&&expandoStore.handle({},"$destroy"),jqLiteOff(element)),delete jqCache[expandoId],element.ng339=undefined}}function jqLiteExpandoStore(element,createIfNecessary){var expandoId=element.ng339,expandoStore=expandoId&&jqCache[expandoId];return createIfNecessary&&!expandoStore&&(element.ng339=expandoId=jqNextId(),expandoStore=jqCache[expandoId]={events:{},data:{},handle:undefined}),expandoStore}function jqLiteData(element,key,value){if(jqLiteAcceptsData(element)){var isSimpleSetter=isDefined(value),isSimpleGetter=!isSimpleSetter&&key&&!isObject(key),massGetter=!key,expandoStore=jqLiteExpandoStore(element,!isSimpleGetter),data=expandoStore&&expandoStore.data;if(isSimpleSetter)data[key]=value;else{if(massGetter)return data;if(isSimpleGetter)return data&&data[key];extend(data,key)}}}function jqLiteHasClass(element,selector){return element.getAttribute?(" "+(element.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+selector+" ")>-1:!1}function jqLiteRemoveClass(element,cssClasses){cssClasses&&element.setAttribute&&forEach(cssClasses.split(" "),function(cssClass){element.setAttribute("class",trim((" "+(element.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+trim(cssClass)+" "," ")))})}function jqLiteAddClass(element,cssClasses){if(cssClasses&&element.setAttribute){var existingClasses=(" "+(element.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");forEach(cssClasses.split(" "),function(cssClass){cssClass=trim(cssClass),-1===existingClasses.indexOf(" "+cssClass+" ")&&(existingClasses+=cssClass+" ")}),element.setAttribute("class",trim(existingClasses))}}function jqLiteAddNodes(root,elements){if(elements)if(elements.nodeType)root[root.length++]=elements;else{var length=elements.length;if("number"==typeof length&&elements.window!==elements){if(length)for(var i=0;length>i;i++)root[root.length++]=elements[i]}else root[root.length++]=elements}}function jqLiteController(element,name){return jqLiteInheritedData(element,"$"+(name||"ngController")+"Controller")}function jqLiteInheritedData(element,name,value){element.nodeType==NODE_TYPE_DOCUMENT&&(element=element.documentElement);for(var names=isArray(name)?name:[name];element;){for(var i=0,ii=names.length;ii>i;i++)if((value=jqLite.data(element,names[i]))!==undefined)return value;element=element.parentNode||element.nodeType===NODE_TYPE_DOCUMENT_FRAGMENT&&element.host}}function jqLiteEmpty(element){for(jqLiteDealoc(element,!0);element.firstChild;)element.removeChild(element.firstChild)}function jqLiteRemove(element,keepData){keepData||jqLiteDealoc(element);var parent=element.parentNode;parent&&parent.removeChild(element)}function jqLiteDocumentLoaded(action,win){win=win||window,"complete"===win.document.readyState?win.setTimeout(action):jqLite(win).on("load",action)}function getBooleanAttrName(element,name){var booleanAttr=BOOLEAN_ATTR[name.toLowerCase()];return booleanAttr&&BOOLEAN_ELEMENTS[nodeName_(element)]&&booleanAttr}function getAliasedAttrName(element,name){var nodeName=element.nodeName;return("INPUT"===nodeName||"TEXTAREA"===nodeName)&&ALIASED_ATTR[name]}function createEventHandler(element,events){var eventHandler=function(event,type){event.isDefaultPrevented=function(){return event.defaultPrevented};var eventFns=events[type||event.type],eventFnsLength=eventFns?eventFns.length:0;if(eventFnsLength){if(isUndefined(event.immediatePropagationStopped)){var originalStopImmediatePropagation=event.stopImmediatePropagation;event.stopImmediatePropagation=function(){event.immediatePropagationStopped=!0,event.stopPropagation&&event.stopPropagation(),originalStopImmediatePropagation&&originalStopImmediatePropagation.call(event)}}event.isImmediatePropagationStopped=function(){return event.immediatePropagationStopped===!0},eventFnsLength>1&&(eventFns=shallowCopy(eventFns));for(var i=0;eventFnsLength>i;i++)event.isImmediatePropagationStopped()||eventFns[i].call(element,event)}};return eventHandler.elem=element,eventHandler}function $$jqLiteProvider(){this.$get=function(){return extend(JQLite,{hasClass:function(node,classes){return node.attr&&(node=node[0]),jqLiteHasClass(node,classes)},addClass:function(node,classes){return node.attr&&(node=node[0]),jqLiteAddClass(node,classes)},removeClass:function(node,classes){return node.attr&&(node=node[0]),jqLiteRemoveClass(node,classes)}})}}function hashKey(obj,nextUidFn){var key=obj&&obj.$$hashKey;if(key)return"function"==typeof key&&(key=obj.$$hashKey()),key;var objType=typeof obj;return key="function"==objType||"object"==objType&&null!==obj?obj.$$hashKey=objType+":"+(nextUidFn||nextUid)():objType+":"+obj}function HashMap(array,isolatedUid){if(isolatedUid){var uid=0;this.nextUid=function(){return++uid}}forEach(array,this.put,this)}function anonFn(fn){var fnText=fn.toString().replace(STRIP_COMMENTS,""),args=fnText.match(FN_ARGS);return args?"function("+(args[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function annotate(fn,strictDi,name){var $inject,fnText,argDecl,last;if("function"==typeof fn){if(!($inject=fn.$inject)){if($inject=[],fn.length){if(strictDi)throw isString(name)&&name||(name=fn.name||anonFn(fn)),$injectorMinErr("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",name);fnText=fn.toString().replace(STRIP_COMMENTS,""),argDecl=fnText.match(FN_ARGS),forEach(argDecl[1].split(FN_ARG_SPLIT),function(arg){arg.replace(FN_ARG,function(all,underscore,name){$inject.push(name)})})}fn.$inject=$inject}}else isArray(fn)?(last=fn.length-1,assertArgFn(fn[last],"fn"),$inject=fn.slice(0,last)):assertArgFn(fn,"fn",!0);return $inject}function createInjector(modulesToLoad,strictDi){function supportObject(delegate){return function(key,value){return isObject(key)?void forEach(key,reverseParams(delegate)):delegate(key,value)}}function provider(name,provider_){if(assertNotHasOwnProperty(name,"service"),(isFunction(provider_)||isArray(provider_))&&(provider_=providerInjector.instantiate(provider_)),!provider_.$get)throw $injectorMinErr("pget","Provider '{0}' must define $get factory method.",name);return providerCache[name+providerSuffix]=provider_}function enforceReturnValue(name,factory){return function(){var result=instanceInjector.invoke(factory,this);if(isUndefined(result))throw $injectorMinErr("undef","Provider '{0}' must return a value from $get factory method.",name);return result}}function factory(name,factoryFn,enforce){return provider(name,{$get:enforce!==!1?enforceReturnValue(name,factoryFn):factoryFn})}function service(name,constructor){return factory(name,["$injector",function($injector){return $injector.instantiate(constructor)}])}function value(name,val){return factory(name,valueFn(val),!1)}function constant(name,value){assertNotHasOwnProperty(name,"constant"),providerCache[name]=value,instanceCache[name]=value}function decorator(serviceName,decorFn){var origProvider=providerInjector.get(serviceName+providerSuffix),orig$get=origProvider.$get;origProvider.$get=function(){var origInstance=instanceInjector.invoke(orig$get,origProvider);return instanceInjector.invoke(decorFn,null,{$delegate:origInstance})}}function loadModules(modulesToLoad){var moduleFn,runBlocks=[];return forEach(modulesToLoad,function(module){function runInvokeQueue(queue){var i,ii;for(i=0,ii=queue.length;ii>i;i++){var invokeArgs=queue[i],provider=providerInjector.get(invokeArgs[0]);provider[invokeArgs[1]].apply(provider,invokeArgs[2])}}if(!loadedModules.get(module)){loadedModules.put(module,!0);try{isString(module)?(moduleFn=angularModule(module),runBlocks=runBlocks.concat(loadModules(moduleFn.requires)).concat(moduleFn._runBlocks),runInvokeQueue(moduleFn._invokeQueue),runInvokeQueue(moduleFn._configBlocks)):isFunction(module)?runBlocks.push(providerInjector.invoke(module)):isArray(module)?runBlocks.push(providerInjector.invoke(module)):assertArgFn(module,"module")}catch(e){throw isArray(module)&&(module=module[module.length-1]),e.message&&e.stack&&-1==e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),$injectorMinErr("modulerr","Failed to instantiate module {0} due to:\n{1}",module,e.stack||e.message||e)}}}),runBlocks}function createInternalInjector(cache,factory){function getService(serviceName,caller){if(cache.hasOwnProperty(serviceName)){if(cache[serviceName]===INSTANTIATING)throw $injectorMinErr("cdep","Circular dependency found: {0}",serviceName+" <- "+path.join(" <- "));return cache[serviceName]}try{return path.unshift(serviceName),cache[serviceName]=INSTANTIATING,cache[serviceName]=factory(serviceName,caller)}catch(err){throw cache[serviceName]===INSTANTIATING&&delete cache[serviceName],err}finally{path.shift()}}function invoke(fn,self,locals,serviceName){"string"==typeof locals&&(serviceName=locals,locals=null);var length,i,key,args=[],$inject=annotate(fn,strictDi,serviceName);for(i=0,length=$inject.length;length>i;i++){if(key=$inject[i],"string"!=typeof key)throw $injectorMinErr("itkn","Incorrect injection token! Expected service name as string, got {0}",key);args.push(locals&&locals.hasOwnProperty(key)?locals[key]:getService(key,serviceName))}return isArray(fn)&&(fn=fn[length]),fn.apply(self,args)}function instantiate(Type,locals,serviceName){var instance=Object.create((isArray(Type)?Type[Type.length-1]:Type).prototype||null),returnedValue=invoke(Type,instance,locals,serviceName);return isObject(returnedValue)||isFunction(returnedValue)?returnedValue:instance}return{invoke:invoke,instantiate:instantiate,get:getService,annotate:annotate,has:function(name){return providerCache.hasOwnProperty(name+providerSuffix)||cache.hasOwnProperty(name)}}}strictDi=strictDi===!0;var INSTANTIATING={},providerSuffix="Provider",path=[],loadedModules=new HashMap([],!0),providerCache={$provide:{provider:supportObject(provider),factory:supportObject(factory),service:supportObject(service),value:supportObject(value),constant:supportObject(constant),decorator:decorator}},providerInjector=providerCache.$injector=createInternalInjector(providerCache,function(serviceName,caller){throw angular.isString(caller)&&path.push(caller),$injectorMinErr("unpr","Unknown provider: {0}",path.join(" <- "))}),instanceCache={},instanceInjector=instanceCache.$injector=createInternalInjector(instanceCache,function(serviceName,caller){var provider=providerInjector.get(serviceName+providerSuffix,caller);
return instanceInjector.invoke(provider.$get,provider,undefined,serviceName)});return forEach(loadModules(modulesToLoad),function(fn){instanceInjector.invoke(fn||noop)}),instanceInjector}function $AnchorScrollProvider(){var autoScrollingEnabled=!0;this.disableAutoScrolling=function(){autoScrollingEnabled=!1},this.$get=["$window","$location","$rootScope",function($window,$location,$rootScope){function getFirstAnchor(list){var result=null;return Array.prototype.some.call(list,function(element){return"a"===nodeName_(element)?(result=element,!0):void 0}),result}function getYOffset(){var offset=scroll.yOffset;if(isFunction(offset))offset=offset();else if(isElement(offset)){var elem=offset[0],style=$window.getComputedStyle(elem);offset="fixed"!==style.position?0:elem.getBoundingClientRect().bottom}else isNumber(offset)||(offset=0);return offset}function scrollTo(elem){if(elem){elem.scrollIntoView();var offset=getYOffset();if(offset){var elemTop=elem.getBoundingClientRect().top;$window.scrollBy(0,elemTop-offset)}}else $window.scrollTo(0,0)}function scroll(){var elm,hash=$location.hash();hash?(elm=document.getElementById(hash))?scrollTo(elm):(elm=getFirstAnchor(document.getElementsByName(hash)))?scrollTo(elm):"top"===hash&&scrollTo(null):scrollTo(null)}var document=$window.document;return autoScrollingEnabled&&$rootScope.$watch(function(){return $location.hash()},function(newVal,oldVal){(newVal!==oldVal||""!==newVal)&&jqLiteDocumentLoaded(function(){$rootScope.$evalAsync(scroll)})}),scroll}]}function $$AsyncCallbackProvider(){this.$get=["$$rAF","$timeout",function($$rAF,$timeout){return $$rAF.supported?function(fn){return $$rAF(fn)}:function(fn){return $timeout(fn,0,!1)}}]}function Browser(window,document,$log,$sniffer){function completeOutstandingRequest(fn){try{fn.apply(null,sliceArgs(arguments,1))}finally{if(outstandingRequestCount--,0===outstandingRequestCount)for(;outstandingRequestCallbacks.length;)try{outstandingRequestCallbacks.pop()()}catch(e){$log.error(e)}}}function getHash(url){var index=url.indexOf("#");return-1===index?"":url.substr(index+1)}function startPoller(interval,setTimeout){!function check(){forEach(pollFns,function(pollFn){pollFn()}),pollTimeout=setTimeout(check,interval)}()}function cacheStateAndFireUrlChange(){cacheState(),fireUrlChange()}function cacheState(){cachedState=window.history.state,cachedState=isUndefined(cachedState)?null:cachedState,equals(cachedState,lastCachedState)&&(cachedState=lastCachedState),lastCachedState=cachedState}function fireUrlChange(){(lastBrowserUrl!==self.url()||lastHistoryState!==cachedState)&&(lastBrowserUrl=self.url(),lastHistoryState=cachedState,forEach(urlChangeListeners,function(listener){listener(self.url(),cachedState)}))}function safeDecodeURIComponent(str){try{return decodeURIComponent(str)}catch(e){return str}}var self=this,rawDocument=document[0],location=window.location,history=window.history,setTimeout=window.setTimeout,clearTimeout=window.clearTimeout,pendingDeferIds={};self.isMock=!1;var outstandingRequestCount=0,outstandingRequestCallbacks=[];self.$$completeOutstandingRequest=completeOutstandingRequest,self.$$incOutstandingRequestCount=function(){outstandingRequestCount++},self.notifyWhenNoOutstandingRequests=function(callback){forEach(pollFns,function(pollFn){pollFn()}),0===outstandingRequestCount?callback():outstandingRequestCallbacks.push(callback)};var pollTimeout,pollFns=[];self.addPollFn=function(fn){return isUndefined(pollTimeout)&&startPoller(100,setTimeout),pollFns.push(fn),fn};var cachedState,lastHistoryState,lastBrowserUrl=location.href,baseElement=document.find("base"),reloadLocation=null;cacheState(),lastHistoryState=cachedState,self.url=function(url,replace,state){if(isUndefined(state)&&(state=null),location!==window.location&&(location=window.location),history!==window.history&&(history=window.history),url){var sameState=lastHistoryState===state;if(lastBrowserUrl===url&&(!$sniffer.history||sameState))return self;var sameBase=lastBrowserUrl&&stripHash(lastBrowserUrl)===stripHash(url);return lastBrowserUrl=url,lastHistoryState=state,!$sniffer.history||sameBase&&sameState?(sameBase||(reloadLocation=url),replace?location.replace(url):sameBase?location.hash=getHash(url):location.href=url):(history[replace?"replaceState":"pushState"](state,"",url),cacheState(),lastHistoryState=cachedState),self}return reloadLocation||location.href.replace(/%27/g,"'")},self.state=function(){return cachedState};var urlChangeListeners=[],urlChangeInit=!1,lastCachedState=null;self.onUrlChange=function(callback){return urlChangeInit||($sniffer.history&&jqLite(window).on("popstate",cacheStateAndFireUrlChange),jqLite(window).on("hashchange",cacheStateAndFireUrlChange),urlChangeInit=!0),urlChangeListeners.push(callback),callback},self.$$checkUrlChange=fireUrlChange,self.baseHref=function(){var href=baseElement.attr("href");return href?href.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var lastCookies={},lastCookieString="",cookiePath=self.baseHref();self.cookies=function(name,value){var cookieLength,cookieArray,cookie,i,index;if(!name){if(rawDocument.cookie!==lastCookieString)for(lastCookieString=rawDocument.cookie,cookieArray=lastCookieString.split("; "),lastCookies={},i=0;i<cookieArray.length;i++)cookie=cookieArray[i],index=cookie.indexOf("="),index>0&&(name=safeDecodeURIComponent(cookie.substring(0,index)),lastCookies[name]===undefined&&(lastCookies[name]=safeDecodeURIComponent(cookie.substring(index+1))));return lastCookies}value===undefined?rawDocument.cookie=encodeURIComponent(name)+"=;path="+cookiePath+";expires=Thu, 01 Jan 1970 00:00:00 GMT":isString(value)&&(cookieLength=(rawDocument.cookie=encodeURIComponent(name)+"="+encodeURIComponent(value)+";path="+cookiePath).length+1,cookieLength>4096&&$log.warn("Cookie '"+name+"' possibly not set or overflowed because it was too large ("+cookieLength+" > 4096 bytes)!"))},self.defer=function(fn,delay){var timeoutId;return outstandingRequestCount++,timeoutId=setTimeout(function(){delete pendingDeferIds[timeoutId],completeOutstandingRequest(fn)},delay||0),pendingDeferIds[timeoutId]=!0,timeoutId},self.defer.cancel=function(deferId){return pendingDeferIds[deferId]?(delete pendingDeferIds[deferId],clearTimeout(deferId),completeOutstandingRequest(noop),!0):!1}}function $BrowserProvider(){this.$get=["$window","$log","$sniffer","$document",function($window,$log,$sniffer,$document){return new Browser($window,$document,$log,$sniffer)}]}function $CacheFactoryProvider(){this.$get=function(){function cacheFactory(cacheId,options){function refresh(entry){entry!=freshEnd&&(staleEnd?staleEnd==entry&&(staleEnd=entry.n):staleEnd=entry,link(entry.n,entry.p),link(entry,freshEnd),freshEnd=entry,freshEnd.n=null)}function link(nextEntry,prevEntry){nextEntry!=prevEntry&&(nextEntry&&(nextEntry.p=prevEntry),prevEntry&&(prevEntry.n=nextEntry))}if(cacheId in caches)throw minErr("$cacheFactory")("iid","CacheId '{0}' is already taken!",cacheId);var size=0,stats=extend({},options,{id:cacheId}),data={},capacity=options&&options.capacity||Number.MAX_VALUE,lruHash={},freshEnd=null,staleEnd=null;return caches[cacheId]={put:function(key,value){if(capacity<Number.MAX_VALUE){var lruEntry=lruHash[key]||(lruHash[key]={key:key});refresh(lruEntry)}if(!isUndefined(value))return key in data||size++,data[key]=value,size>capacity&&this.remove(staleEnd.key),value},get:function(key){if(capacity<Number.MAX_VALUE){var lruEntry=lruHash[key];if(!lruEntry)return;refresh(lruEntry)}return data[key]},remove:function(key){if(capacity<Number.MAX_VALUE){var lruEntry=lruHash[key];if(!lruEntry)return;lruEntry==freshEnd&&(freshEnd=lruEntry.p),lruEntry==staleEnd&&(staleEnd=lruEntry.n),link(lruEntry.n,lruEntry.p),delete lruHash[key]}delete data[key],size--},removeAll:function(){data={},size=0,lruHash={},freshEnd=staleEnd=null},destroy:function(){data=null,stats=null,lruHash=null,delete caches[cacheId]},info:function(){return extend({},stats,{size:size})}}}var caches={};return cacheFactory.info=function(){var info={};return forEach(caches,function(cache,cacheId){info[cacheId]=cache.info()}),info},cacheFactory.get=function(cacheId){return caches[cacheId]},cacheFactory}}function $TemplateCacheProvider(){this.$get=["$cacheFactory",function($cacheFactory){return $cacheFactory("templates")}]}function $CompileProvider($provide,$$sanitizeUriProvider){function parseIsolateBindings(scope,directiveName){var LOCAL_REGEXP=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,bindings={};return forEach(scope,function(definition,scopeName){var match=definition.match(LOCAL_REGEXP);if(!match)throw $compileMinErr("iscp","Invalid isolate scope definition for directive '{0}'. Definition: {... {1}: '{2}' ...}",directiveName,scopeName,definition);bindings[scopeName]={mode:match[1][0],collection:"*"===match[2],optional:"?"===match[3],attrName:match[4]||scopeName}}),bindings}var hasDirectives={},Suffix="Directive",COMMENT_DIRECTIVE_REGEXP=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,CLASS_DIRECTIVE_REGEXP=/(([\w\-]+)(?:\:([^;]+))?;?)/,ALL_OR_NOTHING_ATTRS=makeMap("ngSrc,ngSrcset,src,srcset"),REQUIRE_PREFIX_REGEXP=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,EVENT_HANDLER_ATTR_REGEXP=/^(on[a-z]+|formaction)$/;this.directive=function registerDirective(name,directiveFactory){return assertNotHasOwnProperty(name,"directive"),isString(name)?(assertArg(directiveFactory,"directiveFactory"),hasDirectives.hasOwnProperty(name)||(hasDirectives[name]=[],$provide.factory(name+Suffix,["$injector","$exceptionHandler",function($injector,$exceptionHandler){var directives=[];return forEach(hasDirectives[name],function(directiveFactory,index){try{var directive=$injector.invoke(directiveFactory);isFunction(directive)?directive={compile:valueFn(directive)}:!directive.compile&&directive.link&&(directive.compile=valueFn(directive.link)),directive.priority=directive.priority||0,directive.index=index,directive.name=directive.name||name,directive.require=directive.require||directive.controller&&directive.name,directive.restrict=directive.restrict||"EA",isObject(directive.scope)&&(directive.$$isolateBindings=parseIsolateBindings(directive.scope,directive.name)),directives.push(directive)}catch(e){$exceptionHandler(e)}}),directives}])),hasDirectives[name].push(directiveFactory)):forEach(name,reverseParams(registerDirective)),this},this.aHrefSanitizationWhitelist=function(regexp){return isDefined(regexp)?($$sanitizeUriProvider.aHrefSanitizationWhitelist(regexp),this):$$sanitizeUriProvider.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(regexp){return isDefined(regexp)?($$sanitizeUriProvider.imgSrcSanitizationWhitelist(regexp),this):$$sanitizeUriProvider.imgSrcSanitizationWhitelist()};var debugInfoEnabled=!0;this.debugInfoEnabled=function(enabled){return isDefined(enabled)?(debugInfoEnabled=enabled,this):debugInfoEnabled},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function($injector,$interpolate,$exceptionHandler,$templateRequest,$parse,$controller,$rootScope,$document,$sce,$animate,$$sanitizeUri){function safeAddClass($element,className){try{$element.addClass(className)}catch(e){}}function compile($compileNodes,transcludeFn,maxPriority,ignoreDirective,previousCompileContext){$compileNodes instanceof jqLite||($compileNodes=jqLite($compileNodes)),forEach($compileNodes,function(node,index){node.nodeType==NODE_TYPE_TEXT&&node.nodeValue.match(/\S+/)&&($compileNodes[index]=jqLite(node).wrap("<span></span>").parent()[0])});var compositeLinkFn=compileNodes($compileNodes,transcludeFn,$compileNodes,maxPriority,ignoreDirective,previousCompileContext);compile.$$addScopeClass($compileNodes);var namespace=null;return function(scope,cloneConnectFn,options){assertArg(scope,"scope"),options=options||{};var parentBoundTranscludeFn=options.parentBoundTranscludeFn,transcludeControllers=options.transcludeControllers,futureParentElement=options.futureParentElement;parentBoundTranscludeFn&&parentBoundTranscludeFn.$$boundTransclude&&(parentBoundTranscludeFn=parentBoundTranscludeFn.$$boundTransclude),namespace||(namespace=detectNamespaceForChildElements(futureParentElement));var $linkNode;if($linkNode="html"!==namespace?jqLite(wrapTemplate(namespace,jqLite("<div>").append($compileNodes).html())):cloneConnectFn?JQLitePrototype.clone.call($compileNodes):$compileNodes,transcludeControllers)for(var controllerName in transcludeControllers)$linkNode.data("$"+controllerName+"Controller",transcludeControllers[controllerName].instance);return compile.$$addScopeInfo($linkNode,scope),cloneConnectFn&&cloneConnectFn($linkNode,scope),compositeLinkFn&&compositeLinkFn(scope,$linkNode,$linkNode,parentBoundTranscludeFn),$linkNode}}function detectNamespaceForChildElements(parentElement){var node=parentElement&&parentElement[0];return node&&"foreignobject"!==nodeName_(node)&&node.toString().match(/SVG/)?"svg":"html"}function compileNodes(nodeList,transcludeFn,$rootElement,maxPriority,ignoreDirective,previousCompileContext){function compositeLinkFn(scope,nodeList,$rootElement,parentBoundTranscludeFn){var nodeLinkFn,childLinkFn,node,childScope,i,ii,idx,childBoundTranscludeFn,stableNodeList;if(nodeLinkFnFound){var nodeListLength=nodeList.length;for(stableNodeList=new Array(nodeListLength),i=0;i<linkFns.length;i+=3)idx=linkFns[i],stableNodeList[idx]=nodeList[idx]}else stableNodeList=nodeList;for(i=0,ii=linkFns.length;ii>i;)node=stableNodeList[linkFns[i++]],nodeLinkFn=linkFns[i++],childLinkFn=linkFns[i++],nodeLinkFn?(nodeLinkFn.scope?(childScope=scope.$new(),compile.$$addScopeInfo(jqLite(node),childScope)):childScope=scope,childBoundTranscludeFn=nodeLinkFn.transcludeOnThisElement?createBoundTranscludeFn(scope,nodeLinkFn.transclude,parentBoundTranscludeFn,nodeLinkFn.elementTranscludeOnThisElement):!nodeLinkFn.templateOnThisElement&&parentBoundTranscludeFn?parentBoundTranscludeFn:!parentBoundTranscludeFn&&transcludeFn?createBoundTranscludeFn(scope,transcludeFn):null,nodeLinkFn(childLinkFn,childScope,node,$rootElement,childBoundTranscludeFn)):childLinkFn&&childLinkFn(scope,node.childNodes,undefined,parentBoundTranscludeFn)}for(var attrs,directives,nodeLinkFn,childNodes,childLinkFn,linkFnFound,nodeLinkFnFound,linkFns=[],i=0;i<nodeList.length;i++)attrs=new Attributes,directives=collectDirectives(nodeList[i],[],attrs,0===i?maxPriority:undefined,ignoreDirective),nodeLinkFn=directives.length?applyDirectivesToNode(directives,nodeList[i],attrs,transcludeFn,$rootElement,null,[],[],previousCompileContext):null,nodeLinkFn&&nodeLinkFn.scope&&compile.$$addScopeClass(attrs.$$element),childLinkFn=nodeLinkFn&&nodeLinkFn.terminal||!(childNodes=nodeList[i].childNodes)||!childNodes.length?null:compileNodes(childNodes,nodeLinkFn?(nodeLinkFn.transcludeOnThisElement||!nodeLinkFn.templateOnThisElement)&&nodeLinkFn.transclude:transcludeFn),(nodeLinkFn||childLinkFn)&&(linkFns.push(i,nodeLinkFn,childLinkFn),linkFnFound=!0,nodeLinkFnFound=nodeLinkFnFound||nodeLinkFn),previousCompileContext=null;return linkFnFound?compositeLinkFn:null}function createBoundTranscludeFn(scope,transcludeFn,previousBoundTranscludeFn){var boundTranscludeFn=function(transcludedScope,cloneFn,controllers,futureParentElement,containingScope){return transcludedScope||(transcludedScope=scope.$new(!1,containingScope),transcludedScope.$$transcluded=!0),transcludeFn(transcludedScope,cloneFn,{parentBoundTranscludeFn:previousBoundTranscludeFn,transcludeControllers:controllers,futureParentElement:futureParentElement})};return boundTranscludeFn}function collectDirectives(node,directives,attrs,maxPriority,ignoreDirective){var match,className,nodeType=node.nodeType,attrsMap=attrs.$attr;switch(nodeType){case NODE_TYPE_ELEMENT:addDirective(directives,directiveNormalize(nodeName_(node)),"E",maxPriority,ignoreDirective);for(var attr,name,nName,ngAttrName,value,isNgAttr,nAttrs=node.attributes,j=0,jj=nAttrs&&nAttrs.length;jj>j;j++){var attrStartName=!1,attrEndName=!1;attr=nAttrs[j],name=attr.name,value=trim(attr.value),ngAttrName=directiveNormalize(name),(isNgAttr=NG_ATTR_BINDING.test(ngAttrName))&&(name=name.replace(PREFIX_REGEXP,"").substr(8).replace(/_(.)/g,function(match,letter){return letter.toUpperCase()}));var directiveNName=ngAttrName.replace(/(Start|End)$/,"");directiveIsMultiElement(directiveNName)&&ngAttrName===directiveNName+"Start"&&(attrStartName=name,attrEndName=name.substr(0,name.length-5)+"end",name=name.substr(0,name.length-6)),nName=directiveNormalize(name.toLowerCase()),attrsMap[nName]=name,(isNgAttr||!attrs.hasOwnProperty(nName))&&(attrs[nName]=value,getBooleanAttrName(node,nName)&&(attrs[nName]=!0)),addAttrInterpolateDirective(node,directives,value,nName,isNgAttr),addDirective(directives,nName,"A",maxPriority,ignoreDirective,attrStartName,attrEndName)}if(className=node.className,isObject(className)&&(className=className.animVal),isString(className)&&""!==className)for(;match=CLASS_DIRECTIVE_REGEXP.exec(className);)nName=directiveNormalize(match[2]),addDirective(directives,nName,"C",maxPriority,ignoreDirective)&&(attrs[nName]=trim(match[3])),className=className.substr(match.index+match[0].length);break;case NODE_TYPE_TEXT:addTextInterpolateDirective(directives,node.nodeValue);break;case NODE_TYPE_COMMENT:try{match=COMMENT_DIRECTIVE_REGEXP.exec(node.nodeValue),match&&(nName=directiveNormalize(match[1]),addDirective(directives,nName,"M",maxPriority,ignoreDirective)&&(attrs[nName]=trim(match[2])))}catch(e){}}return directives.sort(byPriority),directives}function groupScan(node,attrStart,attrEnd){var nodes=[],depth=0;if(attrStart&&node.hasAttribute&&node.hasAttribute(attrStart)){do{if(!node)throw $compileMinErr("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",attrStart,attrEnd);node.nodeType==NODE_TYPE_ELEMENT&&(node.hasAttribute(attrStart)&&depth++,node.hasAttribute(attrEnd)&&depth--),nodes.push(node),node=node.nextSibling}while(depth>0)}else nodes.push(node);return jqLite(nodes)}function groupElementsLinkFnWrapper(linkFn,attrStart,attrEnd){return function(scope,element,attrs,controllers,transcludeFn){return element=groupScan(element[0],attrStart,attrEnd),linkFn(scope,element,attrs,controllers,transcludeFn)}}function applyDirectivesToNode(directives,compileNode,templateAttrs,transcludeFn,jqCollection,originalReplaceDirective,preLinkFns,postLinkFns,previousCompileContext){function addLinkFns(pre,post,attrStart,attrEnd){pre&&(attrStart&&(pre=groupElementsLinkFnWrapper(pre,attrStart,attrEnd)),pre.require=directive.require,pre.directiveName=directiveName,(newIsolateScopeDirective===directive||directive.$$isolateScope)&&(pre=cloneAndAnnotateFn(pre,{isolateScope:!0})),preLinkFns.push(pre)),post&&(attrStart&&(post=groupElementsLinkFnWrapper(post,attrStart,attrEnd)),post.require=directive.require,post.directiveName=directiveName,(newIsolateScopeDirective===directive||directive.$$isolateScope)&&(post=cloneAndAnnotateFn(post,{isolateScope:!0})),postLinkFns.push(post))}function getControllers(directiveName,require,$element,elementControllers){var value,match,retrievalMethod="data",optional=!1,$searchElement=$element;if(isString(require)){if(match=require.match(REQUIRE_PREFIX_REGEXP),require=require.substring(match[0].length),match[3]&&(match[1]?match[3]=null:match[1]=match[3]),"^"===match[1]?retrievalMethod="inheritedData":"^^"===match[1]&&(retrievalMethod="inheritedData",$searchElement=$element.parent()),"?"===match[2]&&(optional=!0),value=null,elementControllers&&"data"===retrievalMethod&&(value=elementControllers[require])&&(value=value.instance),value=value||$searchElement[retrievalMethod]("$"+require+"Controller"),!value&&!optional)throw $compileMinErr("ctreq","Controller '{0}', required by directive '{1}', can't be found!",require,directiveName);return value||null}return isArray(require)&&(value=[],forEach(require,function(require){value.push(getControllers(directiveName,require,$element,elementControllers))})),value}function nodeLinkFn(childLinkFn,scope,linkNode,$rootElement,boundTranscludeFn){function controllersBoundTransclude(scope,cloneAttachFn,futureParentElement){var transcludeControllers;return isScope(scope)||(futureParentElement=cloneAttachFn,cloneAttachFn=scope,scope=undefined),hasElementTranscludeDirective&&(transcludeControllers=elementControllers),futureParentElement||(futureParentElement=hasElementTranscludeDirective?$element.parent():$element),boundTranscludeFn(scope,cloneAttachFn,transcludeControllers,futureParentElement,scopeToChild)}var i,ii,linkFn,controller,isolateScope,elementControllers,transcludeFn,$element,attrs;if(compileNode===linkNode?(attrs=templateAttrs,$element=templateAttrs.$$element):($element=jqLite(linkNode),attrs=new Attributes($element,templateAttrs)),newIsolateScopeDirective&&(isolateScope=scope.$new(!0)),boundTranscludeFn&&(transcludeFn=controllersBoundTransclude,transcludeFn.$$boundTransclude=boundTranscludeFn),controllerDirectives&&(controllers={},elementControllers={},forEach(controllerDirectives,function(directive){var controllerInstance,locals={$scope:directive===newIsolateScopeDirective||directive.$$isolateScope?isolateScope:scope,$element:$element,$attrs:attrs,$transclude:transcludeFn};controller=directive.controller,"@"==controller&&(controller=attrs[directive.name]),controllerInstance=$controller(controller,locals,!0,directive.controllerAs),elementControllers[directive.name]=controllerInstance,hasElementTranscludeDirective||$element.data("$"+directive.name+"Controller",controllerInstance.instance),controllers[directive.name]=controllerInstance})),newIsolateScopeDirective){compile.$$addScopeInfo($element,isolateScope,!0,!(templateDirective&&(templateDirective===newIsolateScopeDirective||templateDirective===newIsolateScopeDirective.$$originalDirective))),compile.$$addScopeClass($element,!0);var isolateScopeController=controllers&&controllers[newIsolateScopeDirective.name],isolateBindingContext=isolateScope;isolateScopeController&&isolateScopeController.identifier&&newIsolateScopeDirective.bindToController===!0&&(isolateBindingContext=isolateScopeController.instance),forEach(isolateScope.$$isolateBindings=newIsolateScopeDirective.$$isolateBindings,function(definition,scopeName){var lastValue,parentGet,parentSet,compare,attrName=definition.attrName,optional=definition.optional,mode=definition.mode;switch(mode){case"@":attrs.$observe(attrName,function(value){isolateBindingContext[scopeName]=value}),attrs.$$observers[attrName].$$scope=scope,attrs[attrName]&&(isolateBindingContext[scopeName]=$interpolate(attrs[attrName])(scope));break;case"=":if(optional&&!attrs[attrName])return;parentGet=$parse(attrs[attrName]),compare=parentGet.literal?equals:function(a,b){return a===b||a!==a&&b!==b},parentSet=parentGet.assign||function(){throw lastValue=isolateBindingContext[scopeName]=parentGet(scope),$compileMinErr("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",attrs[attrName],newIsolateScopeDirective.name)},lastValue=isolateBindingContext[scopeName]=parentGet(scope);var parentValueWatch=function(parentValue){return compare(parentValue,isolateBindingContext[scopeName])||(compare(parentValue,lastValue)?parentSet(scope,parentValue=isolateBindingContext[scopeName]):isolateBindingContext[scopeName]=parentValue),lastValue=parentValue};parentValueWatch.$stateful=!0;var unwatch;unwatch=definition.collection?scope.$watchCollection(attrs[attrName],parentValueWatch):scope.$watch($parse(attrs[attrName],parentValueWatch),null,parentGet.literal),isolateScope.$on("$destroy",unwatch);break;case"&":parentGet=$parse(attrs[attrName]),isolateBindingContext[scopeName]=function(locals){return parentGet(scope,locals)}}})}for(controllers&&(forEach(controllers,function(controller){controller()}),controllers=null),i=0,ii=preLinkFns.length;ii>i;i++)linkFn=preLinkFns[i],invokeLinkFn(linkFn,linkFn.isolateScope?isolateScope:scope,$element,attrs,linkFn.require&&getControllers(linkFn.directiveName,linkFn.require,$element,elementControllers),transcludeFn);var scopeToChild=scope;for(newIsolateScopeDirective&&(newIsolateScopeDirective.template||null===newIsolateScopeDirective.templateUrl)&&(scopeToChild=isolateScope),childLinkFn&&childLinkFn(scopeToChild,linkNode.childNodes,undefined,boundTranscludeFn),i=postLinkFns.length-1;i>=0;i--)linkFn=postLinkFns[i],invokeLinkFn(linkFn,linkFn.isolateScope?isolateScope:scope,$element,attrs,linkFn.require&&getControllers(linkFn.directiveName,linkFn.require,$element,elementControllers),transcludeFn)}previousCompileContext=previousCompileContext||{};for(var newScopeDirective,controllers,directive,directiveName,$template,linkFn,directiveValue,terminalPriority=-Number.MAX_VALUE,controllerDirectives=previousCompileContext.controllerDirectives,newIsolateScopeDirective=previousCompileContext.newIsolateScopeDirective,templateDirective=previousCompileContext.templateDirective,nonTlbTranscludeDirective=previousCompileContext.nonTlbTranscludeDirective,hasTranscludeDirective=!1,hasTemplate=!1,hasElementTranscludeDirective=previousCompileContext.hasElementTranscludeDirective,$compileNode=templateAttrs.$$element=jqLite(compileNode),replaceDirective=originalReplaceDirective,childTranscludeFn=transcludeFn,i=0,ii=directives.length;ii>i;i++){directive=directives[i];var attrStart=directive.$$start,attrEnd=directive.$$end;if(attrStart&&($compileNode=groupScan(compileNode,attrStart,attrEnd)),$template=undefined,terminalPriority>directive.priority)break;if((directiveValue=directive.scope)&&(directive.templateUrl||(isObject(directiveValue)?(assertNoDuplicate("new/isolated scope",newIsolateScopeDirective||newScopeDirective,directive,$compileNode),newIsolateScopeDirective=directive):assertNoDuplicate("new/isolated scope",newIsolateScopeDirective,directive,$compileNode)),newScopeDirective=newScopeDirective||directive),directiveName=directive.name,!directive.templateUrl&&directive.controller&&(directiveValue=directive.controller,controllerDirectives=controllerDirectives||{},assertNoDuplicate("'"+directiveName+"' controller",controllerDirectives[directiveName],directive,$compileNode),controllerDirectives[directiveName]=directive),(directiveValue=directive.transclude)&&(hasTranscludeDirective=!0,directive.$$tlb||(assertNoDuplicate("transclusion",nonTlbTranscludeDirective,directive,$compileNode),nonTlbTranscludeDirective=directive),"element"==directiveValue?(hasElementTranscludeDirective=!0,terminalPriority=directive.priority,$template=$compileNode,$compileNode=templateAttrs.$$element=jqLite(document.createComment(" "+directiveName+": "+templateAttrs[directiveName]+" ")),compileNode=$compileNode[0],replaceWith(jqCollection,sliceArgs($template),compileNode),childTranscludeFn=compile($template,transcludeFn,terminalPriority,replaceDirective&&replaceDirective.name,{nonTlbTranscludeDirective:nonTlbTranscludeDirective})):($template=jqLite(jqLiteClone(compileNode)).contents(),$compileNode.empty(),childTranscludeFn=compile($template,transcludeFn))),directive.template)if(hasTemplate=!0,assertNoDuplicate("template",templateDirective,directive,$compileNode),templateDirective=directive,directiveValue=isFunction(directive.template)?directive.template($compileNode,templateAttrs):directive.template,directiveValue=denormalizeTemplate(directiveValue),directive.replace){if(replaceDirective=directive,$template=jqLiteIsTextNode(directiveValue)?[]:removeComments(wrapTemplate(directive.templateNamespace,trim(directiveValue))),compileNode=$template[0],1!=$template.length||compileNode.nodeType!==NODE_TYPE_ELEMENT)throw $compileMinErr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",directiveName,"");replaceWith(jqCollection,$compileNode,compileNode);var newTemplateAttrs={$attr:{}},templateDirectives=collectDirectives(compileNode,[],newTemplateAttrs),unprocessedDirectives=directives.splice(i+1,directives.length-(i+1));newIsolateScopeDirective&&markDirectivesAsIsolate(templateDirectives),directives=directives.concat(templateDirectives).concat(unprocessedDirectives),mergeTemplateAttributes(templateAttrs,newTemplateAttrs),ii=directives.length}else $compileNode.html(directiveValue);if(directive.templateUrl)hasTemplate=!0,assertNoDuplicate("template",templateDirective,directive,$compileNode),templateDirective=directive,directive.replace&&(replaceDirective=directive),nodeLinkFn=compileTemplateUrl(directives.splice(i,directives.length-i),$compileNode,templateAttrs,jqCollection,hasTranscludeDirective&&childTranscludeFn,preLinkFns,postLinkFns,{controllerDirectives:controllerDirectives,newIsolateScopeDirective:newIsolateScopeDirective,templateDirective:templateDirective,nonTlbTranscludeDirective:nonTlbTranscludeDirective}),ii=directives.length;else if(directive.compile)try{linkFn=directive.compile($compileNode,templateAttrs,childTranscludeFn),isFunction(linkFn)?addLinkFns(null,linkFn,attrStart,attrEnd):linkFn&&addLinkFns(linkFn.pre,linkFn.post,attrStart,attrEnd)}catch(e){$exceptionHandler(e,startingTag($compileNode))}directive.terminal&&(nodeLinkFn.terminal=!0,terminalPriority=Math.max(terminalPriority,directive.priority))}return nodeLinkFn.scope=newScopeDirective&&newScopeDirective.scope===!0,nodeLinkFn.transcludeOnThisElement=hasTranscludeDirective,nodeLinkFn.elementTranscludeOnThisElement=hasElementTranscludeDirective,nodeLinkFn.templateOnThisElement=hasTemplate,nodeLinkFn.transclude=childTranscludeFn,previousCompileContext.hasElementTranscludeDirective=hasElementTranscludeDirective,nodeLinkFn}function markDirectivesAsIsolate(directives){for(var j=0,jj=directives.length;jj>j;j++)directives[j]=inherit(directives[j],{$$isolateScope:!0})}function addDirective(tDirectives,name,location,maxPriority,ignoreDirective,startAttrName,endAttrName){if(name===ignoreDirective)return null;var match=null;if(hasDirectives.hasOwnProperty(name))for(var directive,directives=$injector.get(name+Suffix),i=0,ii=directives.length;ii>i;i++)try{directive=directives[i],(maxPriority===undefined||maxPriority>directive.priority)&&-1!=directive.restrict.indexOf(location)&&(startAttrName&&(directive=inherit(directive,{$$start:startAttrName,$$end:endAttrName})),tDirectives.push(directive),match=directive)}catch(e){$exceptionHandler(e)}return match}function directiveIsMultiElement(name){if(hasDirectives.hasOwnProperty(name))for(var directive,directives=$injector.get(name+Suffix),i=0,ii=directives.length;ii>i;i++)if(directive=directives[i],directive.multiElement)return!0;return!1}function mergeTemplateAttributes(dst,src){var srcAttr=src.$attr,dstAttr=dst.$attr,$element=dst.$$element;forEach(dst,function(value,key){"$"!=key.charAt(0)&&(src[key]&&src[key]!==value&&(value+=("style"===key?";":" ")+src[key]),dst.$set(key,value,!0,srcAttr[key]))}),forEach(src,function(value,key){"class"==key?(safeAddClass($element,value),dst["class"]=(dst["class"]?dst["class"]+" ":"")+value):"style"==key?($element.attr("style",$element.attr("style")+";"+value),dst.style=(dst.style?dst.style+";":"")+value):"$"==key.charAt(0)||dst.hasOwnProperty(key)||(dst[key]=value,dstAttr[key]=srcAttr[key])})}function compileTemplateUrl(directives,$compileNode,tAttrs,$rootElement,childTranscludeFn,preLinkFns,postLinkFns,previousCompileContext){var afterTemplateNodeLinkFn,afterTemplateChildLinkFn,linkQueue=[],beforeTemplateCompileNode=$compileNode[0],origAsyncDirective=directives.shift(),derivedSyncDirective=extend({},origAsyncDirective,{templateUrl:null,transclude:null,replace:null,$$originalDirective:origAsyncDirective}),templateUrl=isFunction(origAsyncDirective.templateUrl)?origAsyncDirective.templateUrl($compileNode,tAttrs):origAsyncDirective.templateUrl,templateNamespace=origAsyncDirective.templateNamespace;return $compileNode.empty(),$templateRequest($sce.getTrustedResourceUrl(templateUrl)).then(function(content){var compileNode,tempTemplateAttrs,$template,childBoundTranscludeFn;if(content=denormalizeTemplate(content),origAsyncDirective.replace){if($template=jqLiteIsTextNode(content)?[]:removeComments(wrapTemplate(templateNamespace,trim(content))),compileNode=$template[0],1!=$template.length||compileNode.nodeType!==NODE_TYPE_ELEMENT)throw $compileMinErr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",origAsyncDirective.name,templateUrl);
tempTemplateAttrs={$attr:{}},replaceWith($rootElement,$compileNode,compileNode);var templateDirectives=collectDirectives(compileNode,[],tempTemplateAttrs);isObject(origAsyncDirective.scope)&&markDirectivesAsIsolate(templateDirectives),directives=templateDirectives.concat(directives),mergeTemplateAttributes(tAttrs,tempTemplateAttrs)}else compileNode=beforeTemplateCompileNode,$compileNode.html(content);for(directives.unshift(derivedSyncDirective),afterTemplateNodeLinkFn=applyDirectivesToNode(directives,compileNode,tAttrs,childTranscludeFn,$compileNode,origAsyncDirective,preLinkFns,postLinkFns,previousCompileContext),forEach($rootElement,function(node,i){node==compileNode&&($rootElement[i]=$compileNode[0])}),afterTemplateChildLinkFn=compileNodes($compileNode[0].childNodes,childTranscludeFn);linkQueue.length;){var scope=linkQueue.shift(),beforeTemplateLinkNode=linkQueue.shift(),linkRootElement=linkQueue.shift(),boundTranscludeFn=linkQueue.shift(),linkNode=$compileNode[0];if(!scope.$$destroyed){if(beforeTemplateLinkNode!==beforeTemplateCompileNode){var oldClasses=beforeTemplateLinkNode.className;previousCompileContext.hasElementTranscludeDirective&&origAsyncDirective.replace||(linkNode=jqLiteClone(compileNode)),replaceWith(linkRootElement,jqLite(beforeTemplateLinkNode),linkNode),safeAddClass(jqLite(linkNode),oldClasses)}childBoundTranscludeFn=afterTemplateNodeLinkFn.transcludeOnThisElement?createBoundTranscludeFn(scope,afterTemplateNodeLinkFn.transclude,boundTranscludeFn):boundTranscludeFn,afterTemplateNodeLinkFn(afterTemplateChildLinkFn,scope,linkNode,$rootElement,childBoundTranscludeFn)}}linkQueue=null}),function(ignoreChildLinkFn,scope,node,rootElement,boundTranscludeFn){var childBoundTranscludeFn=boundTranscludeFn;scope.$$destroyed||(linkQueue?linkQueue.push(scope,node,rootElement,childBoundTranscludeFn):(afterTemplateNodeLinkFn.transcludeOnThisElement&&(childBoundTranscludeFn=createBoundTranscludeFn(scope,afterTemplateNodeLinkFn.transclude,boundTranscludeFn)),afterTemplateNodeLinkFn(afterTemplateChildLinkFn,scope,node,rootElement,childBoundTranscludeFn)))}}function byPriority(a,b){var diff=b.priority-a.priority;return 0!==diff?diff:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function assertNoDuplicate(what,previousDirective,directive,element){if(previousDirective)throw $compileMinErr("multidir","Multiple directives [{0}, {1}] asking for {2} on: {3}",previousDirective.name,directive.name,what,startingTag(element))}function addTextInterpolateDirective(directives,text){var interpolateFn=$interpolate(text,!0);interpolateFn&&directives.push({priority:0,compile:function(templateNode){var templateNodeParent=templateNode.parent(),hasCompileParent=!!templateNodeParent.length;return hasCompileParent&&compile.$$addBindingClass(templateNodeParent),function(scope,node){var parent=node.parent();hasCompileParent||compile.$$addBindingClass(parent),compile.$$addBindingInfo(parent,interpolateFn.expressions),scope.$watch(interpolateFn,function(value){node[0].nodeValue=value})}}})}function wrapTemplate(type,template){switch(type=lowercase(type||"html")){case"svg":case"math":var wrapper=document.createElement("div");return wrapper.innerHTML="<"+type+">"+template+"</"+type+">",wrapper.childNodes[0].childNodes;default:return template}}function getTrustedContext(node,attrNormalizedName){if("srcdoc"==attrNormalizedName)return $sce.HTML;var tag=nodeName_(node);return"xlinkHref"==attrNormalizedName||"form"==tag&&"action"==attrNormalizedName||"img"!=tag&&("src"==attrNormalizedName||"ngSrc"==attrNormalizedName)?$sce.RESOURCE_URL:void 0}function addAttrInterpolateDirective(node,directives,value,name,allOrNothing){var trustedContext=getTrustedContext(node,name);allOrNothing=ALL_OR_NOTHING_ATTRS[name]||allOrNothing;var interpolateFn=$interpolate(value,!0,trustedContext,allOrNothing);if(interpolateFn){if("multiple"===name&&"select"===nodeName_(node))throw $compileMinErr("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",startingTag(node));directives.push({priority:100,compile:function(){return{pre:function(scope,element,attr){var $$observers=attr.$$observers||(attr.$$observers={});if(EVENT_HANDLER_ATTR_REGEXP.test(name))throw $compileMinErr("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var newValue=attr[name];newValue!==value&&(interpolateFn=newValue&&$interpolate(newValue,!0,trustedContext,allOrNothing),value=newValue),interpolateFn&&(attr[name]=interpolateFn(scope),($$observers[name]||($$observers[name]=[])).$$inter=!0,(attr.$$observers&&attr.$$observers[name].$$scope||scope).$watch(interpolateFn,function(newValue,oldValue){"class"===name&&newValue!=oldValue?attr.$updateClass(newValue,oldValue):attr.$set(name,newValue)}))}}}})}}function replaceWith($rootElement,elementsToRemove,newNode){var i,ii,firstElementToRemove=elementsToRemove[0],removeCount=elementsToRemove.length,parent=firstElementToRemove.parentNode;if($rootElement)for(i=0,ii=$rootElement.length;ii>i;i++)if($rootElement[i]==firstElementToRemove){$rootElement[i++]=newNode;for(var j=i,j2=j+removeCount-1,jj=$rootElement.length;jj>j;j++,j2++)jj>j2?$rootElement[j]=$rootElement[j2]:delete $rootElement[j];$rootElement.length-=removeCount-1,$rootElement.context===firstElementToRemove&&($rootElement.context=newNode);break}parent&&parent.replaceChild(newNode,firstElementToRemove);var fragment=document.createDocumentFragment();fragment.appendChild(firstElementToRemove),jqLite(newNode).data(jqLite(firstElementToRemove).data()),jQuery?(skipDestroyOnNextJQueryCleanData=!0,jQuery.cleanData([firstElementToRemove])):delete jqLite.cache[firstElementToRemove[jqLite.expando]];for(var k=1,kk=elementsToRemove.length;kk>k;k++){var element=elementsToRemove[k];jqLite(element).remove(),fragment.appendChild(element),delete elementsToRemove[k]}elementsToRemove[0]=newNode,elementsToRemove.length=1}function cloneAndAnnotateFn(fn,annotation){return extend(function(){return fn.apply(null,arguments)},fn,annotation)}function invokeLinkFn(linkFn,scope,$element,attrs,controllers,transcludeFn){try{linkFn(scope,$element,attrs,controllers,transcludeFn)}catch(e){$exceptionHandler(e,startingTag($element))}}var Attributes=function(element,attributesToCopy){if(attributesToCopy){var i,l,key,keys=Object.keys(attributesToCopy);for(i=0,l=keys.length;l>i;i++)key=keys[i],this[key]=attributesToCopy[key]}else this.$attr={};this.$$element=element};Attributes.prototype={$normalize:directiveNormalize,$addClass:function(classVal){classVal&&classVal.length>0&&$animate.addClass(this.$$element,classVal)},$removeClass:function(classVal){classVal&&classVal.length>0&&$animate.removeClass(this.$$element,classVal)},$updateClass:function(newClasses,oldClasses){var toAdd=tokenDifference(newClasses,oldClasses);toAdd&&toAdd.length&&$animate.addClass(this.$$element,toAdd);var toRemove=tokenDifference(oldClasses,newClasses);toRemove&&toRemove.length&&$animate.removeClass(this.$$element,toRemove)},$set:function(key,value,writeAttr,attrName){var nodeName,node=this.$$element[0],booleanKey=getBooleanAttrName(node,key),aliasedKey=getAliasedAttrName(node,key),observer=key;if(booleanKey?(this.$$element.prop(key,value),attrName=booleanKey):aliasedKey&&(this[aliasedKey]=value,observer=aliasedKey),this[key]=value,attrName?this.$attr[key]=attrName:(attrName=this.$attr[key],attrName||(this.$attr[key]=attrName=snake_case(key,"-"))),nodeName=nodeName_(this.$$element),"a"===nodeName&&"href"===key||"img"===nodeName&&"src"===key)this[key]=value=$$sanitizeUri(value,"src"===key);else if("img"===nodeName&&"srcset"===key){for(var result="",trimmedSrcset=trim(value),srcPattern=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,pattern=/\s/.test(trimmedSrcset)?srcPattern:/(,)/,rawUris=trimmedSrcset.split(pattern),nbrUrisWith2parts=Math.floor(rawUris.length/2),i=0;nbrUrisWith2parts>i;i++){var innerIdx=2*i;result+=$$sanitizeUri(trim(rawUris[innerIdx]),!0),result+=" "+trim(rawUris[innerIdx+1])}var lastTuple=trim(rawUris[2*i]).split(/\s/);result+=$$sanitizeUri(trim(lastTuple[0]),!0),2===lastTuple.length&&(result+=" "+trim(lastTuple[1])),this[key]=value=result}writeAttr!==!1&&(null===value||value===undefined?this.$$element.removeAttr(attrName):this.$$element.attr(attrName,value));var $$observers=this.$$observers;$$observers&&forEach($$observers[observer],function(fn){try{fn(value)}catch(e){$exceptionHandler(e)}})},$observe:function(key,fn){var attrs=this,$$observers=attrs.$$observers||(attrs.$$observers=createMap()),listeners=$$observers[key]||($$observers[key]=[]);return listeners.push(fn),$rootScope.$evalAsync(function(){!listeners.$$inter&&attrs.hasOwnProperty(key)&&fn(attrs[key])}),function(){arrayRemove(listeners,fn)}}};var startSymbol=$interpolate.startSymbol(),endSymbol=$interpolate.endSymbol(),denormalizeTemplate="{{"==startSymbol||"}}"==endSymbol?identity:function(template){return template.replace(/\{\{/g,startSymbol).replace(/}}/g,endSymbol)},NG_ATTR_BINDING=/^ngAttr[A-Z]/;return compile.$$addBindingInfo=debugInfoEnabled?function($element,binding){var bindings=$element.data("$binding")||[];isArray(binding)?bindings=bindings.concat(binding):bindings.push(binding),$element.data("$binding",bindings)}:noop,compile.$$addBindingClass=debugInfoEnabled?function($element){safeAddClass($element,"ng-binding")}:noop,compile.$$addScopeInfo=debugInfoEnabled?function($element,scope,isolated,noTemplate){var dataName=isolated?noTemplate?"$isolateScopeNoTemplate":"$isolateScope":"$scope";$element.data(dataName,scope)}:noop,compile.$$addScopeClass=debugInfoEnabled?function($element,isolated){safeAddClass($element,isolated?"ng-isolate-scope":"ng-scope")}:noop,compile}]}function directiveNormalize(name){return camelCase(name.replace(PREFIX_REGEXP,""))}function tokenDifference(str1,str2){var values="",tokens1=str1.split(/\s+/),tokens2=str2.split(/\s+/);outer:for(var i=0;i<tokens1.length;i++){for(var token=tokens1[i],j=0;j<tokens2.length;j++)if(token==tokens2[j])continue outer;values+=(values.length>0?" ":"")+token}return values}function removeComments(jqNodes){jqNodes=jqLite(jqNodes);var i=jqNodes.length;if(1>=i)return jqNodes;for(;i--;){var node=jqNodes[i];node.nodeType===NODE_TYPE_COMMENT&&splice.call(jqNodes,i,1)}return jqNodes}function $ControllerProvider(){var controllers={},globals=!1,CNTRL_REG=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(name,constructor){assertNotHasOwnProperty(name,"controller"),isObject(name)?extend(controllers,name):controllers[name]=constructor},this.allowGlobals=function(){globals=!0},this.$get=["$injector","$window",function($injector,$window){function addIdentifier(locals,identifier,instance,name){if(!locals||!isObject(locals.$scope))throw minErr("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",name,identifier);locals.$scope[identifier]=instance}return function(expression,locals,later,ident){var instance,match,constructor,identifier;if(later=later===!0,ident&&isString(ident)&&(identifier=ident),isString(expression)&&(match=expression.match(CNTRL_REG),constructor=match[1],identifier=identifier||match[3],expression=controllers.hasOwnProperty(constructor)?controllers[constructor]:getter(locals.$scope,constructor,!0)||(globals?getter($window,constructor,!0):undefined),assertArgFn(expression,constructor,!0)),later){var controllerPrototype=(isArray(expression)?expression[expression.length-1]:expression).prototype;return instance=Object.create(controllerPrototype||null),identifier&&addIdentifier(locals,identifier,instance,constructor||expression.name),extend(function(){return $injector.invoke(expression,instance,locals,constructor),instance},{instance:instance,identifier:identifier})}return instance=$injector.instantiate(expression,locals,constructor),identifier&&addIdentifier(locals,identifier,instance,constructor||expression.name),instance}}]}function $DocumentProvider(){this.$get=["$window",function(window){return jqLite(window.document)}]}function $ExceptionHandlerProvider(){this.$get=["$log",function($log){return function(){$log.error.apply($log,arguments)}}]}function defaultHttpResponseTransform(data,headers){if(isString(data)){var tempData=data.replace(JSON_PROTECTION_PREFIX,"").trim();if(tempData){var contentType=headers("Content-Type");(contentType&&0===contentType.indexOf(APPLICATION_JSON)||isJsonLike(tempData))&&(data=fromJson(tempData))}}return data}function isJsonLike(str){var jsonStart=str.match(JSON_START);return jsonStart&&JSON_ENDS[jsonStart[0]].test(str)}function parseHeaders(headers){var key,val,i,parsed=createMap();return headers?(forEach(headers.split("\n"),function(line){i=line.indexOf(":"),key=lowercase(trim(line.substr(0,i))),val=trim(line.substr(i+1)),key&&(parsed[key]=parsed[key]?parsed[key]+", "+val:val)}),parsed):parsed}function headersGetter(headers){var headersObj=isObject(headers)?headers:undefined;return function(name){if(headersObj||(headersObj=parseHeaders(headers)),name){var value=headersObj[lowercase(name)];return void 0===value&&(value=null),value}return headersObj}}function transformData(data,headers,status,fns){return isFunction(fns)?fns(data,headers,status):(forEach(fns,function(fn){data=fn(data,headers,status)}),data)}function isSuccess(status){return status>=200&&300>status}function $HttpProvider(){var defaults=this.defaults={transformResponse:[defaultHttpResponseTransform],transformRequest:[function(d){return!isObject(d)||isFile(d)||isBlob(d)||isFormData(d)?d:toJson(d)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:shallowCopy(CONTENT_TYPE_APPLICATION_JSON),put:shallowCopy(CONTENT_TYPE_APPLICATION_JSON),patch:shallowCopy(CONTENT_TYPE_APPLICATION_JSON)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},useApplyAsync=!1;this.useApplyAsync=function(value){return isDefined(value)?(useApplyAsync=!!value,this):useApplyAsync};var interceptorFactories=this.interceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function($httpBackend,$browser,$cacheFactory,$rootScope,$q,$injector){function $http(requestConfig){function transformResponse(response){var resp=extend({},response);return resp.data=response.data?transformData(response.data,response.headers,response.status,config.transformResponse):response.data,isSuccess(response.status)?resp:$q.reject(resp)}function executeHeaderFns(headers){var headerContent,processedHeaders={};return forEach(headers,function(headerFn,header){isFunction(headerFn)?(headerContent=headerFn(),null!=headerContent&&(processedHeaders[header]=headerContent)):processedHeaders[header]=headerFn}),processedHeaders}function mergeHeaders(config){var defHeaderName,lowercaseDefHeaderName,reqHeaderName,defHeaders=defaults.headers,reqHeaders=extend({},config.headers);defHeaders=extend({},defHeaders.common,defHeaders[lowercase(config.method)]);defaultHeadersIteration:for(defHeaderName in defHeaders){lowercaseDefHeaderName=lowercase(defHeaderName);for(reqHeaderName in reqHeaders)if(lowercase(reqHeaderName)===lowercaseDefHeaderName)continue defaultHeadersIteration;reqHeaders[defHeaderName]=defHeaders[defHeaderName]}return executeHeaderFns(reqHeaders)}if(!angular.isObject(requestConfig))throw minErr("$http")("badreq","Http request configuration must be an object.  Received: {0}",requestConfig);var config=extend({method:"get",transformRequest:defaults.transformRequest,transformResponse:defaults.transformResponse},requestConfig);config.headers=mergeHeaders(requestConfig),config.method=uppercase(config.method);var serverRequest=function(config){var headers=config.headers,reqData=transformData(config.data,headersGetter(headers),undefined,config.transformRequest);return isUndefined(reqData)&&forEach(headers,function(value,header){"content-type"===lowercase(header)&&delete headers[header]}),isUndefined(config.withCredentials)&&!isUndefined(defaults.withCredentials)&&(config.withCredentials=defaults.withCredentials),sendReq(config,reqData).then(transformResponse,transformResponse)},chain=[serverRequest,undefined],promise=$q.when(config);for(forEach(reversedInterceptors,function(interceptor){(interceptor.request||interceptor.requestError)&&chain.unshift(interceptor.request,interceptor.requestError),(interceptor.response||interceptor.responseError)&&chain.push(interceptor.response,interceptor.responseError)});chain.length;){var thenFn=chain.shift(),rejectFn=chain.shift();promise=promise.then(thenFn,rejectFn)}return promise.success=function(fn){return promise.then(function(response){fn(response.data,response.status,response.headers,config)}),promise},promise.error=function(fn){return promise.then(null,function(response){fn(response.data,response.status,response.headers,config)}),promise},promise}function createShortMethods(){forEach(arguments,function(name){$http[name]=function(url,config){return $http(extend(config||{},{method:name,url:url}))}})}function createShortMethodsWithData(){forEach(arguments,function(name){$http[name]=function(url,data,config){return $http(extend(config||{},{method:name,url:url,data:data}))}})}function sendReq(config,reqData){function done(status,response,headersString,statusText){function resolveHttpPromise(){resolvePromise(response,status,headersString,statusText)}cache&&(isSuccess(status)?cache.put(url,[status,response,parseHeaders(headersString),statusText]):cache.remove(url)),useApplyAsync?$rootScope.$applyAsync(resolveHttpPromise):(resolveHttpPromise(),$rootScope.$$phase||$rootScope.$apply())}function resolvePromise(response,status,headers,statusText){status=Math.max(status,0),(isSuccess(status)?deferred.resolve:deferred.reject)({data:response,status:status,headers:headersGetter(headers),config:config,statusText:statusText})}function resolvePromiseWithResult(result){resolvePromise(result.data,result.status,shallowCopy(result.headers()),result.statusText)}function removePendingReq(){var idx=$http.pendingRequests.indexOf(config);-1!==idx&&$http.pendingRequests.splice(idx,1)}var cache,cachedResp,deferred=$q.defer(),promise=deferred.promise,reqHeaders=config.headers,url=buildUrl(config.url,config.params);if($http.pendingRequests.push(config),promise.then(removePendingReq,removePendingReq),!config.cache&&!defaults.cache||config.cache===!1||"GET"!==config.method&&"JSONP"!==config.method||(cache=isObject(config.cache)?config.cache:isObject(defaults.cache)?defaults.cache:defaultCache),cache&&(cachedResp=cache.get(url),isDefined(cachedResp)?isPromiseLike(cachedResp)?cachedResp.then(resolvePromiseWithResult,resolvePromiseWithResult):isArray(cachedResp)?resolvePromise(cachedResp[1],cachedResp[0],shallowCopy(cachedResp[2]),cachedResp[3]):resolvePromise(cachedResp,200,{},"OK"):cache.put(url,promise)),isUndefined(cachedResp)){var xsrfValue=urlIsSameOrigin(config.url)?$browser.cookies()[config.xsrfCookieName||defaults.xsrfCookieName]:undefined;xsrfValue&&(reqHeaders[config.xsrfHeaderName||defaults.xsrfHeaderName]=xsrfValue),$httpBackend(config.method,url,reqData,done,reqHeaders,config.timeout,config.withCredentials,config.responseType)}return promise}function buildUrl(url,params){if(!params)return url;var parts=[];return forEachSorted(params,function(value,key){null===value||isUndefined(value)||(isArray(value)||(value=[value]),forEach(value,function(v){isObject(v)&&(v=isDate(v)?v.toISOString():toJson(v)),parts.push(encodeUriQuery(key)+"="+encodeUriQuery(v))}))}),parts.length>0&&(url+=(-1==url.indexOf("?")?"?":"&")+parts.join("&")),url}var defaultCache=$cacheFactory("$http"),reversedInterceptors=[];return forEach(interceptorFactories,function(interceptorFactory){reversedInterceptors.unshift(isString(interceptorFactory)?$injector.get(interceptorFactory):$injector.invoke(interceptorFactory))}),$http.pendingRequests=[],createShortMethods("get","delete","head","jsonp"),createShortMethodsWithData("post","put","patch"),$http.defaults=defaults,$http}]}function createXhr(){return new window.XMLHttpRequest}function $HttpBackendProvider(){this.$get=["$browser","$window","$document",function($browser,$window,$document){return createHttpBackend($browser,createXhr,$browser.defer,$window.angular.callbacks,$document[0])}]}function createHttpBackend($browser,createXhr,$browserDefer,callbacks,rawDocument){function jsonpReq(url,callbackId,done){var script=rawDocument.createElement("script"),callback=null;return script.type="text/javascript",script.src=url,script.async=!0,callback=function(event){removeEventListenerFn(script,"load",callback),removeEventListenerFn(script,"error",callback),rawDocument.body.removeChild(script),script=null;var status=-1,text="unknown";event&&("load"!==event.type||callbacks[callbackId].called||(event={type:"error"}),text=event.type,status="error"===event.type?404:200),done&&done(status,text)},addEventListenerFn(script,"load",callback),addEventListenerFn(script,"error",callback),rawDocument.body.appendChild(script),callback}return function(method,url,post,callback,headers,timeout,withCredentials,responseType){function timeoutRequest(){jsonpDone&&jsonpDone(),xhr&&xhr.abort()}function completeRequest(callback,status,response,headersString,statusText){timeoutId!==undefined&&$browserDefer.cancel(timeoutId),jsonpDone=xhr=null,callback(status,response,headersString,statusText),$browser.$$completeOutstandingRequest(noop)}if($browser.$$incOutstandingRequestCount(),url=url||$browser.url(),"jsonp"==lowercase(method)){var callbackId="_"+(callbacks.counter++).toString(36);callbacks[callbackId]=function(data){callbacks[callbackId].data=data,callbacks[callbackId].called=!0};var jsonpDone=jsonpReq(url.replace("JSON_CALLBACK","angular.callbacks."+callbackId),callbackId,function(status,text){completeRequest(callback,status,callbacks[callbackId].data,"",text),callbacks[callbackId]=noop})}else{var xhr=createXhr();xhr.open(method,url,!0),forEach(headers,function(value,key){isDefined(value)&&xhr.setRequestHeader(key,value)}),xhr.onload=function(){var statusText=xhr.statusText||"",response="response"in xhr?xhr.response:xhr.responseText,status=1223===xhr.status?204:xhr.status;0===status&&(status=response?200:"file"==urlResolve(url).protocol?404:0),completeRequest(callback,status,response,xhr.getAllResponseHeaders(),statusText)};var requestError=function(){completeRequest(callback,-1,null,null,"")};if(xhr.onerror=requestError,xhr.onabort=requestError,withCredentials&&(xhr.withCredentials=!0),responseType)try{xhr.responseType=responseType}catch(e){if("json"!==responseType)throw e}xhr.send(post||null)}if(timeout>0)var timeoutId=$browserDefer(timeoutRequest,timeout);else isPromiseLike(timeout)&&timeout.then(timeoutRequest)}}function $InterpolateProvider(){var startSymbol="{{",endSymbol="}}";this.startSymbol=function(value){return value?(startSymbol=value,this):startSymbol},this.endSymbol=function(value){return value?(endSymbol=value,this):endSymbol},this.$get=["$parse","$exceptionHandler","$sce",function($parse,$exceptionHandler,$sce){function escape(ch){return"\\\\\\"+ch}function $interpolate(text,mustHaveExpression,trustedContext,allOrNothing){function unescapeText(text){return text.replace(escapedStartRegexp,startSymbol).replace(escapedEndRegexp,endSymbol)}function parseStringifyInterceptor(value){try{return value=getValue(value),allOrNothing&&!isDefined(value)?value:stringify(value)}catch(err){var newErr=$interpolateMinErr("interr","Can't interpolate: {0}\n{1}",text,err.toString());$exceptionHandler(newErr)}}allOrNothing=!!allOrNothing;for(var startIndex,endIndex,exp,index=0,expressions=[],parseFns=[],textLength=text.length,concat=[],expressionPositions=[];textLength>index;){if(-1==(startIndex=text.indexOf(startSymbol,index))||-1==(endIndex=text.indexOf(endSymbol,startIndex+startSymbolLength))){index!==textLength&&concat.push(unescapeText(text.substring(index)));break}index!==startIndex&&concat.push(unescapeText(text.substring(index,startIndex))),exp=text.substring(startIndex+startSymbolLength,endIndex),expressions.push(exp),parseFns.push($parse(exp,parseStringifyInterceptor)),index=endIndex+endSymbolLength,expressionPositions.push(concat.length),concat.push("")}if(trustedContext&&concat.length>1)throw $interpolateMinErr("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",text);if(!mustHaveExpression||expressions.length){var compute=function(values){for(var i=0,ii=expressions.length;ii>i;i++){if(allOrNothing&&isUndefined(values[i]))return;concat[expressionPositions[i]]=values[i]}return concat.join("")},getValue=function(value){return trustedContext?$sce.getTrusted(trustedContext,value):$sce.valueOf(value)},stringify=function(value){if(null==value)return"";switch(typeof value){case"string":break;case"number":value=""+value;break;default:value=toJson(value)}return value};return extend(function(context){var i=0,ii=expressions.length,values=new Array(ii);try{for(;ii>i;i++)values[i]=parseFns[i](context);return compute(values)}catch(err){var newErr=$interpolateMinErr("interr","Can't interpolate: {0}\n{1}",text,err.toString());$exceptionHandler(newErr)}},{exp:text,expressions:expressions,$$watchDelegate:function(scope,listener,objectEquality){var lastValue;return scope.$watchGroup(parseFns,function(values,oldValues){var currValue=compute(values);isFunction(listener)&&listener.call(this,currValue,values!==oldValues?lastValue:currValue,scope),lastValue=currValue},objectEquality)}})}}var startSymbolLength=startSymbol.length,endSymbolLength=endSymbol.length,escapedStartRegexp=new RegExp(startSymbol.replace(/./g,escape),"g"),escapedEndRegexp=new RegExp(endSymbol.replace(/./g,escape),"g");return $interpolate.startSymbol=function(){return startSymbol},$interpolate.endSymbol=function(){return endSymbol},$interpolate}]}function $IntervalProvider(){this.$get=["$rootScope","$window","$q","$$q",function($rootScope,$window,$q,$$q){function interval(fn,delay,count,invokeApply){var setInterval=$window.setInterval,clearInterval=$window.clearInterval,iteration=0,skipApply=isDefined(invokeApply)&&!invokeApply,deferred=(skipApply?$$q:$q).defer(),promise=deferred.promise;return count=isDefined(count)?count:0,promise.then(null,null,fn),promise.$$intervalId=setInterval(function(){deferred.notify(iteration++),count>0&&iteration>=count&&(deferred.resolve(iteration),clearInterval(promise.$$intervalId),delete intervals[promise.$$intervalId]),skipApply||$rootScope.$apply()},delay),intervals[promise.$$intervalId]=deferred,promise}var intervals={};return interval.cancel=function(promise){return promise&&promise.$$intervalId in intervals?(intervals[promise.$$intervalId].reject("canceled"),$window.clearInterval(promise.$$intervalId),delete intervals[promise.$$intervalId],!0):!1},interval}]}function $LocaleProvider(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"",posSuf:"",negPre:"(",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(num){return 1===num?"one":"other"}}}}function encodePath(path){for(var segments=path.split("/"),i=segments.length;i--;)segments[i]=encodeUriSegment(segments[i]);return segments.join("/")}function parseAbsoluteUrl(absoluteUrl,locationObj){var parsedUrl=urlResolve(absoluteUrl);locationObj.$$protocol=parsedUrl.protocol,locationObj.$$host=parsedUrl.hostname,locationObj.$$port=int(parsedUrl.port)||DEFAULT_PORTS[parsedUrl.protocol]||null}function parseAppUrl(relativeUrl,locationObj){var prefixed="/"!==relativeUrl.charAt(0);prefixed&&(relativeUrl="/"+relativeUrl);var match=urlResolve(relativeUrl);locationObj.$$path=decodeURIComponent(prefixed&&"/"===match.pathname.charAt(0)?match.pathname.substring(1):match.pathname),locationObj.$$search=parseKeyValue(match.search),locationObj.$$hash=decodeURIComponent(match.hash),locationObj.$$path&&"/"!=locationObj.$$path.charAt(0)&&(locationObj.$$path="/"+locationObj.$$path)}function beginsWith(begin,whole){return 0===whole.indexOf(begin)?whole.substr(begin.length):void 0}function stripHash(url){var index=url.indexOf("#");return-1==index?url:url.substr(0,index)}function trimEmptyHash(url){return url.replace(/(#.+)|#$/,"$1")}function stripFile(url){return url.substr(0,stripHash(url).lastIndexOf("/")+1)}function serverBase(url){return url.substring(0,url.indexOf("/",url.indexOf("//")+2))}function LocationHtml5Url(appBase,basePrefix){this.$$html5=!0,basePrefix=basePrefix||"";var appBaseNoFile=stripFile(appBase);parseAbsoluteUrl(appBase,this),this.$$parse=function(url){var pathUrl=beginsWith(appBaseNoFile,url);if(!isString(pathUrl))throw $locationMinErr("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',url,appBaseNoFile);parseAppUrl(pathUrl,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var search=toKeyValue(this.$$search),hash=this.$$hash?"#"+encodeUriSegment(this.$$hash):"";this.$$url=encodePath(this.$$path)+(search?"?"+search:"")+hash,this.$$absUrl=appBaseNoFile+this.$$url.substr(1)},this.$$parseLinkUrl=function(url,relHref){if(relHref&&"#"===relHref[0])return this.hash(relHref.slice(1)),!0;var appUrl,prevAppUrl,rewrittenUrl;return(appUrl=beginsWith(appBase,url))!==undefined?(prevAppUrl=appUrl,rewrittenUrl=(appUrl=beginsWith(basePrefix,appUrl))!==undefined?appBaseNoFile+(beginsWith("/",appUrl)||appUrl):appBase+prevAppUrl):(appUrl=beginsWith(appBaseNoFile,url))!==undefined?rewrittenUrl=appBaseNoFile+appUrl:appBaseNoFile==url+"/"&&(rewrittenUrl=appBaseNoFile),rewrittenUrl&&this.$$parse(rewrittenUrl),!!rewrittenUrl}}function LocationHashbangUrl(appBase,hashPrefix){var appBaseNoFile=stripFile(appBase);parseAbsoluteUrl(appBase,this),this.$$parse=function(url){function removeWindowsDriveName(path,url,base){var firstPathSegmentMatch,windowsFilePathExp=/^\/[A-Z]:(\/.*)/;return 0===url.indexOf(base)&&(url=url.replace(base,"")),windowsFilePathExp.exec(url)?path:(firstPathSegmentMatch=windowsFilePathExp.exec(path),firstPathSegmentMatch?firstPathSegmentMatch[1]:path)}var withoutHashUrl,withoutBaseUrl=beginsWith(appBase,url)||beginsWith(appBaseNoFile,url);"#"===withoutBaseUrl.charAt(0)?(withoutHashUrl=beginsWith(hashPrefix,withoutBaseUrl),isUndefined(withoutHashUrl)&&(withoutHashUrl=withoutBaseUrl)):withoutHashUrl=this.$$html5?withoutBaseUrl:"",parseAppUrl(withoutHashUrl,this),this.$$path=removeWindowsDriveName(this.$$path,withoutHashUrl,appBase),this.$$compose()},this.$$compose=function(){var search=toKeyValue(this.$$search),hash=this.$$hash?"#"+encodeUriSegment(this.$$hash):"";this.$$url=encodePath(this.$$path)+(search?"?"+search:"")+hash,this.$$absUrl=appBase+(this.$$url?hashPrefix+this.$$url:"")},this.$$parseLinkUrl=function(url){return stripHash(appBase)==stripHash(url)?(this.$$parse(url),!0):!1}}function LocationHashbangInHtml5Url(appBase,hashPrefix){this.$$html5=!0,LocationHashbangUrl.apply(this,arguments);var appBaseNoFile=stripFile(appBase);this.$$parseLinkUrl=function(url,relHref){if(relHref&&"#"===relHref[0])return this.hash(relHref.slice(1)),!0;var rewrittenUrl,appUrl;return appBase==stripHash(url)?rewrittenUrl=url:(appUrl=beginsWith(appBaseNoFile,url))?rewrittenUrl=appBase+hashPrefix+appUrl:appBaseNoFile===url+"/"&&(rewrittenUrl=appBaseNoFile),rewrittenUrl&&this.$$parse(rewrittenUrl),!!rewrittenUrl},this.$$compose=function(){var search=toKeyValue(this.$$search),hash=this.$$hash?"#"+encodeUriSegment(this.$$hash):"";this.$$url=encodePath(this.$$path)+(search?"?"+search:"")+hash,this.$$absUrl=appBase+hashPrefix+this.$$url
}}function locationGetter(property){return function(){return this[property]}}function locationGetterSetter(property,preprocess){return function(value){return isUndefined(value)?this[property]:(this[property]=preprocess(value),this.$$compose(),this)}}function $LocationProvider(){var hashPrefix="",html5Mode={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(prefix){return isDefined(prefix)?(hashPrefix=prefix,this):hashPrefix},this.html5Mode=function(mode){return isBoolean(mode)?(html5Mode.enabled=mode,this):isObject(mode)?(isBoolean(mode.enabled)&&(html5Mode.enabled=mode.enabled),isBoolean(mode.requireBase)&&(html5Mode.requireBase=mode.requireBase),isBoolean(mode.rewriteLinks)&&(html5Mode.rewriteLinks=mode.rewriteLinks),this):html5Mode},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function($rootScope,$browser,$sniffer,$rootElement,$window){function setBrowserUrlWithFallback(url,replace,state){var oldUrl=$location.url(),oldState=$location.$$state;try{$browser.url(url,replace,state),$location.$$state=$browser.state()}catch(e){throw $location.url(oldUrl),$location.$$state=oldState,e}}function afterLocationChange(oldUrl,oldState){$rootScope.$broadcast("$locationChangeSuccess",$location.absUrl(),oldUrl,$location.$$state,oldState)}var $location,LocationMode,appBase,baseHref=$browser.baseHref(),initialUrl=$browser.url();if(html5Mode.enabled){if(!baseHref&&html5Mode.requireBase)throw $locationMinErr("nobase","$location in HTML5 mode requires a <base> tag to be present!");appBase=serverBase(initialUrl)+(baseHref||"/"),LocationMode=$sniffer.history?LocationHtml5Url:LocationHashbangInHtml5Url}else appBase=stripHash(initialUrl),LocationMode=LocationHashbangUrl;$location=new LocationMode(appBase,"#"+hashPrefix),$location.$$parseLinkUrl(initialUrl,initialUrl),$location.$$state=$browser.state();var IGNORE_URI_REGEXP=/^\s*(javascript|mailto):/i;$rootElement.on("click",function(event){if(html5Mode.rewriteLinks&&!event.ctrlKey&&!event.metaKey&&!event.shiftKey&&2!=event.which&&2!=event.button){for(var elm=jqLite(event.target);"a"!==nodeName_(elm[0]);)if(elm[0]===$rootElement[0]||!(elm=elm.parent())[0])return;var absHref=elm.prop("href"),relHref=elm.attr("href")||elm.attr("xlink:href");isObject(absHref)&&"[object SVGAnimatedString]"===absHref.toString()&&(absHref=urlResolve(absHref.animVal).href),IGNORE_URI_REGEXP.test(absHref)||!absHref||elm.attr("target")||event.isDefaultPrevented()||$location.$$parseLinkUrl(absHref,relHref)&&(event.preventDefault(),$location.absUrl()!=$browser.url()&&($rootScope.$apply(),$window.angular["ff-684208-preventDefault"]=!0))}}),$location.absUrl()!=initialUrl&&$browser.url($location.absUrl(),!0);var initializing=!0;return $browser.onUrlChange(function(newUrl,newState){$rootScope.$evalAsync(function(){var defaultPrevented,oldUrl=$location.absUrl(),oldState=$location.$$state;$location.$$parse(newUrl),$location.$$state=newState,defaultPrevented=$rootScope.$broadcast("$locationChangeStart",newUrl,oldUrl,newState,oldState).defaultPrevented,$location.absUrl()===newUrl&&(defaultPrevented?($location.$$parse(oldUrl),$location.$$state=oldState,setBrowserUrlWithFallback(oldUrl,!1,oldState)):(initializing=!1,afterLocationChange(oldUrl,oldState)))}),$rootScope.$$phase||$rootScope.$digest()}),$rootScope.$watch(function(){var oldUrl=trimEmptyHash($browser.url()),newUrl=trimEmptyHash($location.absUrl()),oldState=$browser.state(),currentReplace=$location.$$replace,urlOrStateChanged=oldUrl!==newUrl||$location.$$html5&&$sniffer.history&&oldState!==$location.$$state;(initializing||urlOrStateChanged)&&(initializing=!1,$rootScope.$evalAsync(function(){var newUrl=$location.absUrl(),defaultPrevented=$rootScope.$broadcast("$locationChangeStart",newUrl,oldUrl,$location.$$state,oldState).defaultPrevented;$location.absUrl()===newUrl&&(defaultPrevented?($location.$$parse(oldUrl),$location.$$state=oldState):(urlOrStateChanged&&setBrowserUrlWithFallback(newUrl,currentReplace,oldState===$location.$$state?null:$location.$$state),afterLocationChange(oldUrl,oldState)))})),$location.$$replace=!1}),$location}]}function $LogProvider(){var debug=!0,self=this;this.debugEnabled=function(flag){return isDefined(flag)?(debug=flag,this):debug},this.$get=["$window",function($window){function formatError(arg){return arg instanceof Error&&(arg.stack?arg=arg.message&&-1===arg.stack.indexOf(arg.message)?"Error: "+arg.message+"\n"+arg.stack:arg.stack:arg.sourceURL&&(arg=arg.message+"\n"+arg.sourceURL+":"+arg.line)),arg}function consoleLog(type){var console=$window.console||{},logFn=console[type]||console.log||noop,hasApply=!1;try{hasApply=!!logFn.apply}catch(e){}return hasApply?function(){var args=[];return forEach(arguments,function(arg){args.push(formatError(arg))}),logFn.apply(console,args)}:function(arg1,arg2){logFn(arg1,null==arg2?"":arg2)}}return{log:consoleLog("log"),info:consoleLog("info"),warn:consoleLog("warn"),error:consoleLog("error"),debug:function(){var fn=consoleLog("debug");return function(){debug&&fn.apply(self,arguments)}}()}}]}function ensureSafeMemberName(name,fullExpression){if("__defineGetter__"===name||"__defineSetter__"===name||"__lookupGetter__"===name||"__lookupSetter__"===name||"__proto__"===name)throw $parseMinErr("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",fullExpression);return name}function ensureSafeObject(obj,fullExpression){if(obj){if(obj.constructor===obj)throw $parseMinErr("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",fullExpression);if(obj.window===obj)throw $parseMinErr("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",fullExpression);if(obj.children&&(obj.nodeName||obj.prop&&obj.attr&&obj.find))throw $parseMinErr("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",fullExpression);if(obj===Object)throw $parseMinErr("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",fullExpression)}return obj}function ensureSafeFunction(obj,fullExpression){if(obj){if(obj.constructor===obj)throw $parseMinErr("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",fullExpression);if(obj===CALL||obj===APPLY||obj===BIND)throw $parseMinErr("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",fullExpression)}}function isConstant(exp){return exp.constant}function setter(obj,locals,path,setValue,fullExp){ensureSafeObject(obj,fullExp),ensureSafeObject(locals,fullExp);for(var key,element=path.split("."),i=0;element.length>1;i++){key=ensureSafeMemberName(element.shift(),fullExp);var propertyObj=0===i&&locals&&locals[key]||obj[key];propertyObj||(propertyObj={},obj[key]=propertyObj),obj=ensureSafeObject(propertyObj,fullExp)}return key=ensureSafeMemberName(element.shift(),fullExp),ensureSafeObject(obj[key],fullExp),obj[key]=setValue,setValue}function isPossiblyDangerousMemberName(name){return"constructor"==name}function cspSafeGetterFn(key0,key1,key2,key3,key4,fullExp,expensiveChecks){ensureSafeMemberName(key0,fullExp),ensureSafeMemberName(key1,fullExp),ensureSafeMemberName(key2,fullExp),ensureSafeMemberName(key3,fullExp),ensureSafeMemberName(key4,fullExp);var eso=function(o){return ensureSafeObject(o,fullExp)},eso0=expensiveChecks||isPossiblyDangerousMemberName(key0)?eso:identity,eso1=expensiveChecks||isPossiblyDangerousMemberName(key1)?eso:identity,eso2=expensiveChecks||isPossiblyDangerousMemberName(key2)?eso:identity,eso3=expensiveChecks||isPossiblyDangerousMemberName(key3)?eso:identity,eso4=expensiveChecks||isPossiblyDangerousMemberName(key4)?eso:identity;return function(scope,locals){var pathVal=locals&&locals.hasOwnProperty(key0)?locals:scope;return null==pathVal?pathVal:(pathVal=eso0(pathVal[key0]),key1?null==pathVal?undefined:(pathVal=eso1(pathVal[key1]),key2?null==pathVal?undefined:(pathVal=eso2(pathVal[key2]),key3?null==pathVal?undefined:(pathVal=eso3(pathVal[key3]),key4?null==pathVal?undefined:pathVal=eso4(pathVal[key4]):pathVal):pathVal):pathVal):pathVal)}}function getterFnWithEnsureSafeObject(fn,fullExpression){return function(s,l){return fn(s,l,ensureSafeObject,fullExpression)}}function getterFn(path,options,fullExp){var expensiveChecks=options.expensiveChecks,getterFnCache=expensiveChecks?getterFnCacheExpensive:getterFnCacheDefault,fn=getterFnCache[path];if(fn)return fn;var pathKeys=path.split("."),pathKeysLength=pathKeys.length;if(options.csp)fn=6>pathKeysLength?cspSafeGetterFn(pathKeys[0],pathKeys[1],pathKeys[2],pathKeys[3],pathKeys[4],fullExp,expensiveChecks):function(scope,locals){var val,i=0;do val=cspSafeGetterFn(pathKeys[i++],pathKeys[i++],pathKeys[i++],pathKeys[i++],pathKeys[i++],fullExp,expensiveChecks)(scope,locals),locals=undefined,scope=val;while(pathKeysLength>i);return val};else{var code="";expensiveChecks&&(code+="s = eso(s, fe);\nl = eso(l, fe);\n");var needsEnsureSafeObject=expensiveChecks;forEach(pathKeys,function(key,index){ensureSafeMemberName(key,fullExp);var lookupJs=(index?"s":'((l&&l.hasOwnProperty("'+key+'"))?l:s)')+"."+key;(expensiveChecks||isPossiblyDangerousMemberName(key))&&(lookupJs="eso("+lookupJs+", fe)",needsEnsureSafeObject=!0),code+="if(s == null) return undefined;\ns="+lookupJs+";\n"}),code+="return s;";var evaledFnGetter=new Function("s","l","eso","fe",code);evaledFnGetter.toString=valueFn(code),needsEnsureSafeObject&&(evaledFnGetter=getterFnWithEnsureSafeObject(evaledFnGetter,fullExp)),fn=evaledFnGetter}return fn.sharedGetter=!0,fn.assign=function(self,value,locals){return setter(self,locals,path,value,path)},getterFnCache[path]=fn,fn}function getValueOf(value){return isFunction(value.valueOf)?value.valueOf():objectValueOf.call(value)}function $ParseProvider(){var cacheDefault=createMap(),cacheExpensive=createMap();this.$get=["$filter","$sniffer",function($filter,$sniffer){function wrapSharedExpression(exp){var wrapped=exp;return exp.sharedGetter&&(wrapped=function(self,locals){return exp(self,locals)},wrapped.literal=exp.literal,wrapped.constant=exp.constant,wrapped.assign=exp.assign),wrapped}function collectExpressionInputs(inputs,list){for(var i=0,ii=inputs.length;ii>i;i++){var input=inputs[i];input.constant||(input.inputs?collectExpressionInputs(input.inputs,list):-1===list.indexOf(input)&&list.push(input))}return list}function expressionInputDirtyCheck(newValue,oldValueOfValue){return null==newValue||null==oldValueOfValue?newValue===oldValueOfValue:"object"==typeof newValue&&(newValue=getValueOf(newValue),"object"==typeof newValue)?!1:newValue===oldValueOfValue||newValue!==newValue&&oldValueOfValue!==oldValueOfValue}function inputsWatchDelegate(scope,listener,objectEquality,parsedExpression){var lastResult,inputExpressions=parsedExpression.$$inputs||(parsedExpression.$$inputs=collectExpressionInputs(parsedExpression.inputs,[]));if(1===inputExpressions.length){var oldInputValue=expressionInputDirtyCheck;return inputExpressions=inputExpressions[0],scope.$watch(function(scope){var newInputValue=inputExpressions(scope);return expressionInputDirtyCheck(newInputValue,oldInputValue)||(lastResult=parsedExpression(scope),oldInputValue=newInputValue&&getValueOf(newInputValue)),lastResult},listener,objectEquality)}for(var oldInputValueOfValues=[],i=0,ii=inputExpressions.length;ii>i;i++)oldInputValueOfValues[i]=expressionInputDirtyCheck;return scope.$watch(function(scope){for(var changed=!1,i=0,ii=inputExpressions.length;ii>i;i++){var newInputValue=inputExpressions[i](scope);(changed||(changed=!expressionInputDirtyCheck(newInputValue,oldInputValueOfValues[i])))&&(oldInputValueOfValues[i]=newInputValue&&getValueOf(newInputValue))}return changed&&(lastResult=parsedExpression(scope)),lastResult},listener,objectEquality)}function oneTimeWatchDelegate(scope,listener,objectEquality,parsedExpression){var unwatch,lastValue;return unwatch=scope.$watch(function(scope){return parsedExpression(scope)},function(value,old,scope){lastValue=value,isFunction(listener)&&listener.apply(this,arguments),isDefined(value)&&scope.$$postDigest(function(){isDefined(lastValue)&&unwatch()})},objectEquality)}function oneTimeLiteralWatchDelegate(scope,listener,objectEquality,parsedExpression){function isAllDefined(value){var allDefined=!0;return forEach(value,function(val){isDefined(val)||(allDefined=!1)}),allDefined}var unwatch,lastValue;return unwatch=scope.$watch(function(scope){return parsedExpression(scope)},function(value,old,scope){lastValue=value,isFunction(listener)&&listener.call(this,value,old,scope),isAllDefined(value)&&scope.$$postDigest(function(){isAllDefined(lastValue)&&unwatch()})},objectEquality)}function constantWatchDelegate(scope,listener,objectEquality,parsedExpression){var unwatch;return unwatch=scope.$watch(function(scope){return parsedExpression(scope)},function(){isFunction(listener)&&listener.apply(this,arguments),unwatch()},objectEquality)}function addInterceptor(parsedExpression,interceptorFn){if(!interceptorFn)return parsedExpression;var watchDelegate=parsedExpression.$$watchDelegate,regularWatch=watchDelegate!==oneTimeLiteralWatchDelegate&&watchDelegate!==oneTimeWatchDelegate,fn=regularWatch?function(scope,locals){var value=parsedExpression(scope,locals);return interceptorFn(value,scope,locals)}:function(scope,locals){var value=parsedExpression(scope,locals),result=interceptorFn(value,scope,locals);return isDefined(value)?result:value};return parsedExpression.$$watchDelegate&&parsedExpression.$$watchDelegate!==inputsWatchDelegate?fn.$$watchDelegate=parsedExpression.$$watchDelegate:interceptorFn.$stateful||(fn.$$watchDelegate=inputsWatchDelegate,fn.inputs=[parsedExpression]),fn}var $parseOptions={csp:$sniffer.csp,expensiveChecks:!1},$parseOptionsExpensive={csp:$sniffer.csp,expensiveChecks:!0};return function(exp,interceptorFn,expensiveChecks){var parsedExpression,oneTime,cacheKey;switch(typeof exp){case"string":cacheKey=exp=exp.trim();var cache=expensiveChecks?cacheExpensive:cacheDefault;if(parsedExpression=cache[cacheKey],!parsedExpression){":"===exp.charAt(0)&&":"===exp.charAt(1)&&(oneTime=!0,exp=exp.substring(2));var parseOptions=expensiveChecks?$parseOptionsExpensive:$parseOptions,lexer=new Lexer(parseOptions),parser=new Parser(lexer,$filter,parseOptions);parsedExpression=parser.parse(exp),parsedExpression.constant?parsedExpression.$$watchDelegate=constantWatchDelegate:oneTime?(parsedExpression=wrapSharedExpression(parsedExpression),parsedExpression.$$watchDelegate=parsedExpression.literal?oneTimeLiteralWatchDelegate:oneTimeWatchDelegate):parsedExpression.inputs&&(parsedExpression.$$watchDelegate=inputsWatchDelegate),cache[cacheKey]=parsedExpression}return addInterceptor(parsedExpression,interceptorFn);case"function":return addInterceptor(exp,interceptorFn);default:return addInterceptor(noop,interceptorFn)}}}]}function $QProvider(){this.$get=["$rootScope","$exceptionHandler",function($rootScope,$exceptionHandler){return qFactory(function(callback){$rootScope.$evalAsync(callback)},$exceptionHandler)}]}function $$QProvider(){this.$get=["$browser","$exceptionHandler",function($browser,$exceptionHandler){return qFactory(function(callback){$browser.defer(callback)},$exceptionHandler)}]}function qFactory(nextTick,exceptionHandler){function callOnce(self,resolveFn,rejectFn){function wrap(fn){return function(value){called||(called=!0,fn.call(self,value))}}var called=!1;return[wrap(resolveFn),wrap(rejectFn)]}function Promise(){this.$$state={status:0}}function simpleBind(context,fn){return function(value){fn.call(context,value)}}function processQueue(state){var fn,promise,pending;pending=state.pending,state.processScheduled=!1,state.pending=undefined;for(var i=0,ii=pending.length;ii>i;++i){promise=pending[i][0],fn=pending[i][state.status];try{isFunction(fn)?promise.resolve(fn(state.value)):1===state.status?promise.resolve(state.value):promise.reject(state.value)}catch(e){promise.reject(e),exceptionHandler(e)}}}function scheduleProcessQueue(state){!state.processScheduled&&state.pending&&(state.processScheduled=!0,nextTick(function(){processQueue(state)}))}function Deferred(){this.promise=new Promise,this.resolve=simpleBind(this,this.resolve),this.reject=simpleBind(this,this.reject),this.notify=simpleBind(this,this.notify)}function all(promises){var deferred=new Deferred,counter=0,results=isArray(promises)?[]:{};return forEach(promises,function(promise,key){counter++,when(promise).then(function(value){results.hasOwnProperty(key)||(results[key]=value,--counter||deferred.resolve(results))},function(reason){results.hasOwnProperty(key)||deferred.reject(reason)})}),0===counter&&deferred.resolve(results),deferred.promise}var $qMinErr=minErr("$q",TypeError),defer=function(){return new Deferred};Promise.prototype={then:function(onFulfilled,onRejected,progressBack){var result=new Deferred;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([result,onFulfilled,onRejected,progressBack]),this.$$state.status>0&&scheduleProcessQueue(this.$$state),result.promise},"catch":function(callback){return this.then(null,callback)},"finally":function(callback,progressBack){return this.then(function(value){return handleCallback(value,!0,callback)},function(error){return handleCallback(error,!1,callback)},progressBack)}},Deferred.prototype={resolve:function(val){this.promise.$$state.status||(val===this.promise?this.$$reject($qMinErr("qcycle","Expected promise to be resolved with value other than itself '{0}'",val)):this.$$resolve(val))},$$resolve:function(val){var then,fns;fns=callOnce(this,this.$$resolve,this.$$reject);try{(isObject(val)||isFunction(val))&&(then=val&&val.then),isFunction(then)?(this.promise.$$state.status=-1,then.call(val,fns[0],fns[1],this.notify)):(this.promise.$$state.value=val,this.promise.$$state.status=1,scheduleProcessQueue(this.promise.$$state))}catch(e){fns[1](e),exceptionHandler(e)}},reject:function(reason){this.promise.$$state.status||this.$$reject(reason)},$$reject:function(reason){this.promise.$$state.value=reason,this.promise.$$state.status=2,scheduleProcessQueue(this.promise.$$state)},notify:function(progress){var callbacks=this.promise.$$state.pending;this.promise.$$state.status<=0&&callbacks&&callbacks.length&&nextTick(function(){for(var callback,result,i=0,ii=callbacks.length;ii>i;i++){result=callbacks[i][0],callback=callbacks[i][3];try{result.notify(isFunction(callback)?callback(progress):progress)}catch(e){exceptionHandler(e)}}})}};var reject=function(reason){var result=new Deferred;return result.reject(reason),result.promise},makePromise=function(value,resolved){var result=new Deferred;return resolved?result.resolve(value):result.reject(value),result.promise},handleCallback=function(value,isResolved,callback){var callbackOutput=null;try{isFunction(callback)&&(callbackOutput=callback())}catch(e){return makePromise(e,!1)}return isPromiseLike(callbackOutput)?callbackOutput.then(function(){return makePromise(value,isResolved)},function(error){return makePromise(error,!1)}):makePromise(value,isResolved)},when=function(value,callback,errback,progressBack){var result=new Deferred;return result.resolve(value),result.promise.then(callback,errback,progressBack)},$Q=function Q(resolver){function resolveFn(value){deferred.resolve(value)}function rejectFn(reason){deferred.reject(reason)}if(!isFunction(resolver))throw $qMinErr("norslvr","Expected resolverFn, got '{0}'",resolver);if(!(this instanceof Q))return new Q(resolver);var deferred=new Deferred;return resolver(resolveFn,rejectFn),deferred.promise};return $Q.defer=defer,$Q.reject=reject,$Q.when=when,$Q.all=all,$Q}function $$RAFProvider(){this.$get=["$window","$timeout",function($window,$timeout){var requestAnimationFrame=$window.requestAnimationFrame||$window.webkitRequestAnimationFrame,cancelAnimationFrame=$window.cancelAnimationFrame||$window.webkitCancelAnimationFrame||$window.webkitCancelRequestAnimationFrame,rafSupported=!!requestAnimationFrame,raf=rafSupported?function(fn){var id=requestAnimationFrame(fn);return function(){cancelAnimationFrame(id)}}:function(fn){var timer=$timeout(fn,16.66,!1);return function(){$timeout.cancel(timer)}};return raf.supported=rafSupported,raf}]}function $RootScopeProvider(){var TTL=10,$rootScopeMinErr=minErr("$rootScope"),lastDirtyWatch=null,applyAsyncId=null;this.digestTtl=function(value){return arguments.length&&(TTL=value),TTL},this.$get=["$injector","$exceptionHandler","$parse","$browser",function($injector,$exceptionHandler,$parse,$browser){function Scope(){this.$id=nextUid(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$isolateBindings=null}function beginPhase(phase){if($rootScope.$$phase)throw $rootScopeMinErr("inprog","{0} already in progress",$rootScope.$$phase);$rootScope.$$phase=phase}function clearPhase(){$rootScope.$$phase=null}function decrementListenerCount(current,count,name){do current.$$listenerCount[name]-=count,0===current.$$listenerCount[name]&&delete current.$$listenerCount[name];while(current=current.$parent)}function initWatchVal(){}function flushApplyAsync(){for(;applyAsyncQueue.length;)try{applyAsyncQueue.shift()()}catch(e){$exceptionHandler(e)}applyAsyncId=null}function scheduleApplyAsync(){null===applyAsyncId&&(applyAsyncId=$browser.defer(function(){$rootScope.$apply(flushApplyAsync)}))}Scope.prototype={constructor:Scope,$new:function(isolate,parent){function destroyChild(){child.$$destroyed=!0}var child;return parent=parent||this,isolate?(child=new Scope,child.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=function(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$id=nextUid(),this.$$ChildScope=null},this.$$ChildScope.prototype=this),child=new this.$$ChildScope),child.$parent=parent,child.$$prevSibling=parent.$$childTail,parent.$$childHead?(parent.$$childTail.$$nextSibling=child,parent.$$childTail=child):parent.$$childHead=parent.$$childTail=child,(isolate||parent!=this)&&child.$on("$destroy",destroyChild),child},$watch:function(watchExp,listener,objectEquality){var get=$parse(watchExp);if(get.$$watchDelegate)return get.$$watchDelegate(this,listener,objectEquality,get);var scope=this,array=scope.$$watchers,watcher={fn:listener,last:initWatchVal,get:get,exp:watchExp,eq:!!objectEquality};return lastDirtyWatch=null,isFunction(listener)||(watcher.fn=noop),array||(array=scope.$$watchers=[]),array.unshift(watcher),function(){arrayRemove(array,watcher),lastDirtyWatch=null}},$watchGroup:function(watchExpressions,listener){function watchGroupAction(){changeReactionScheduled=!1,firstRun?(firstRun=!1,listener(newValues,newValues,self)):listener(newValues,oldValues,self)}var oldValues=new Array(watchExpressions.length),newValues=new Array(watchExpressions.length),deregisterFns=[],self=this,changeReactionScheduled=!1,firstRun=!0;if(!watchExpressions.length){var shouldCall=!0;return self.$evalAsync(function(){shouldCall&&listener(newValues,newValues,self)}),function(){shouldCall=!1}}return 1===watchExpressions.length?this.$watch(watchExpressions[0],function(value,oldValue,scope){newValues[0]=value,oldValues[0]=oldValue,listener(newValues,value===oldValue?newValues:oldValues,scope)}):(forEach(watchExpressions,function(expr,i){var unwatchFn=self.$watch(expr,function(value,oldValue){newValues[i]=value,oldValues[i]=oldValue,changeReactionScheduled||(changeReactionScheduled=!0,self.$evalAsync(watchGroupAction))});deregisterFns.push(unwatchFn)}),function(){for(;deregisterFns.length;)deregisterFns.shift()()})},$watchCollection:function(obj,listener){function $watchCollectionInterceptor(_value){newValue=_value;var newLength,key,bothNaN,newItem,oldItem;if(!isUndefined(newValue)){if(isObject(newValue))if(isArrayLike(newValue)){oldValue!==internalArray&&(oldValue=internalArray,oldLength=oldValue.length=0,changeDetected++),newLength=newValue.length,oldLength!==newLength&&(changeDetected++,oldValue.length=oldLength=newLength);for(var i=0;newLength>i;i++)oldItem=oldValue[i],newItem=newValue[i],bothNaN=oldItem!==oldItem&&newItem!==newItem,bothNaN||oldItem===newItem||(changeDetected++,oldValue[i]=newItem)}else{oldValue!==internalObject&&(oldValue=internalObject={},oldLength=0,changeDetected++),newLength=0;for(key in newValue)newValue.hasOwnProperty(key)&&(newLength++,newItem=newValue[key],oldItem=oldValue[key],key in oldValue?(bothNaN=oldItem!==oldItem&&newItem!==newItem,bothNaN||oldItem===newItem||(changeDetected++,oldValue[key]=newItem)):(oldLength++,oldValue[key]=newItem,changeDetected++));if(oldLength>newLength){changeDetected++;for(key in oldValue)newValue.hasOwnProperty(key)||(oldLength--,delete oldValue[key])}}else oldValue!==newValue&&(oldValue=newValue,changeDetected++);return changeDetected}}function $watchCollectionAction(){if(initRun?(initRun=!1,listener(newValue,newValue,self)):listener(newValue,veryOldValue,self),trackVeryOldValue)if(isObject(newValue))if(isArrayLike(newValue)){veryOldValue=new Array(newValue.length);for(var i=0;i<newValue.length;i++)veryOldValue[i]=newValue[i]}else{veryOldValue={};for(var key in newValue)hasOwnProperty.call(newValue,key)&&(veryOldValue[key]=newValue[key])}else veryOldValue=newValue}$watchCollectionInterceptor.$stateful=!0;var newValue,oldValue,veryOldValue,self=this,trackVeryOldValue=listener.length>1,changeDetected=0,changeDetector=$parse(obj,$watchCollectionInterceptor),internalArray=[],internalObject={},initRun=!0,oldLength=0;return this.$watch(changeDetector,$watchCollectionAction)},$digest:function(){var watch,value,last,watchers,length,dirty,next,current,logIdx,asyncTask,ttl=TTL,target=this,watchLog=[];beginPhase("$digest"),$browser.$$checkUrlChange(),this===$rootScope&&null!==applyAsyncId&&($browser.defer.cancel(applyAsyncId),flushApplyAsync()),lastDirtyWatch=null;do{for(dirty=!1,current=target;asyncQueue.length;){try{asyncTask=asyncQueue.shift(),asyncTask.scope.$eval(asyncTask.expression,asyncTask.locals)}catch(e){$exceptionHandler(e)}lastDirtyWatch=null}traverseScopesLoop:do{if(watchers=current.$$watchers)for(length=watchers.length;length--;)try{if(watch=watchers[length])if((value=watch.get(current))===(last=watch.last)||(watch.eq?equals(value,last):"number"==typeof value&&"number"==typeof last&&isNaN(value)&&isNaN(last))){if(watch===lastDirtyWatch){dirty=!1;break traverseScopesLoop}}else dirty=!0,lastDirtyWatch=watch,watch.last=watch.eq?copy(value,null):value,watch.fn(value,last===initWatchVal?value:last,current),5>ttl&&(logIdx=4-ttl,watchLog[logIdx]||(watchLog[logIdx]=[]),watchLog[logIdx].push({msg:isFunction(watch.exp)?"fn: "+(watch.exp.name||watch.exp.toString()):watch.exp,newVal:value,oldVal:last}))}catch(e){$exceptionHandler(e)}if(!(next=current.$$childHead||current!==target&&current.$$nextSibling))for(;current!==target&&!(next=current.$$nextSibling);)current=current.$parent}while(current=next);if((dirty||asyncQueue.length)&&!ttl--)throw clearPhase(),$rootScopeMinErr("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",TTL,watchLog)}while(dirty||asyncQueue.length);for(clearPhase();postDigestQueue.length;)try{postDigestQueue.shift()()}catch(e){$exceptionHandler(e)}},$destroy:function(){if(!this.$$destroyed){var parent=this.$parent;if(this.$broadcast("$destroy"),this.$$destroyed=!0,this!==$rootScope){for(var eventName in this.$$listenerCount)decrementListenerCount(this,this.$$listenerCount[eventName],eventName);parent.$$childHead==this&&(parent.$$childHead=this.$$nextSibling),parent.$$childTail==this&&(parent.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=noop,this.$on=this.$watch=this.$watchGroup=function(){return noop},this.$$listeners={},this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}}},$eval:function(expr,locals){return $parse(expr)(this,locals)},$evalAsync:function(expr,locals){$rootScope.$$phase||asyncQueue.length||$browser.defer(function(){asyncQueue.length&&$rootScope.$digest()}),asyncQueue.push({scope:this,expression:expr,locals:locals})},$$postDigest:function(fn){postDigestQueue.push(fn)},$apply:function(expr){try{return beginPhase("$apply"),this.$eval(expr)}catch(e){$exceptionHandler(e)}finally{clearPhase();try{$rootScope.$digest()}catch(e){throw $exceptionHandler(e),e}}},$applyAsync:function(expr){function $applyAsyncExpression(){scope.$eval(expr)}var scope=this;expr&&applyAsyncQueue.push($applyAsyncExpression),scheduleApplyAsync()},$on:function(name,listener){var namedListeners=this.$$listeners[name];namedListeners||(this.$$listeners[name]=namedListeners=[]),namedListeners.push(listener);var current=this;do current.$$listenerCount[name]||(current.$$listenerCount[name]=0),current.$$listenerCount[name]++;while(current=current.$parent);var self=this;return function(){var indexOfListener=namedListeners.indexOf(listener);-1!==indexOfListener&&(namedListeners[indexOfListener]=null,decrementListenerCount(self,1,name))}},$emit:function(name){var namedListeners,i,length,empty=[],scope=this,stopPropagation=!1,event={name:name,targetScope:scope,stopPropagation:function(){stopPropagation=!0},preventDefault:function(){event.defaultPrevented=!0},defaultPrevented:!1},listenerArgs=concat([event],arguments,1);do{for(namedListeners=scope.$$listeners[name]||empty,event.currentScope=scope,i=0,length=namedListeners.length;length>i;i++)if(namedListeners[i])try{namedListeners[i].apply(null,listenerArgs)}catch(e){$exceptionHandler(e)}else namedListeners.splice(i,1),i--,length--;if(stopPropagation)return event.currentScope=null,event;scope=scope.$parent}while(scope);return event.currentScope=null,event},$broadcast:function(name){var target=this,current=target,next=target,event={name:name,targetScope:target,preventDefault:function(){event.defaultPrevented=!0},defaultPrevented:!1};if(!target.$$listenerCount[name])return event;for(var listeners,i,length,listenerArgs=concat([event],arguments,1);current=next;){for(event.currentScope=current,listeners=current.$$listeners[name]||[],i=0,length=listeners.length;length>i;i++)if(listeners[i])try{listeners[i].apply(null,listenerArgs)}catch(e){$exceptionHandler(e)}else listeners.splice(i,1),i--,length--;if(!(next=current.$$listenerCount[name]&&current.$$childHead||current!==target&&current.$$nextSibling))for(;current!==target&&!(next=current.$$nextSibling);)current=current.$parent}return event.currentScope=null,event}};var $rootScope=new Scope,asyncQueue=$rootScope.$$asyncQueue=[],postDigestQueue=$rootScope.$$postDigestQueue=[],applyAsyncQueue=$rootScope.$$applyAsyncQueue=[];return $rootScope}]}function $$SanitizeUriProvider(){var aHrefSanitizationWhitelist=/^\s*(https?|ftp|mailto|tel|file):/,imgSrcSanitizationWhitelist=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(regexp){return isDefined(regexp)?(aHrefSanitizationWhitelist=regexp,this):aHrefSanitizationWhitelist},this.imgSrcSanitizationWhitelist=function(regexp){return isDefined(regexp)?(imgSrcSanitizationWhitelist=regexp,this):imgSrcSanitizationWhitelist},this.$get=function(){return function(uri,isImage){var normalizedVal,regex=isImage?imgSrcSanitizationWhitelist:aHrefSanitizationWhitelist;return normalizedVal=urlResolve(uri).href,""===normalizedVal||normalizedVal.match(regex)?uri:"unsafe:"+normalizedVal}}}function adjustMatcher(matcher){if("self"===matcher)return matcher;if(isString(matcher)){if(matcher.indexOf("***")>-1)throw $sceMinErr("iwcard","Illegal sequence *** in string matcher.  String: {0}",matcher);return matcher=escapeForRegexp(matcher).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+matcher+"$")}if(isRegExp(matcher))return new RegExp("^"+matcher.source+"$");throw $sceMinErr("imatcher",'Matchers may only be "self", string patterns or RegExp objects')
}function adjustMatchers(matchers){var adjustedMatchers=[];return isDefined(matchers)&&forEach(matchers,function(matcher){adjustedMatchers.push(adjustMatcher(matcher))}),adjustedMatchers}function $SceDelegateProvider(){this.SCE_CONTEXTS=SCE_CONTEXTS;var resourceUrlWhitelist=["self"],resourceUrlBlacklist=[];this.resourceUrlWhitelist=function(value){return arguments.length&&(resourceUrlWhitelist=adjustMatchers(value)),resourceUrlWhitelist},this.resourceUrlBlacklist=function(value){return arguments.length&&(resourceUrlBlacklist=adjustMatchers(value)),resourceUrlBlacklist},this.$get=["$injector",function($injector){function matchUrl(matcher,parsedUrl){return"self"===matcher?urlIsSameOrigin(parsedUrl):!!matcher.exec(parsedUrl.href)}function isResourceUrlAllowedByPolicy(url){var i,n,parsedUrl=urlResolve(url.toString()),allowed=!1;for(i=0,n=resourceUrlWhitelist.length;n>i;i++)if(matchUrl(resourceUrlWhitelist[i],parsedUrl)){allowed=!0;break}if(allowed)for(i=0,n=resourceUrlBlacklist.length;n>i;i++)if(matchUrl(resourceUrlBlacklist[i],parsedUrl)){allowed=!1;break}return allowed}function generateHolderType(Base){var holderType=function(trustedValue){this.$$unwrapTrustedValue=function(){return trustedValue}};return Base&&(holderType.prototype=new Base),holderType.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},holderType.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},holderType}function trustAs(type,trustedValue){var Constructor=byType.hasOwnProperty(type)?byType[type]:null;if(!Constructor)throw $sceMinErr("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",type,trustedValue);if(null===trustedValue||trustedValue===undefined||""===trustedValue)return trustedValue;if("string"!=typeof trustedValue)throw $sceMinErr("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",type);return new Constructor(trustedValue)}function valueOf(maybeTrusted){return maybeTrusted instanceof trustedValueHolderBase?maybeTrusted.$$unwrapTrustedValue():maybeTrusted}function getTrusted(type,maybeTrusted){if(null===maybeTrusted||maybeTrusted===undefined||""===maybeTrusted)return maybeTrusted;var constructor=byType.hasOwnProperty(type)?byType[type]:null;if(constructor&&maybeTrusted instanceof constructor)return maybeTrusted.$$unwrapTrustedValue();if(type===SCE_CONTEXTS.RESOURCE_URL){if(isResourceUrlAllowedByPolicy(maybeTrusted))return maybeTrusted;throw $sceMinErr("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",maybeTrusted.toString())}if(type===SCE_CONTEXTS.HTML)return htmlSanitizer(maybeTrusted);throw $sceMinErr("unsafe","Attempting to use an unsafe value in a safe context.")}var htmlSanitizer=function(){throw $sceMinErr("unsafe","Attempting to use an unsafe value in a safe context.")};$injector.has("$sanitize")&&(htmlSanitizer=$injector.get("$sanitize"));var trustedValueHolderBase=generateHolderType(),byType={};return byType[SCE_CONTEXTS.HTML]=generateHolderType(trustedValueHolderBase),byType[SCE_CONTEXTS.CSS]=generateHolderType(trustedValueHolderBase),byType[SCE_CONTEXTS.URL]=generateHolderType(trustedValueHolderBase),byType[SCE_CONTEXTS.JS]=generateHolderType(trustedValueHolderBase),byType[SCE_CONTEXTS.RESOURCE_URL]=generateHolderType(byType[SCE_CONTEXTS.URL]),{trustAs:trustAs,getTrusted:getTrusted,valueOf:valueOf}}]}function $SceProvider(){var enabled=!0;this.enabled=function(value){return arguments.length&&(enabled=!!value),enabled},this.$get=["$parse","$sceDelegate",function($parse,$sceDelegate){if(enabled&&8>msie)throw $sceMinErr("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var sce=shallowCopy(SCE_CONTEXTS);sce.isEnabled=function(){return enabled},sce.trustAs=$sceDelegate.trustAs,sce.getTrusted=$sceDelegate.getTrusted,sce.valueOf=$sceDelegate.valueOf,enabled||(sce.trustAs=sce.getTrusted=function(type,value){return value},sce.valueOf=identity),sce.parseAs=function(type,expr){var parsed=$parse(expr);return parsed.literal&&parsed.constant?parsed:$parse(expr,function(value){return sce.getTrusted(type,value)})};var parse=sce.parseAs,getTrusted=sce.getTrusted,trustAs=sce.trustAs;return forEach(SCE_CONTEXTS,function(enumValue,name){var lName=lowercase(name);sce[camelCase("parse_as_"+lName)]=function(expr){return parse(enumValue,expr)},sce[camelCase("get_trusted_"+lName)]=function(value){return getTrusted(enumValue,value)},sce[camelCase("trust_as_"+lName)]=function(value){return trustAs(enumValue,value)}}),sce}]}function $SnifferProvider(){this.$get=["$window","$document",function($window,$document){var vendorPrefix,match,eventSupport={},android=int((/android (\d+)/.exec(lowercase(($window.navigator||{}).userAgent))||[])[1]),boxee=/Boxee/i.test(($window.navigator||{}).userAgent),document=$document[0]||{},vendorRegex=/^(Moz|webkit|ms)(?=[A-Z])/,bodyStyle=document.body&&document.body.style,transitions=!1,animations=!1;if(bodyStyle){for(var prop in bodyStyle)if(match=vendorRegex.exec(prop)){vendorPrefix=match[0],vendorPrefix=vendorPrefix.substr(0,1).toUpperCase()+vendorPrefix.substr(1);break}vendorPrefix||(vendorPrefix="WebkitOpacity"in bodyStyle&&"webkit"),transitions=!!("transition"in bodyStyle||vendorPrefix+"Transition"in bodyStyle),animations=!!("animation"in bodyStyle||vendorPrefix+"Animation"in bodyStyle),!android||transitions&&animations||(transitions=isString(document.body.style.webkitTransition),animations=isString(document.body.style.webkitAnimation))}return{history:!(!$window.history||!$window.history.pushState||4>android||boxee),hasEvent:function(event){if("input"===event&&11>=msie)return!1;if(isUndefined(eventSupport[event])){var divElm=document.createElement("div");eventSupport[event]="on"+event in divElm}return eventSupport[event]},csp:csp(),vendorPrefix:vendorPrefix,transitions:transitions,animations:animations,android:android}}]}function $TemplateRequestProvider(){this.$get=["$templateCache","$http","$q",function($templateCache,$http,$q){function handleRequestFn(tpl,ignoreRequestError){function handleError(resp){if(!ignoreRequestError)throw $compileMinErr("tpload","Failed to load template: {0}",tpl);return $q.reject(resp)}handleRequestFn.totalPendingRequests++;var transformResponse=$http.defaults&&$http.defaults.transformResponse;isArray(transformResponse)?transformResponse=transformResponse.filter(function(transformer){return transformer!==defaultHttpResponseTransform}):transformResponse===defaultHttpResponseTransform&&(transformResponse=null);var httpOptions={cache:$templateCache,transformResponse:transformResponse};return $http.get(tpl,httpOptions)["finally"](function(){handleRequestFn.totalPendingRequests--}).then(function(response){return response.data},handleError)}return handleRequestFn.totalPendingRequests=0,handleRequestFn}]}function $$TestabilityProvider(){this.$get=["$rootScope","$browser","$location",function($rootScope,$browser,$location){var testability={};return testability.findBindings=function(element,expression,opt_exactMatch){var bindings=element.getElementsByClassName("ng-binding"),matches=[];return forEach(bindings,function(binding){var dataBinding=angular.element(binding).data("$binding");dataBinding&&forEach(dataBinding,function(bindingName){if(opt_exactMatch){var matcher=new RegExp("(^|\\s)"+escapeForRegexp(expression)+"(\\s|\\||$)");matcher.test(bindingName)&&matches.push(binding)}else-1!=bindingName.indexOf(expression)&&matches.push(binding)})}),matches},testability.findModels=function(element,expression,opt_exactMatch){for(var prefixes=["ng-","data-ng-","ng\\:"],p=0;p<prefixes.length;++p){var attributeEquals=opt_exactMatch?"=":"*=",selector="["+prefixes[p]+"model"+attributeEquals+'"'+expression+'"]',elements=element.querySelectorAll(selector);if(elements.length)return elements}},testability.getLocation=function(){return $location.url()},testability.setLocation=function(url){url!==$location.url()&&($location.url(url),$rootScope.$digest())},testability.whenStable=function(callback){$browser.notifyWhenNoOutstandingRequests(callback)},testability}]}function $TimeoutProvider(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function($rootScope,$browser,$q,$$q,$exceptionHandler){function timeout(fn,delay,invokeApply){var timeoutId,skipApply=isDefined(invokeApply)&&!invokeApply,deferred=(skipApply?$$q:$q).defer(),promise=deferred.promise;return timeoutId=$browser.defer(function(){try{deferred.resolve(fn())}catch(e){deferred.reject(e),$exceptionHandler(e)}finally{delete deferreds[promise.$$timeoutId]}skipApply||$rootScope.$apply()},delay),promise.$$timeoutId=timeoutId,deferreds[timeoutId]=deferred,promise}var deferreds={};return timeout.cancel=function(promise){return promise&&promise.$$timeoutId in deferreds?(deferreds[promise.$$timeoutId].reject("canceled"),delete deferreds[promise.$$timeoutId],$browser.defer.cancel(promise.$$timeoutId)):!1},timeout}]}function urlResolve(url){var href=url;return msie&&(urlParsingNode.setAttribute("href",href),href=urlParsingNode.href),urlParsingNode.setAttribute("href",href),{href:urlParsingNode.href,protocol:urlParsingNode.protocol?urlParsingNode.protocol.replace(/:$/,""):"",host:urlParsingNode.host,search:urlParsingNode.search?urlParsingNode.search.replace(/^\?/,""):"",hash:urlParsingNode.hash?urlParsingNode.hash.replace(/^#/,""):"",hostname:urlParsingNode.hostname,port:urlParsingNode.port,pathname:"/"===urlParsingNode.pathname.charAt(0)?urlParsingNode.pathname:"/"+urlParsingNode.pathname}}function urlIsSameOrigin(requestUrl){var parsed=isString(requestUrl)?urlResolve(requestUrl):requestUrl;return parsed.protocol===originUrl.protocol&&parsed.host===originUrl.host}function $WindowProvider(){this.$get=valueFn(window)}function $FilterProvider($provide){function register(name,factory){if(isObject(name)){var filters={};return forEach(name,function(filter,key){filters[key]=register(key,filter)}),filters}return $provide.factory(name+suffix,factory)}var suffix="Filter";this.register=register,this.$get=["$injector",function($injector){return function(name){return $injector.get(name+suffix)}}],register("currency",currencyFilter),register("date",dateFilter),register("filter",filterFilter),register("json",jsonFilter),register("limitTo",limitToFilter),register("lowercase",lowercaseFilter),register("number",numberFilter),register("orderBy",orderByFilter),register("uppercase",uppercaseFilter)}function filterFilter(){return function(array,expression,comparator){if(!isArray(array))return array;var predicateFn,matchAgainstAnyProp;switch(typeof expression){case"function":predicateFn=expression;break;case"boolean":case"number":case"string":matchAgainstAnyProp=!0;case"object":predicateFn=createPredicateFn(expression,comparator,matchAgainstAnyProp);break;default:return array}return array.filter(predicateFn)}}function createPredicateFn(expression,comparator,matchAgainstAnyProp){var predicateFn,shouldMatchPrimitives=isObject(expression)&&"$"in expression;return comparator===!0?comparator=equals:isFunction(comparator)||(comparator=function(actual,expected){return isObject(actual)||isObject(expected)?!1:(actual=lowercase(""+actual),expected=lowercase(""+expected),-1!==actual.indexOf(expected))}),predicateFn=function(item){return shouldMatchPrimitives&&!isObject(item)?deepCompare(item,expression.$,comparator,!1):deepCompare(item,expression,comparator,matchAgainstAnyProp)}}function deepCompare(actual,expected,comparator,matchAgainstAnyProp,dontMatchWholeObject){var actualType=typeof actual,expectedType=typeof expected;if("string"===expectedType&&"!"===expected.charAt(0))return!deepCompare(actual,expected.substring(1),comparator,matchAgainstAnyProp);if(isArray(actual))return actual.some(function(item){return deepCompare(item,expected,comparator,matchAgainstAnyProp)});switch(actualType){case"object":var key;if(matchAgainstAnyProp){for(key in actual)if("$"!==key.charAt(0)&&deepCompare(actual[key],expected,comparator,!0))return!0;return dontMatchWholeObject?!1:deepCompare(actual,expected,comparator,!1)}if("object"===expectedType){for(key in expected){var expectedVal=expected[key];if(!isFunction(expectedVal)){var matchAnyProperty="$"===key,actualVal=matchAnyProperty?actual:actual[key];if(!deepCompare(actualVal,expectedVal,comparator,matchAnyProperty,matchAnyProperty))return!1}}return!0}return comparator(actual,expected);case"function":return!1;default:return comparator(actual,expected)}}function currencyFilter($locale){var formats=$locale.NUMBER_FORMATS;return function(amount,currencySymbol,fractionSize){return isUndefined(currencySymbol)&&(currencySymbol=formats.CURRENCY_SYM),isUndefined(fractionSize)&&(fractionSize=formats.PATTERNS[1].maxFrac),null==amount?amount:formatNumber(amount,formats.PATTERNS[1],formats.GROUP_SEP,formats.DECIMAL_SEP,fractionSize).replace(/\u00A4/g,currencySymbol)}}function numberFilter($locale){var formats=$locale.NUMBER_FORMATS;return function(number,fractionSize){return null==number?number:formatNumber(number,formats.PATTERNS[0],formats.GROUP_SEP,formats.DECIMAL_SEP,fractionSize)}}function formatNumber(number,pattern,groupSep,decimalSep,fractionSize){if(!isFinite(number)||isObject(number))return"";var isNegative=0>number;number=Math.abs(number);var numStr=number+"",formatedText="",parts=[],hasExponent=!1;if(-1!==numStr.indexOf("e")){var match=numStr.match(/([\d\.]+)e(-?)(\d+)/);match&&"-"==match[2]&&match[3]>fractionSize+1?number=0:(formatedText=numStr,hasExponent=!0)}if(hasExponent)fractionSize>0&&1>number&&(formatedText=number.toFixed(fractionSize),number=parseFloat(formatedText));else{var fractionLen=(numStr.split(DECIMAL_SEP)[1]||"").length;isUndefined(fractionSize)&&(fractionSize=Math.min(Math.max(pattern.minFrac,fractionLen),pattern.maxFrac)),number=+(Math.round(+(number.toString()+"e"+fractionSize)).toString()+"e"+-fractionSize);var fraction=(""+number).split(DECIMAL_SEP),whole=fraction[0];fraction=fraction[1]||"";var i,pos=0,lgroup=pattern.lgSize,group=pattern.gSize;if(whole.length>=lgroup+group)for(pos=whole.length-lgroup,i=0;pos>i;i++)(pos-i)%group===0&&0!==i&&(formatedText+=groupSep),formatedText+=whole.charAt(i);for(i=pos;i<whole.length;i++)(whole.length-i)%lgroup===0&&0!==i&&(formatedText+=groupSep),formatedText+=whole.charAt(i);for(;fraction.length<fractionSize;)fraction+="0";fractionSize&&"0"!==fractionSize&&(formatedText+=decimalSep+fraction.substr(0,fractionSize))}return 0===number&&(isNegative=!1),parts.push(isNegative?pattern.negPre:pattern.posPre,formatedText,isNegative?pattern.negSuf:pattern.posSuf),parts.join("")}function padNumber(num,digits,trim){var neg="";for(0>num&&(neg="-",num=-num),num=""+num;num.length<digits;)num="0"+num;return trim&&(num=num.substr(num.length-digits)),neg+num}function dateGetter(name,size,offset,trim){return offset=offset||0,function(date){var value=date["get"+name]();return(offset>0||value>-offset)&&(value+=offset),0===value&&-12==offset&&(value=12),padNumber(value,size,trim)}}function dateStrGetter(name,shortForm){return function(date,formats){var value=date["get"+name](),get=uppercase(shortForm?"SHORT"+name:name);return formats[get][value]}}function timeZoneGetter(date){var zone=-1*date.getTimezoneOffset(),paddedZone=zone>=0?"+":"";return paddedZone+=padNumber(Math[zone>0?"floor":"ceil"](zone/60),2)+padNumber(Math.abs(zone%60),2)}function getFirstThursdayOfYear(year){var dayOfWeekOnFirst=new Date(year,0,1).getDay();return new Date(year,0,(4>=dayOfWeekOnFirst?5:12)-dayOfWeekOnFirst)}function getThursdayThisWeek(datetime){return new Date(datetime.getFullYear(),datetime.getMonth(),datetime.getDate()+(4-datetime.getDay()))}function weekGetter(size){return function(date){var firstThurs=getFirstThursdayOfYear(date.getFullYear()),thisThurs=getThursdayThisWeek(date),diff=+thisThurs-+firstThurs,result=1+Math.round(diff/6048e5);return padNumber(result,size)}}function ampmGetter(date,formats){return date.getHours()<12?formats.AMPMS[0]:formats.AMPMS[1]}function dateFilter($locale){function jsonStringToDate(string){var match;if(match=string.match(R_ISO8601_STR)){var date=new Date(0),tzHour=0,tzMin=0,dateSetter=match[8]?date.setUTCFullYear:date.setFullYear,timeSetter=match[8]?date.setUTCHours:date.setHours;match[9]&&(tzHour=int(match[9]+match[10]),tzMin=int(match[9]+match[11])),dateSetter.call(date,int(match[1]),int(match[2])-1,int(match[3]));var h=int(match[4]||0)-tzHour,m=int(match[5]||0)-tzMin,s=int(match[6]||0),ms=Math.round(1e3*parseFloat("0."+(match[7]||0)));return timeSetter.call(date,h,m,s,ms),date}return string}var R_ISO8601_STR=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(date,format,timezone){var fn,match,text="",parts=[];if(format=format||"mediumDate",format=$locale.DATETIME_FORMATS[format]||format,isString(date)&&(date=NUMBER_STRING.test(date)?int(date):jsonStringToDate(date)),isNumber(date)&&(date=new Date(date)),!isDate(date))return date;for(;format;)match=DATE_FORMATS_SPLIT.exec(format),match?(parts=concat(parts,match,1),format=parts.pop()):(parts.push(format),format=null);return timezone&&"UTC"===timezone&&(date=new Date(date.getTime()),date.setMinutes(date.getMinutes()+date.getTimezoneOffset())),forEach(parts,function(value){fn=DATE_FORMATS[value],text+=fn?fn(date,$locale.DATETIME_FORMATS):value.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),text}}function jsonFilter(){return function(object,spacing){return isUndefined(spacing)&&(spacing=2),toJson(object,spacing)}}function limitToFilter(){return function(input,limit){return isNumber(input)&&(input=input.toString()),isArray(input)||isString(input)?(limit=1/0===Math.abs(Number(limit))?Number(limit):int(limit),limit?limit>0?input.slice(0,limit):input.slice(limit):isString(input)?"":[]):input}}function orderByFilter($parse){return function(array,sortPredicate,reverseOrder){function comparator(o1,o2){for(var i=0;i<sortPredicate.length;i++){var comp=sortPredicate[i](o1,o2);if(0!==comp)return comp}return 0}function reverseComparator(comp,descending){return descending?function(a,b){return comp(b,a)}:comp}function isPrimitive(value){switch(typeof value){case"number":case"boolean":case"string":return!0;default:return!1}}function objectToString(value){return null===value?"null":"function"==typeof value.valueOf&&(value=value.valueOf(),isPrimitive(value))?value:"function"==typeof value.toString&&(value=value.toString(),isPrimitive(value))?value:""}function compare(v1,v2){var t1=typeof v1,t2=typeof v2;return t1===t2&&"object"===t1&&(v1=objectToString(v1),v2=objectToString(v2)),t1===t2?("string"===t1&&(v1=v1.toLowerCase(),v2=v2.toLowerCase()),v1===v2?0:v2>v1?-1:1):t2>t1?-1:1}return isArrayLike(array)?(sortPredicate=isArray(sortPredicate)?sortPredicate:[sortPredicate],0===sortPredicate.length&&(sortPredicate=["+"]),sortPredicate=sortPredicate.map(function(predicate){var descending=!1,get=predicate||identity;if(isString(predicate)){if(("+"==predicate.charAt(0)||"-"==predicate.charAt(0))&&(descending="-"==predicate.charAt(0),predicate=predicate.substring(1)),""===predicate)return reverseComparator(compare,descending);if(get=$parse(predicate),get.constant){var key=get();return reverseComparator(function(a,b){return compare(a[key],b[key])},descending)}}return reverseComparator(function(a,b){return compare(get(a),get(b))},descending)}),slice.call(array).sort(reverseComparator(comparator,reverseOrder))):array}}function ngDirective(directive){return isFunction(directive)&&(directive={link:directive}),directive.restrict=directive.restrict||"AC",valueFn(directive)}function nullFormRenameControl(control,name){control.$name=name}function FormController(element,attrs,$scope,$animate,$interpolate){var form=this,controls=[],parentForm=form.$$parentForm=element.parent().controller("form")||nullFormCtrl;form.$error={},form.$$success={},form.$pending=undefined,form.$name=$interpolate(attrs.name||attrs.ngForm||"")($scope),form.$dirty=!1,form.$pristine=!0,form.$valid=!0,form.$invalid=!1,form.$submitted=!1,parentForm.$addControl(form),form.$rollbackViewValue=function(){forEach(controls,function(control){control.$rollbackViewValue()})},form.$commitViewValue=function(){forEach(controls,function(control){control.$commitViewValue()})},form.$addControl=function(control){assertNotHasOwnProperty(control.$name,"input"),controls.push(control),control.$name&&(form[control.$name]=control)},form.$$renameControl=function(control,newName){var oldName=control.$name;form[oldName]===control&&delete form[oldName],form[newName]=control,control.$name=newName},form.$removeControl=function(control){control.$name&&form[control.$name]===control&&delete form[control.$name],forEach(form.$pending,function(value,name){form.$setValidity(name,null,control)}),forEach(form.$error,function(value,name){form.$setValidity(name,null,control)}),forEach(form.$$success,function(value,name){form.$setValidity(name,null,control)}),arrayRemove(controls,control)},addSetValidityMethod({ctrl:this,$element:element,set:function(object,property,controller){var list=object[property];if(list){var index=list.indexOf(controller);-1===index&&list.push(controller)}else object[property]=[controller]},unset:function(object,property,controller){var list=object[property];list&&(arrayRemove(list,controller),0===list.length&&delete object[property])},parentForm:parentForm,$animate:$animate}),form.$setDirty=function(){$animate.removeClass(element,PRISTINE_CLASS),$animate.addClass(element,DIRTY_CLASS),form.$dirty=!0,form.$pristine=!1,parentForm.$setDirty()},form.$setPristine=function(){$animate.setClass(element,PRISTINE_CLASS,DIRTY_CLASS+" "+SUBMITTED_CLASS),form.$dirty=!1,form.$pristine=!0,form.$submitted=!1,forEach(controls,function(control){control.$setPristine()})},form.$setUntouched=function(){forEach(controls,function(control){control.$setUntouched()})},form.$setSubmitted=function(){$animate.addClass(element,SUBMITTED_CLASS),form.$submitted=!0,parentForm.$setSubmitted()}}function stringBasedInputType(ctrl){ctrl.$formatters.push(function(value){return ctrl.$isEmpty(value)?value:value.toString()})}function textInputType(scope,element,attr,ctrl,$sniffer,$browser){baseInputType(scope,element,attr,ctrl,$sniffer,$browser),stringBasedInputType(ctrl)}function baseInputType(scope,element,attr,ctrl,$sniffer,$browser){var type=lowercase(element[0].type);if(!$sniffer.android){var composing=!1;element.on("compositionstart",function(){composing=!0}),element.on("compositionend",function(){composing=!1,listener()})}var listener=function(ev){if(timeout&&($browser.defer.cancel(timeout),timeout=null),!composing){var value=element.val(),event=ev&&ev.type;"password"===type||attr.ngTrim&&"false"===attr.ngTrim||(value=trim(value)),(ctrl.$viewValue!==value||""===value&&ctrl.$$hasNativeValidators)&&ctrl.$setViewValue(value,event)}};if($sniffer.hasEvent("input"))element.on("input",listener);else{var timeout,deferListener=function(ev,input,origValue){timeout||(timeout=$browser.defer(function(){timeout=null,input&&input.value===origValue||listener(ev)}))};element.on("keydown",function(event){var key=event.keyCode;91===key||key>15&&19>key||key>=37&&40>=key||deferListener(event,this,this.value)}),$sniffer.hasEvent("paste")&&element.on("paste cut",deferListener)}element.on("change",listener),ctrl.$render=function(){element.val(ctrl.$isEmpty(ctrl.$viewValue)?"":ctrl.$viewValue)}}function weekParser(isoWeek,existingDate){if(isDate(isoWeek))return isoWeek;if(isString(isoWeek)){WEEK_REGEXP.lastIndex=0;var parts=WEEK_REGEXP.exec(isoWeek);if(parts){var year=+parts[1],week=+parts[2],hours=0,minutes=0,seconds=0,milliseconds=0,firstThurs=getFirstThursdayOfYear(year),addDays=7*(week-1);return existingDate&&(hours=existingDate.getHours(),minutes=existingDate.getMinutes(),seconds=existingDate.getSeconds(),milliseconds=existingDate.getMilliseconds()),new Date(year,0,firstThurs.getDate()+addDays,hours,minutes,seconds,milliseconds)}}return 0/0}function createDateParser(regexp,mapping){return function(iso,date){var parts,map;if(isDate(iso))return iso;if(isString(iso)){if('"'==iso.charAt(0)&&'"'==iso.charAt(iso.length-1)&&(iso=iso.substring(1,iso.length-1)),ISO_DATE_REGEXP.test(iso))return new Date(iso);if(regexp.lastIndex=0,parts=regexp.exec(iso))return parts.shift(),map=date?{yyyy:date.getFullYear(),MM:date.getMonth()+1,dd:date.getDate(),HH:date.getHours(),mm:date.getMinutes(),ss:date.getSeconds(),sss:date.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},forEach(parts,function(part,index){index<mapping.length&&(map[mapping[index]]=+part)}),new Date(map.yyyy,map.MM-1,map.dd,map.HH,map.mm,map.ss||0,1e3*map.sss||0)}return 0/0}}function createDateInputType(type,regexp,parseDate,format){return function(scope,element,attr,ctrl,$sniffer,$browser,$filter){function isValidDate(value){return value&&!(value.getTime&&value.getTime()!==value.getTime())}function parseObservedDateValue(val){return isDefined(val)?isDate(val)?val:parseDate(val):undefined}badInputChecker(scope,element,attr,ctrl),baseInputType(scope,element,attr,ctrl,$sniffer,$browser);var previousDate,timezone=ctrl&&ctrl.$options&&ctrl.$options.timezone;if(ctrl.$$parserName=type,ctrl.$parsers.push(function(value){if(ctrl.$isEmpty(value))return null;if(regexp.test(value)){var parsedDate=parseDate(value,previousDate);return"UTC"===timezone&&parsedDate.setMinutes(parsedDate.getMinutes()-parsedDate.getTimezoneOffset()),parsedDate}return undefined}),ctrl.$formatters.push(function(value){if(value&&!isDate(value))throw $ngModelMinErr("datefmt","Expected `{0}` to be a date",value);if(isValidDate(value)){if(previousDate=value,previousDate&&"UTC"===timezone){var timezoneOffset=6e4*previousDate.getTimezoneOffset();previousDate=new Date(previousDate.getTime()+timezoneOffset)}return $filter("date")(value,format,timezone)}return previousDate=null,""}),isDefined(attr.min)||attr.ngMin){var minVal;ctrl.$validators.min=function(value){return!isValidDate(value)||isUndefined(minVal)||parseDate(value)>=minVal},attr.$observe("min",function(val){minVal=parseObservedDateValue(val),ctrl.$validate()})}if(isDefined(attr.max)||attr.ngMax){var maxVal;ctrl.$validators.max=function(value){return!isValidDate(value)||isUndefined(maxVal)||parseDate(value)<=maxVal},attr.$observe("max",function(val){maxVal=parseObservedDateValue(val),ctrl.$validate()})}}}function badInputChecker(scope,element,attr,ctrl){var node=element[0],nativeValidation=ctrl.$$hasNativeValidators=isObject(node.validity);nativeValidation&&ctrl.$parsers.push(function(value){var validity=element.prop(VALIDITY_STATE_PROPERTY)||{};return validity.badInput&&!validity.typeMismatch?undefined:value})}function numberInputType(scope,element,attr,ctrl,$sniffer,$browser){if(badInputChecker(scope,element,attr,ctrl),baseInputType(scope,element,attr,ctrl,$sniffer,$browser),ctrl.$$parserName="number",ctrl.$parsers.push(function(value){return ctrl.$isEmpty(value)?null:NUMBER_REGEXP.test(value)?parseFloat(value):undefined}),ctrl.$formatters.push(function(value){if(!ctrl.$isEmpty(value)){if(!isNumber(value))throw $ngModelMinErr("numfmt","Expected `{0}` to be a number",value);value=value.toString()}return value}),attr.min||attr.ngMin){var minVal;ctrl.$validators.min=function(value){return ctrl.$isEmpty(value)||isUndefined(minVal)||value>=minVal},attr.$observe("min",function(val){isDefined(val)&&!isNumber(val)&&(val=parseFloat(val,10)),minVal=isNumber(val)&&!isNaN(val)?val:undefined,ctrl.$validate()})}if(attr.max||attr.ngMax){var maxVal;ctrl.$validators.max=function(value){return ctrl.$isEmpty(value)||isUndefined(maxVal)||maxVal>=value},attr.$observe("max",function(val){isDefined(val)&&!isNumber(val)&&(val=parseFloat(val,10)),maxVal=isNumber(val)&&!isNaN(val)?val:undefined,ctrl.$validate()})}}function urlInputType(scope,element,attr,ctrl,$sniffer,$browser){baseInputType(scope,element,attr,ctrl,$sniffer,$browser),stringBasedInputType(ctrl),ctrl.$$parserName="url",ctrl.$validators.url=function(modelValue,viewValue){var value=modelValue||viewValue;return ctrl.$isEmpty(value)||URL_REGEXP.test(value)}}function emailInputType(scope,element,attr,ctrl,$sniffer,$browser){baseInputType(scope,element,attr,ctrl,$sniffer,$browser),stringBasedInputType(ctrl),ctrl.$$parserName="email",ctrl.$validators.email=function(modelValue,viewValue){var value=modelValue||viewValue;return ctrl.$isEmpty(value)||EMAIL_REGEXP.test(value)}}function radioInputType(scope,element,attr,ctrl){isUndefined(attr.name)&&element.attr("name",nextUid());var listener=function(ev){element[0].checked&&ctrl.$setViewValue(attr.value,ev&&ev.type)};element.on("click",listener),ctrl.$render=function(){var value=attr.value;element[0].checked=value==ctrl.$viewValue},attr.$observe("value",ctrl.$render)}function parseConstantExpr($parse,context,name,expression,fallback){var parseFn;if(isDefined(expression)){if(parseFn=$parse(expression),!parseFn.constant)throw minErr("ngModel")("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",name,expression);return parseFn(context)}return fallback}function checkboxInputType(scope,element,attr,ctrl,$sniffer,$browser,$filter,$parse){var trueValue=parseConstantExpr($parse,scope,"ngTrueValue",attr.ngTrueValue,!0),falseValue=parseConstantExpr($parse,scope,"ngFalseValue",attr.ngFalseValue,!1),listener=function(ev){ctrl.$setViewValue(element[0].checked,ev&&ev.type)};element.on("click",listener),ctrl.$render=function(){element[0].checked=ctrl.$viewValue},ctrl.$isEmpty=function(value){return value===!1},ctrl.$formatters.push(function(value){return equals(value,trueValue)}),ctrl.$parsers.push(function(value){return value?trueValue:falseValue})}function classDirective(name,selector){return name="ngClass"+name,["$animate",function($animate){function arrayDifference(tokens1,tokens2){var values=[];outer:for(var i=0;i<tokens1.length;i++){for(var token=tokens1[i],j=0;j<tokens2.length;j++)if(token==tokens2[j])continue outer;values.push(token)}return values}function arrayClasses(classVal){if(isArray(classVal))return classVal;if(isString(classVal))return classVal.split(" ");if(isObject(classVal)){var classes=[];return forEach(classVal,function(v,k){v&&(classes=classes.concat(k.split(" ")))}),classes}return classVal}return{restrict:"AC",link:function(scope,element,attr){function addClasses(classes){var newClasses=digestClassCounts(classes,1);attr.$addClass(newClasses)}function removeClasses(classes){var newClasses=digestClassCounts(classes,-1);attr.$removeClass(newClasses)}function digestClassCounts(classes,count){var classCounts=element.data("$classCounts")||{},classesToUpdate=[];return forEach(classes,function(className){(count>0||classCounts[className])&&(classCounts[className]=(classCounts[className]||0)+count,classCounts[className]===+(count>0)&&classesToUpdate.push(className))}),element.data("$classCounts",classCounts),classesToUpdate.join(" ")}function updateClasses(oldClasses,newClasses){var toAdd=arrayDifference(newClasses,oldClasses),toRemove=arrayDifference(oldClasses,newClasses);toAdd=digestClassCounts(toAdd,1),toRemove=digestClassCounts(toRemove,-1),toAdd&&toAdd.length&&$animate.addClass(element,toAdd),toRemove&&toRemove.length&&$animate.removeClass(element,toRemove)}function ngClassWatchAction(newVal){if(selector===!0||scope.$index%2===selector){var newClasses=arrayClasses(newVal||[]);if(oldVal){if(!equals(newVal,oldVal)){var oldClasses=arrayClasses(oldVal);updateClasses(oldClasses,newClasses)}}else addClasses(newClasses)}oldVal=shallowCopy(newVal)}var oldVal;scope.$watch(attr[name],ngClassWatchAction,!0),attr.$observe("class",function(){ngClassWatchAction(scope.$eval(attr[name]))}),"ngClass"!==name&&scope.$watch("$index",function($index,old$index){var mod=1&$index;if(mod!==(1&old$index)){var classes=arrayClasses(scope.$eval(attr[name]));mod===selector?addClasses(classes):removeClasses(classes)}})}}}]}function addSetValidityMethod(context){function setValidity(validationErrorKey,state,controller){state===undefined?createAndSet("$pending",validationErrorKey,controller):unsetAndCleanup("$pending",validationErrorKey,controller),isBoolean(state)?state?(unset(ctrl.$error,validationErrorKey,controller),set(ctrl.$$success,validationErrorKey,controller)):(set(ctrl.$error,validationErrorKey,controller),unset(ctrl.$$success,validationErrorKey,controller)):(unset(ctrl.$error,validationErrorKey,controller),unset(ctrl.$$success,validationErrorKey,controller)),ctrl.$pending?(cachedToggleClass(PENDING_CLASS,!0),ctrl.$valid=ctrl.$invalid=undefined,toggleValidationCss("",null)):(cachedToggleClass(PENDING_CLASS,!1),ctrl.$valid=isObjectEmpty(ctrl.$error),ctrl.$invalid=!ctrl.$valid,toggleValidationCss("",ctrl.$valid));
var combinedState;combinedState=ctrl.$pending&&ctrl.$pending[validationErrorKey]?undefined:ctrl.$error[validationErrorKey]?!1:ctrl.$$success[validationErrorKey]?!0:null,toggleValidationCss(validationErrorKey,combinedState),parentForm.$setValidity(validationErrorKey,combinedState,ctrl)}function createAndSet(name,value,controller){ctrl[name]||(ctrl[name]={}),set(ctrl[name],value,controller)}function unsetAndCleanup(name,value,controller){ctrl[name]&&unset(ctrl[name],value,controller),isObjectEmpty(ctrl[name])&&(ctrl[name]=undefined)}function cachedToggleClass(className,switchValue){switchValue&&!classCache[className]?($animate.addClass($element,className),classCache[className]=!0):!switchValue&&classCache[className]&&($animate.removeClass($element,className),classCache[className]=!1)}function toggleValidationCss(validationErrorKey,isValid){validationErrorKey=validationErrorKey?"-"+snake_case(validationErrorKey,"-"):"",cachedToggleClass(VALID_CLASS+validationErrorKey,isValid===!0),cachedToggleClass(INVALID_CLASS+validationErrorKey,isValid===!1)}var ctrl=context.ctrl,$element=context.$element,classCache={},set=context.set,unset=context.unset,parentForm=context.parentForm,$animate=context.$animate;classCache[INVALID_CLASS]=!(classCache[VALID_CLASS]=$element.hasClass(VALID_CLASS)),ctrl.$setValidity=setValidity}function isObjectEmpty(obj){if(obj)for(var prop in obj)return!1;return!0}var REGEX_STRING_REGEXP=/^\/(.+)\/([a-z]*)$/,VALIDITY_STATE_PROPERTY="validity",lowercase=function(string){return isString(string)?string.toLowerCase():string},hasOwnProperty=Object.prototype.hasOwnProperty,uppercase=function(string){return isString(string)?string.toUpperCase():string},manualLowercase=function(s){return isString(s)?s.replace(/[A-Z]/g,function(ch){return String.fromCharCode(32|ch.charCodeAt(0))}):s},manualUppercase=function(s){return isString(s)?s.replace(/[a-z]/g,function(ch){return String.fromCharCode(-33&ch.charCodeAt(0))}):s};"i"!=="I".toLowerCase()&&(lowercase=manualLowercase,uppercase=manualUppercase);var msie,jqLite,jQuery,angularModule,slice=[].slice,splice=[].splice,push=[].push,toString=Object.prototype.toString,ngMinErr=minErr("ng"),angular=window.angular||(window.angular={}),uid=0;msie=document.documentMode,noop.$inject=[],identity.$inject=[];var skipDestroyOnNextJQueryCleanData,isArray=Array.isArray,trim=function(value){return isString(value)?value.trim():value},escapeForRegexp=function(s){return s.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},csp=function(){if(isDefined(csp.isActive_))return csp.isActive_;var active=!(!document.querySelector("[ng-csp]")&&!document.querySelector("[data-ng-csp]"));if(!active)try{new Function("")}catch(e){active=!0}return csp.isActive_=active},ngAttrPrefixes=["ng-","data-ng-","ng:","x-ng-"],SNAKE_CASE_REGEXP=/[A-Z]/g,bindJQueryFired=!1,NODE_TYPE_ELEMENT=1,NODE_TYPE_TEXT=3,NODE_TYPE_COMMENT=8,NODE_TYPE_DOCUMENT=9,NODE_TYPE_DOCUMENT_FRAGMENT=11,version={full:"1.3.11",major:1,minor:3,dot:11,codeName:"spiffy-manatee"};JQLite.expando="ng339";var jqCache=JQLite.cache={},jqId=1,addEventListenerFn=function(element,type,fn){element.addEventListener(type,fn,!1)},removeEventListenerFn=function(element,type,fn){element.removeEventListener(type,fn,!1)};JQLite._data=function(node){return this.cache[node[this.expando]]||{}};var SPECIAL_CHARS_REGEXP=/([\:\-\_]+(.))/g,MOZ_HACK_REGEXP=/^moz([A-Z])/,MOUSE_EVENT_MAP={mouseleave:"mouseout",mouseenter:"mouseover"},jqLiteMinErr=minErr("jqLite"),SINGLE_TAG_REGEXP=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,HTML_REGEXP=/<|&#?\w+;/,TAG_NAME_REGEXP=/<([\w:]+)/,XHTML_TAG_REGEXP=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,wrapMap={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};wrapMap.optgroup=wrapMap.option,wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead,wrapMap.th=wrapMap.td;var JQLitePrototype=JQLite.prototype={ready:function(fn){function trigger(){fired||(fired=!0,fn())}var fired=!1;"complete"===document.readyState?setTimeout(trigger):(this.on("DOMContentLoaded",trigger),JQLite(window).on("load",trigger))},toString:function(){var value=[];return forEach(this,function(e){value.push(""+e)}),"["+value.join(", ")+"]"},eq:function(index){return jqLite(index>=0?this[index]:this[this.length+index])},length:0,push:push,sort:[].sort,splice:[].splice},BOOLEAN_ATTR={};forEach("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(value){BOOLEAN_ATTR[lowercase(value)]=value});var BOOLEAN_ELEMENTS={};forEach("input,select,option,textarea,button,form,details".split(","),function(value){BOOLEAN_ELEMENTS[value]=!0});var ALIASED_ATTR={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};forEach({data:jqLiteData,removeData:jqLiteRemoveData},function(fn,name){JQLite[name]=fn}),forEach({data:jqLiteData,inheritedData:jqLiteInheritedData,scope:function(element){return jqLite.data(element,"$scope")||jqLiteInheritedData(element.parentNode||element,["$isolateScope","$scope"])},isolateScope:function(element){return jqLite.data(element,"$isolateScope")||jqLite.data(element,"$isolateScopeNoTemplate")},controller:jqLiteController,injector:function(element){return jqLiteInheritedData(element,"$injector")},removeAttr:function(element,name){element.removeAttribute(name)},hasClass:jqLiteHasClass,css:function(element,name,value){return name=camelCase(name),isDefined(value)?void(element.style[name]=value):element.style[name]},attr:function(element,name,value){var lowercasedName=lowercase(name);if(BOOLEAN_ATTR[lowercasedName]){if(!isDefined(value))return element[name]||(element.attributes.getNamedItem(name)||noop).specified?lowercasedName:undefined;value?(element[name]=!0,element.setAttribute(name,lowercasedName)):(element[name]=!1,element.removeAttribute(lowercasedName))}else if(isDefined(value))element.setAttribute(name,value);else if(element.getAttribute){var ret=element.getAttribute(name,2);return null===ret?undefined:ret}},prop:function(element,name,value){return isDefined(value)?void(element[name]=value):element[name]},text:function(){function getText(element,value){if(isUndefined(value)){var nodeType=element.nodeType;return nodeType===NODE_TYPE_ELEMENT||nodeType===NODE_TYPE_TEXT?element.textContent:""}element.textContent=value}return getText.$dv="",getText}(),val:function(element,value){if(isUndefined(value)){if(element.multiple&&"select"===nodeName_(element)){var result=[];return forEach(element.options,function(option){option.selected&&result.push(option.value||option.text)}),0===result.length?null:result}return element.value}element.value=value},html:function(element,value){return isUndefined(value)?element.innerHTML:(jqLiteDealoc(element,!0),void(element.innerHTML=value))},empty:jqLiteEmpty},function(fn,name){JQLite.prototype[name]=function(arg1,arg2){var i,key,nodeCount=this.length;if(fn!==jqLiteEmpty&&(2==fn.length&&fn!==jqLiteHasClass&&fn!==jqLiteController?arg1:arg2)===undefined){if(isObject(arg1)){for(i=0;nodeCount>i;i++)if(fn===jqLiteData)fn(this[i],arg1);else for(key in arg1)fn(this[i],key,arg1[key]);return this}for(var value=fn.$dv,jj=value===undefined?Math.min(nodeCount,1):nodeCount,j=0;jj>j;j++){var nodeValue=fn(this[j],arg1,arg2);value=value?value+nodeValue:nodeValue}return value}for(i=0;nodeCount>i;i++)fn(this[i],arg1,arg2);return this}}),forEach({removeData:jqLiteRemoveData,on:function jqLiteOn(element,type,fn,unsupported){if(isDefined(unsupported))throw jqLiteMinErr("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(jqLiteAcceptsData(element)){var expandoStore=jqLiteExpandoStore(element,!0),events=expandoStore.events,handle=expandoStore.handle;handle||(handle=expandoStore.handle=createEventHandler(element,events));for(var types=type.indexOf(" ")>=0?type.split(" "):[type],i=types.length;i--;){type=types[i];var eventFns=events[type];eventFns||(events[type]=[],"mouseenter"===type||"mouseleave"===type?jqLiteOn(element,MOUSE_EVENT_MAP[type],function(event){var target=this,related=event.relatedTarget;(!related||related!==target&&!target.contains(related))&&handle(event,type)}):"$destroy"!==type&&addEventListenerFn(element,type,handle),eventFns=events[type]),eventFns.push(fn)}}},off:jqLiteOff,one:function(element,type,fn){element=jqLite(element),element.on(type,function onFn(){element.off(type,fn),element.off(type,onFn)}),element.on(type,fn)},replaceWith:function(element,replaceNode){var index,parent=element.parentNode;jqLiteDealoc(element),forEach(new JQLite(replaceNode),function(node){index?parent.insertBefore(node,index.nextSibling):parent.replaceChild(node,element),index=node})},children:function(element){var children=[];return forEach(element.childNodes,function(element){element.nodeType===NODE_TYPE_ELEMENT&&children.push(element)}),children},contents:function(element){return element.contentDocument||element.childNodes||[]},append:function(element,node){var nodeType=element.nodeType;if(nodeType===NODE_TYPE_ELEMENT||nodeType===NODE_TYPE_DOCUMENT_FRAGMENT){node=new JQLite(node);for(var i=0,ii=node.length;ii>i;i++){var child=node[i];element.appendChild(child)}}},prepend:function(element,node){if(element.nodeType===NODE_TYPE_ELEMENT){var index=element.firstChild;forEach(new JQLite(node),function(child){element.insertBefore(child,index)})}},wrap:function(element,wrapNode){wrapNode=jqLite(wrapNode).eq(0).clone()[0];var parent=element.parentNode;parent&&parent.replaceChild(wrapNode,element),wrapNode.appendChild(element)},remove:jqLiteRemove,detach:function(element){jqLiteRemove(element,!0)},after:function(element,newElement){var index=element,parent=element.parentNode;newElement=new JQLite(newElement);for(var i=0,ii=newElement.length;ii>i;i++){var node=newElement[i];parent.insertBefore(node,index.nextSibling),index=node}},addClass:jqLiteAddClass,removeClass:jqLiteRemoveClass,toggleClass:function(element,selector,condition){selector&&forEach(selector.split(" "),function(className){var classCondition=condition;isUndefined(classCondition)&&(classCondition=!jqLiteHasClass(element,className)),(classCondition?jqLiteAddClass:jqLiteRemoveClass)(element,className)})},parent:function(element){var parent=element.parentNode;return parent&&parent.nodeType!==NODE_TYPE_DOCUMENT_FRAGMENT?parent:null},next:function(element){return element.nextElementSibling},find:function(element,selector){return element.getElementsByTagName?element.getElementsByTagName(selector):[]},clone:jqLiteClone,triggerHandler:function(element,event,extraParameters){var dummyEvent,eventFnsCopy,handlerArgs,eventName=event.type||event,expandoStore=jqLiteExpandoStore(element),events=expandoStore&&expandoStore.events,eventFns=events&&events[eventName];eventFns&&(dummyEvent={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:noop,type:eventName,target:element},event.type&&(dummyEvent=extend(dummyEvent,event)),eventFnsCopy=shallowCopy(eventFns),handlerArgs=extraParameters?[dummyEvent].concat(extraParameters):[dummyEvent],forEach(eventFnsCopy,function(fn){dummyEvent.isImmediatePropagationStopped()||fn.apply(element,handlerArgs)}))}},function(fn,name){JQLite.prototype[name]=function(arg1,arg2,arg3){for(var value,i=0,ii=this.length;ii>i;i++)isUndefined(value)?(value=fn(this[i],arg1,arg2,arg3),isDefined(value)&&(value=jqLite(value))):jqLiteAddNodes(value,fn(this[i],arg1,arg2,arg3));return isDefined(value)?value:this},JQLite.prototype.bind=JQLite.prototype.on,JQLite.prototype.unbind=JQLite.prototype.off}),HashMap.prototype={put:function(key,value){this[hashKey(key,this.nextUid)]=value},get:function(key){return this[hashKey(key,this.nextUid)]},remove:function(key){var value=this[key=hashKey(key,this.nextUid)];return delete this[key],value}};var FN_ARGS=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,FN_ARG_SPLIT=/,/,FN_ARG=/^\s*(_?)(\S+?)\1\s*$/,STRIP_COMMENTS=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,$injectorMinErr=minErr("$injector");createInjector.$$annotate=annotate;var $animateMinErr=minErr("$animate"),$AnimateProvider=["$provide",function($provide){this.$$selectors={},this.register=function(name,factory){var key=name+"-animation";if(name&&"."!=name.charAt(0))throw $animateMinErr("notcsel","Expecting class selector starting with '.' got '{0}'.",name);this.$$selectors[name.substr(1)]=key,$provide.factory(key,factory)},this.classNameFilter=function(expression){return 1===arguments.length&&(this.$$classNameFilter=expression instanceof RegExp?expression:null),this.$$classNameFilter},this.$get=["$$q","$$asyncCallback","$rootScope",function($$q,$$asyncCallback,$rootScope){function runAnimationPostDigest(fn){var cancelFn,defer=$$q.defer();return defer.promise.$$cancelFn=function(){cancelFn&&cancelFn()},$rootScope.$$postDigest(function(){cancelFn=fn(function(){defer.resolve()})}),defer.promise}function resolveElementClasses(element,classes){var toAdd=[],toRemove=[],hasClasses=createMap();return forEach((element.attr("class")||"").split(/\s+/),function(className){hasClasses[className]=!0}),forEach(classes,function(status,className){var hasClass=hasClasses[className];status===!1&&hasClass?toRemove.push(className):status!==!0||hasClass||toAdd.push(className)}),toAdd.length+toRemove.length>0&&[toAdd.length?toAdd:null,toRemove.length?toRemove:null]}function cachedClassManipulation(cache,classes,op){for(var i=0,ii=classes.length;ii>i;++i){var className=classes[i];cache[className]=op}}function asyncPromise(){return currentDefer||(currentDefer=$$q.defer(),$$asyncCallback(function(){currentDefer.resolve(),currentDefer=null})),currentDefer.promise}function applyStyles(element,options){if(angular.isObject(options)){var styles=extend(options.from||{},options.to||{});element.css(styles)}}var currentDefer;return{animate:function(element,from,to){return applyStyles(element,{from:from,to:to}),asyncPromise()},enter:function(element,parent,after,options){return applyStyles(element,options),after?after.after(element):parent.prepend(element),asyncPromise()},leave:function(element){return element.remove(),asyncPromise()},move:function(element,parent,after,options){return this.enter(element,parent,after,options)},addClass:function(element,className,options){return this.setClass(element,className,[],options)},$$addClassImmediately:function(element,className,options){return element=jqLite(element),className=isString(className)?className:isArray(className)?className.join(" "):"",forEach(element,function(element){jqLiteAddClass(element,className)}),applyStyles(element,options),asyncPromise()},removeClass:function(element,className,options){return this.setClass(element,[],className,options)},$$removeClassImmediately:function(element,className,options){return element=jqLite(element),className=isString(className)?className:isArray(className)?className.join(" "):"",forEach(element,function(element){jqLiteRemoveClass(element,className)}),applyStyles(element,options),asyncPromise()},setClass:function(element,add,remove,options){var self=this,STORAGE_KEY="$$animateClasses",createdCache=!1;element=jqLite(element);var cache=element.data(STORAGE_KEY);cache?options&&cache.options&&(cache.options=angular.extend(cache.options||{},options)):(cache={classes:{},options:options},createdCache=!0);var classes=cache.classes;return add=isArray(add)?add:add.split(" "),remove=isArray(remove)?remove:remove.split(" "),cachedClassManipulation(classes,add,!0),cachedClassManipulation(classes,remove,!1),createdCache&&(cache.promise=runAnimationPostDigest(function(done){var cache=element.data(STORAGE_KEY);if(element.removeData(STORAGE_KEY),cache){var classes=resolveElementClasses(element,cache.classes);classes&&self.$$setClassImmediately(element,classes[0],classes[1],cache.options)}done()}),element.data(STORAGE_KEY,cache)),cache.promise},$$setClassImmediately:function(element,add,remove,options){return add&&this.$$addClassImmediately(element,add),remove&&this.$$removeClassImmediately(element,remove),applyStyles(element,options),asyncPromise()},enabled:noop,cancel:noop}}]}],$compileMinErr=minErr("$compile");$CompileProvider.$inject=["$provide","$$sanitizeUriProvider"];var PREFIX_REGEXP=/^((?:x|data)[\:\-_])/i,APPLICATION_JSON="application/json",CONTENT_TYPE_APPLICATION_JSON={"Content-Type":APPLICATION_JSON+";charset=utf-8"},JSON_START=/^\[|^\{(?!\{)/,JSON_ENDS={"[":/]$/,"{":/}$/},JSON_PROTECTION_PREFIX=/^\)\]\}',?\n/,$interpolateMinErr=minErr("$interpolate"),PATH_MATCH=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,DEFAULT_PORTS={http:80,https:443,ftp:21},$locationMinErr=minErr("$location"),locationPrototype={$$html5:!1,$$replace:!1,absUrl:locationGetter("$$absUrl"),url:function(url){if(isUndefined(url))return this.$$url;var match=PATH_MATCH.exec(url);return(match[1]||""===url)&&this.path(decodeURIComponent(match[1])),(match[2]||match[1]||""===url)&&this.search(match[3]||""),this.hash(match[5]||""),this},protocol:locationGetter("$$protocol"),host:locationGetter("$$host"),port:locationGetter("$$port"),path:locationGetterSetter("$$path",function(path){return path=null!==path?path.toString():"","/"==path.charAt(0)?path:"/"+path}),search:function(search,paramValue){switch(arguments.length){case 0:return this.$$search;case 1:if(isString(search)||isNumber(search))search=search.toString(),this.$$search=parseKeyValue(search);else{if(!isObject(search))throw $locationMinErr("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");search=copy(search,{}),forEach(search,function(value,key){null==value&&delete search[key]}),this.$$search=search}break;default:isUndefined(paramValue)||null===paramValue?delete this.$$search[search]:this.$$search[search]=paramValue}return this.$$compose(),this},hash:locationGetterSetter("$$hash",function(hash){return null!==hash?hash.toString():""}),replace:function(){return this.$$replace=!0,this}};forEach([LocationHashbangInHtml5Url,LocationHashbangUrl,LocationHtml5Url],function(Location){Location.prototype=Object.create(locationPrototype),Location.prototype.state=function(state){if(!arguments.length)return this.$$state;if(Location!==LocationHtml5Url||!this.$$html5)throw $locationMinErr("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=isUndefined(state)?null:state,this}});var $parseMinErr=minErr("$parse"),CALL=Function.prototype.call,APPLY=Function.prototype.apply,BIND=Function.prototype.bind,CONSTANTS=createMap();forEach({"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:function(){}},function(constantGetter,name){constantGetter.constant=constantGetter.literal=constantGetter.sharedGetter=!0,CONSTANTS[name]=constantGetter}),CONSTANTS["this"]=function(self){return self},CONSTANTS["this"].sharedGetter=!0;var OPERATORS=extend(createMap(),{"+":function(self,locals,a,b){return a=a(self,locals),b=b(self,locals),isDefined(a)?isDefined(b)?a+b:a:isDefined(b)?b:undefined},"-":function(self,locals,a,b){return a=a(self,locals),b=b(self,locals),(isDefined(a)?a:0)-(isDefined(b)?b:0)},"*":function(self,locals,a,b){return a(self,locals)*b(self,locals)},"/":function(self,locals,a,b){return a(self,locals)/b(self,locals)},"%":function(self,locals,a,b){return a(self,locals)%b(self,locals)},"===":function(self,locals,a,b){return a(self,locals)===b(self,locals)},"!==":function(self,locals,a,b){return a(self,locals)!==b(self,locals)},"==":function(self,locals,a,b){return a(self,locals)==b(self,locals)},"!=":function(self,locals,a,b){return a(self,locals)!=b(self,locals)},"<":function(self,locals,a,b){return a(self,locals)<b(self,locals)},">":function(self,locals,a,b){return a(self,locals)>b(self,locals)},"<=":function(self,locals,a,b){return a(self,locals)<=b(self,locals)},">=":function(self,locals,a,b){return a(self,locals)>=b(self,locals)},"&&":function(self,locals,a,b){return a(self,locals)&&b(self,locals)},"||":function(self,locals,a,b){return a(self,locals)||b(self,locals)},"!":function(self,locals,a){return!a(self,locals)},"=":!0,"|":!0}),ESCAPE={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},Lexer=function(options){this.options=options};Lexer.prototype={constructor:Lexer,lex:function(text){for(this.text=text,this.index=0,this.tokens=[];this.index<this.text.length;){var ch=this.text.charAt(this.index);if('"'===ch||"'"===ch)this.readString(ch);else if(this.isNumber(ch)||"."===ch&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(ch))this.readIdent();else if(this.is(ch,"(){}[].,;:?"))this.tokens.push({index:this.index,text:ch}),this.index++;else if(this.isWhitespace(ch))this.index++;else{var ch2=ch+this.peek(),ch3=ch2+this.peek(2),op1=OPERATORS[ch],op2=OPERATORS[ch2],op3=OPERATORS[ch3];if(op1||op2||op3){var token=op3?ch3:op2?ch2:ch;this.tokens.push({index:this.index,text:token,operator:!0}),this.index+=token.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(ch,chars){return-1!==chars.indexOf(ch)},peek:function(i){var num=i||1;return this.index+num<this.text.length?this.text.charAt(this.index+num):!1},isNumber:function(ch){return ch>="0"&&"9">=ch&&"string"==typeof ch},isWhitespace:function(ch){return" "===ch||"\r"===ch||"	"===ch||"\n"===ch||""===ch||""===ch},isIdent:function(ch){return ch>="a"&&"z">=ch||ch>="A"&&"Z">=ch||"_"===ch||"$"===ch},isExpOperator:function(ch){return"-"===ch||"+"===ch||this.isNumber(ch)},throwError:function(error,start,end){end=end||this.index;var colStr=isDefined(start)?"s "+start+"-"+this.index+" ["+this.text.substring(start,end)+"]":" "+end;throw $parseMinErr("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",error,colStr,this.text)},readNumber:function(){for(var number="",start=this.index;this.index<this.text.length;){var ch=lowercase(this.text.charAt(this.index));if("."==ch||this.isNumber(ch))number+=ch;else{var peekCh=this.peek();if("e"==ch&&this.isExpOperator(peekCh))number+=ch;else if(this.isExpOperator(ch)&&peekCh&&this.isNumber(peekCh)&&"e"==number.charAt(number.length-1))number+=ch;else{if(!this.isExpOperator(ch)||peekCh&&this.isNumber(peekCh)||"e"!=number.charAt(number.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:start,text:number,constant:!0,value:Number(number)})},readIdent:function(){for(var start=this.index;this.index<this.text.length;){var ch=this.text.charAt(this.index);if(!this.isIdent(ch)&&!this.isNumber(ch))break;this.index++}this.tokens.push({index:start,text:this.text.slice(start,this.index),identifier:!0})},readString:function(quote){var start=this.index;this.index++;for(var string="",rawString=quote,escape=!1;this.index<this.text.length;){var ch=this.text.charAt(this.index);if(rawString+=ch,escape){if("u"===ch){var hex=this.text.substring(this.index+1,this.index+5);hex.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+hex+"]"),this.index+=4,string+=String.fromCharCode(parseInt(hex,16))}else{var rep=ESCAPE[ch];string+=rep||ch}escape=!1}else if("\\"===ch)escape=!0;else{if(ch===quote)return this.index++,void this.tokens.push({index:start,text:rawString,constant:!0,value:string});string+=ch}this.index++}this.throwError("Unterminated quote",start)}};var Parser=function(lexer,$filter,options){this.lexer=lexer,this.$filter=$filter,this.options=options};Parser.ZERO=extend(function(){return 0},{sharedGetter:!0,constant:!0}),Parser.prototype={constructor:Parser,parse:function(text){this.text=text,this.tokens=this.lexer.lex(text);var value=this.statements();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),value.literal=!!value.literal,value.constant=!!value.constant,value},primary:function(){var primary;this.expect("(")?(primary=this.filterChain(),this.consume(")")):this.expect("[")?primary=this.arrayDeclaration():this.expect("{")?primary=this.object():this.peek().identifier&&this.peek().text in CONSTANTS?primary=CONSTANTS[this.consume().text]:this.peek().identifier?primary=this.identifier():this.peek().constant?primary=this.constant():this.throwError("not a primary expression",this.peek());for(var next,context;next=this.expect("(","[",".");)"("===next.text?(primary=this.functionCall(primary,context),context=null):"["===next.text?(context=primary,primary=this.objectIndex(primary)):"."===next.text?(context=primary,primary=this.fieldAccess(primary)):this.throwError("IMPOSSIBLE");return primary},throwError:function(msg,token){throw $parseMinErr("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",token.text,msg,token.index+1,this.text,this.text.substring(token.index))},peekToken:function(){if(0===this.tokens.length)throw $parseMinErr("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e1,e2,e3,e4){return this.peekAhead(0,e1,e2,e3,e4)},peekAhead:function(i,e1,e2,e3,e4){if(this.tokens.length>i){var token=this.tokens[i],t=token.text;if(t===e1||t===e2||t===e3||t===e4||!e1&&!e2&&!e3&&!e4)return token}return!1},expect:function(e1,e2,e3,e4){var token=this.peek(e1,e2,e3,e4);return token?(this.tokens.shift(),token):!1},consume:function(e1){if(0===this.tokens.length)throw $parseMinErr("ueoe","Unexpected end of expression: {0}",this.text);var token=this.expect(e1);return token||this.throwError("is unexpected, expecting ["+e1+"]",this.peek()),token},unaryFn:function(op,right){var fn=OPERATORS[op];return extend(function(self,locals){return fn(self,locals,right)},{constant:right.constant,inputs:[right]})},binaryFn:function(left,op,right,isBranching){var fn=OPERATORS[op];return extend(function(self,locals){return fn(self,locals,left,right)},{constant:left.constant&&right.constant,inputs:!isBranching&&[left,right]})},identifier:function(){for(var id=this.consume().text;this.peek(".")&&this.peekAhead(1).identifier&&!this.peekAhead(2,"(");)id+=this.consume().text+this.consume().text;return getterFn(id,this.options,this.text)},constant:function(){var value=this.consume().value;return extend(function(){return value},{constant:!0,literal:!0})},statements:function(){for(var statements=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&statements.push(this.filterChain()),!this.expect(";"))return 1===statements.length?statements[0]:function(self,locals){for(var value,i=0,ii=statements.length;ii>i;i++)value=statements[i](self,locals);return value}},filterChain:function(){for(var token,left=this.expression();token=this.expect("|");)left=this.filter(left);return left},filter:function(inputFn){var argsFn,args,fn=this.$filter(this.consume().text);if(this.peek(":"))for(argsFn=[],args=[];this.expect(":");)argsFn.push(this.expression());var inputs=[inputFn].concat(argsFn||[]);return extend(function(self,locals){var input=inputFn(self,locals);if(args){args[0]=input;for(var i=argsFn.length;i--;)args[i+1]=argsFn[i](self,locals);return fn.apply(undefined,args)}return fn(input)},{constant:!fn.$stateful&&inputs.every(isConstant),inputs:!fn.$stateful&&inputs})},expression:function(){return this.assignment()},assignment:function(){var right,token,left=this.ternary();return(token=this.expect("="))?(left.assign||this.throwError("implies assignment but ["+this.text.substring(0,token.index)+"] can not be assigned to",token),right=this.ternary(),extend(function(scope,locals){return left.assign(scope,right(scope,locals),locals)},{inputs:[left,right]})):left},ternary:function(){var middle,token,left=this.logicalOR();if((token=this.expect("?"))&&(middle=this.assignment(),this.consume(":"))){var right=this.assignment();return extend(function(self,locals){return left(self,locals)?middle(self,locals):right(self,locals)},{constant:left.constant&&middle.constant&&right.constant})}return left},logicalOR:function(){for(var token,left=this.logicalAND();token=this.expect("||");)left=this.binaryFn(left,token.text,this.logicalAND(),!0);return left},logicalAND:function(){for(var token,left=this.equality();token=this.expect("&&");)left=this.binaryFn(left,token.text,this.equality(),!0);return left},equality:function(){for(var token,left=this.relational();token=this.expect("==","!=","===","!==");)left=this.binaryFn(left,token.text,this.relational());return left},relational:function(){for(var token,left=this.additive();token=this.expect("<",">","<=",">=");)left=this.binaryFn(left,token.text,this.additive());return left},additive:function(){for(var token,left=this.multiplicative();token=this.expect("+","-");)left=this.binaryFn(left,token.text,this.multiplicative());return left},multiplicative:function(){for(var token,left=this.unary();token=this.expect("*","/","%");)left=this.binaryFn(left,token.text,this.unary());return left},unary:function(){var token;return this.expect("+")?this.primary():(token=this.expect("-"))?this.binaryFn(Parser.ZERO,token.text,this.unary()):(token=this.expect("!"))?this.unaryFn(token.text,this.unary()):this.primary()},fieldAccess:function(object){var getter=this.identifier();return extend(function(scope,locals,self){var o=self||object(scope,locals);return null==o?undefined:getter(o)},{assign:function(scope,value,locals){var o=object(scope,locals);return o||object.assign(scope,o={},locals),getter.assign(o,value)}})},objectIndex:function(obj){var expression=this.text,indexFn=this.expression();return this.consume("]"),extend(function(self,locals){var v,o=obj(self,locals),i=indexFn(self,locals);return ensureSafeMemberName(i,expression),o?v=ensureSafeObject(o[i],expression):undefined},{assign:function(self,value,locals){var key=ensureSafeMemberName(indexFn(self,locals),expression),o=ensureSafeObject(obj(self,locals),expression);return o||obj.assign(self,o={},locals),o[key]=value}})},functionCall:function(fnGetter,contextGetter){var argsFn=[];if(")"!==this.peekToken().text)do argsFn.push(this.expression());while(this.expect(","));this.consume(")");var expressionText=this.text,args=argsFn.length?[]:null;return function(scope,locals){var context=contextGetter?contextGetter(scope,locals):isDefined(contextGetter)?undefined:scope,fn=fnGetter(scope,locals,context)||noop;if(args)for(var i=argsFn.length;i--;)args[i]=ensureSafeObject(argsFn[i](scope,locals),expressionText);ensureSafeObject(context,expressionText),ensureSafeFunction(fn,expressionText);var v=fn.apply?fn.apply(context,args):fn(args[0],args[1],args[2],args[3],args[4]);return ensureSafeObject(v,expressionText)}},arrayDeclaration:function(){var elementFns=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;elementFns.push(this.expression())}while(this.expect(","));return this.consume("]"),extend(function(self,locals){for(var array=[],i=0,ii=elementFns.length;ii>i;i++)array.push(elementFns[i](self,locals));return array},{literal:!0,constant:elementFns.every(isConstant),inputs:elementFns})},object:function(){var keys=[],valueFns=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;var token=this.consume();token.constant?keys.push(token.value):token.identifier?keys.push(token.text):this.throwError("invalid key",token),this.consume(":"),valueFns.push(this.expression())}while(this.expect(","));return this.consume("}"),extend(function(self,locals){for(var object={},i=0,ii=valueFns.length;ii>i;i++)object[keys[i]]=valueFns[i](self,locals);return object},{literal:!0,constant:valueFns.every(isConstant),inputs:valueFns})}};var getterFnCacheDefault=createMap(),getterFnCacheExpensive=createMap(),objectValueOf=Object.prototype.valueOf,$sceMinErr=minErr("$sce"),SCE_CONTEXTS={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},$compileMinErr=minErr("$compile"),urlParsingNode=document.createElement("a"),originUrl=urlResolve(window.location.href);$FilterProvider.$inject=["$provide"],currencyFilter.$inject=["$locale"],numberFilter.$inject=["$locale"];
var DECIMAL_SEP=".",DATE_FORMATS={yyyy:dateGetter("FullYear",4),yy:dateGetter("FullYear",2,0,!0),y:dateGetter("FullYear",1),MMMM:dateStrGetter("Month"),MMM:dateStrGetter("Month",!0),MM:dateGetter("Month",2,1),M:dateGetter("Month",1,1),dd:dateGetter("Date",2),d:dateGetter("Date",1),HH:dateGetter("Hours",2),H:dateGetter("Hours",1),hh:dateGetter("Hours",2,-12),h:dateGetter("Hours",1,-12),mm:dateGetter("Minutes",2),m:dateGetter("Minutes",1),ss:dateGetter("Seconds",2),s:dateGetter("Seconds",1),sss:dateGetter("Milliseconds",3),EEEE:dateStrGetter("Day"),EEE:dateStrGetter("Day",!0),a:ampmGetter,Z:timeZoneGetter,ww:weekGetter(2),w:weekGetter(1)},DATE_FORMATS_SPLIT=/((?:[^yMdHhmsaZEw']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|w+))(.*)/,NUMBER_STRING=/^\-?\d+$/;dateFilter.$inject=["$locale"];var lowercaseFilter=valueFn(lowercase),uppercaseFilter=valueFn(uppercase);orderByFilter.$inject=["$parse"];var htmlAnchorDirective=valueFn({restrict:"E",compile:function(element,attr){return attr.href||attr.xlinkHref||attr.name?void 0:function(scope,element){if("a"===element[0].nodeName.toLowerCase()){var href="[object SVGAnimatedString]"===toString.call(element.prop("href"))?"xlink:href":"href";element.on("click",function(event){element.attr(href)||event.preventDefault()})}}}}),ngAttributeAliasDirectives={};forEach(BOOLEAN_ATTR,function(propName,attrName){if("multiple"!=propName){var normalized=directiveNormalize("ng-"+attrName);ngAttributeAliasDirectives[normalized]=function(){return{restrict:"A",priority:100,link:function(scope,element,attr){scope.$watch(attr[normalized],function(value){attr.$set(attrName,!!value)})}}}}}),forEach(ALIASED_ATTR,function(htmlAttr,ngAttr){ngAttributeAliasDirectives[ngAttr]=function(){return{priority:100,link:function(scope,element,attr){if("ngPattern"===ngAttr&&"/"==attr.ngPattern.charAt(0)){var match=attr.ngPattern.match(REGEX_STRING_REGEXP);if(match)return void attr.$set("ngPattern",new RegExp(match[1],match[2]))}scope.$watch(attr[ngAttr],function(value){attr.$set(ngAttr,value)})}}}}),forEach(["src","srcset","href"],function(attrName){var normalized=directiveNormalize("ng-"+attrName);ngAttributeAliasDirectives[normalized]=function(){return{priority:99,link:function(scope,element,attr){var propName=attrName,name=attrName;"href"===attrName&&"[object SVGAnimatedString]"===toString.call(element.prop("href"))&&(name="xlinkHref",attr.$attr[name]="xlink:href",propName=null),attr.$observe(normalized,function(value){return value?(attr.$set(name,value),void(msie&&propName&&element.prop(propName,attr[name]))):void("href"===attrName&&attr.$set(name,null))})}}}});var nullFormCtrl={$addControl:noop,$$renameControl:nullFormRenameControl,$removeControl:noop,$setValidity:noop,$setDirty:noop,$setPristine:noop,$setSubmitted:noop},SUBMITTED_CLASS="ng-submitted";FormController.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var formDirectiveFactory=function(isNgForm){return["$timeout",function($timeout){var formDirective={name:"form",restrict:isNgForm?"EAC":"E",controller:FormController,compile:function(formElement){return formElement.addClass(PRISTINE_CLASS).addClass(VALID_CLASS),{pre:function(scope,formElement,attr,controller){if(!("action"in attr)){var handleFormSubmission=function(event){scope.$apply(function(){controller.$commitViewValue(),controller.$setSubmitted()}),event.preventDefault()};addEventListenerFn(formElement[0],"submit",handleFormSubmission),formElement.on("$destroy",function(){$timeout(function(){removeEventListenerFn(formElement[0],"submit",handleFormSubmission)},0,!1)})}var parentFormCtrl=controller.$$parentForm,alias=controller.$name;alias&&(setter(scope,null,alias,controller,alias),attr.$observe(attr.name?"name":"ngForm",function(newValue){alias!==newValue&&(setter(scope,null,alias,undefined,alias),alias=newValue,setter(scope,null,alias,controller,alias),parentFormCtrl.$$renameControl(controller,alias))})),formElement.on("$destroy",function(){parentFormCtrl.$removeControl(controller),alias&&setter(scope,null,alias,undefined,alias),extend(controller,nullFormCtrl)})}}}};return formDirective}]},formDirective=formDirectiveFactory(),ngFormDirective=formDirectiveFactory(!0),ISO_DATE_REGEXP=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,URL_REGEXP=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,EMAIL_REGEXP=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,NUMBER_REGEXP=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,DATE_REGEXP=/^(\d{4})-(\d{2})-(\d{2})$/,DATETIMELOCAL_REGEXP=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,WEEK_REGEXP=/^(\d{4})-W(\d\d)$/,MONTH_REGEXP=/^(\d{4})-(\d\d)$/,TIME_REGEXP=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,inputType={text:textInputType,date:createDateInputType("date",DATE_REGEXP,createDateParser(DATE_REGEXP,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":createDateInputType("datetimelocal",DATETIMELOCAL_REGEXP,createDateParser(DATETIMELOCAL_REGEXP,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:createDateInputType("time",TIME_REGEXP,createDateParser(TIME_REGEXP,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:createDateInputType("week",WEEK_REGEXP,weekParser,"yyyy-Www"),month:createDateInputType("month",MONTH_REGEXP,createDateParser(MONTH_REGEXP,["yyyy","MM"]),"yyyy-MM"),number:numberInputType,url:urlInputType,email:emailInputType,radio:radioInputType,checkbox:checkboxInputType,hidden:noop,button:noop,submit:noop,reset:noop,file:noop},inputDirective=["$browser","$sniffer","$filter","$parse",function($browser,$sniffer,$filter,$parse){return{restrict:"E",require:["?ngModel"],link:{pre:function(scope,element,attr,ctrls){ctrls[0]&&(inputType[lowercase(attr.type)]||inputType.text)(scope,element,attr,ctrls[0],$sniffer,$browser,$filter,$parse)}}}}],CONSTANT_VALUE_REGEXP=/^(true|false|\d+)$/,ngValueDirective=function(){return{restrict:"A",priority:100,compile:function(tpl,tplAttr){return CONSTANT_VALUE_REGEXP.test(tplAttr.ngValue)?function(scope,elm,attr){attr.$set("value",scope.$eval(attr.ngValue))}:function(scope,elm,attr){scope.$watch(attr.ngValue,function(value){attr.$set("value",value)})}}}},ngBindDirective=["$compile",function($compile){return{restrict:"AC",compile:function(templateElement){return $compile.$$addBindingClass(templateElement),function(scope,element,attr){$compile.$$addBindingInfo(element,attr.ngBind),element=element[0],scope.$watch(attr.ngBind,function(value){element.textContent=value===undefined?"":value})}}}}],ngBindTemplateDirective=["$interpolate","$compile",function($interpolate,$compile){return{compile:function(templateElement){return $compile.$$addBindingClass(templateElement),function(scope,element,attr){var interpolateFn=$interpolate(element.attr(attr.$attr.ngBindTemplate));$compile.$$addBindingInfo(element,interpolateFn.expressions),element=element[0],attr.$observe("ngBindTemplate",function(value){element.textContent=value===undefined?"":value})}}}}],ngBindHtmlDirective=["$sce","$parse","$compile",function($sce,$parse,$compile){return{restrict:"A",compile:function(tElement,tAttrs){var ngBindHtmlGetter=$parse(tAttrs.ngBindHtml),ngBindHtmlWatch=$parse(tAttrs.ngBindHtml,function(value){return(value||"").toString()});return $compile.$$addBindingClass(tElement),function(scope,element,attr){$compile.$$addBindingInfo(element,attr.ngBindHtml),scope.$watch(ngBindHtmlWatch,function(){element.html($sce.getTrustedHtml(ngBindHtmlGetter(scope))||"")})}}}}],ngChangeDirective=valueFn({restrict:"A",require:"ngModel",link:function(scope,element,attr,ctrl){ctrl.$viewChangeListeners.push(function(){scope.$eval(attr.ngChange)})}}),ngClassDirective=classDirective("",!0),ngClassOddDirective=classDirective("Odd",0),ngClassEvenDirective=classDirective("Even",1),ngCloakDirective=ngDirective({compile:function(element,attr){attr.$set("ngCloak",undefined),element.removeClass("ng-cloak")}}),ngControllerDirective=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],ngEventDirectives={},forceAsyncEvents={blur:!0,focus:!0};forEach("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(eventName){var directiveName=directiveNormalize("ng-"+eventName);ngEventDirectives[directiveName]=["$parse","$rootScope",function($parse,$rootScope){return{restrict:"A",compile:function($element,attr){var fn=$parse(attr[directiveName],null,!0);return function(scope,element){element.on(eventName,function(event){var callback=function(){fn(scope,{$event:event})};forceAsyncEvents[eventName]&&$rootScope.$$phase?scope.$evalAsync(callback):scope.$apply(callback)})}}}}]});var ngIfDirective=["$animate",function($animate){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function($scope,$element,$attr,ctrl,$transclude){var block,childScope,previousElements;$scope.$watch($attr.ngIf,function(value){value?childScope||$transclude(function(clone,newScope){childScope=newScope,clone[clone.length++]=document.createComment(" end ngIf: "+$attr.ngIf+" "),block={clone:clone},$animate.enter(clone,$element.parent(),$element)}):(previousElements&&(previousElements.remove(),previousElements=null),childScope&&(childScope.$destroy(),childScope=null),block&&(previousElements=getBlockNodes(block.clone),$animate.leave(previousElements).then(function(){previousElements=null}),block=null))})}}}],ngIncludeDirective=["$templateRequest","$anchorScroll","$animate","$sce",function($templateRequest,$anchorScroll,$animate,$sce){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:angular.noop,compile:function(element,attr){var srcExp=attr.ngInclude||attr.src,onloadExp=attr.onload||"",autoScrollExp=attr.autoscroll;return function(scope,$element,$attr,ctrl,$transclude){var currentScope,previousElement,currentElement,changeCounter=0,cleanupLastIncludeContent=function(){previousElement&&(previousElement.remove(),previousElement=null),currentScope&&(currentScope.$destroy(),currentScope=null),currentElement&&($animate.leave(currentElement).then(function(){previousElement=null}),previousElement=currentElement,currentElement=null)};scope.$watch($sce.parseAsResourceUrl(srcExp),function(src){var afterAnimation=function(){!isDefined(autoScrollExp)||autoScrollExp&&!scope.$eval(autoScrollExp)||$anchorScroll()},thisChangeId=++changeCounter;src?($templateRequest(src,!0).then(function(response){if(thisChangeId===changeCounter){var newScope=scope.$new();ctrl.template=response;var clone=$transclude(newScope,function(clone){cleanupLastIncludeContent(),$animate.enter(clone,null,$element).then(afterAnimation)});currentScope=newScope,currentElement=clone,currentScope.$emit("$includeContentLoaded",src),scope.$eval(onloadExp)}},function(){thisChangeId===changeCounter&&(cleanupLastIncludeContent(),scope.$emit("$includeContentError",src))}),scope.$emit("$includeContentRequested",src)):(cleanupLastIncludeContent(),ctrl.template=null)})}}}}],ngIncludeFillContentDirective=["$compile",function($compile){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(scope,$element,$attr,ctrl){return/SVG/.test($element[0].toString())?($element.empty(),void $compile(jqLiteBuildFragment(ctrl.template,document).childNodes)(scope,function(clone){$element.append(clone)},{futureParentElement:$element})):($element.html(ctrl.template),void $compile($element.contents())(scope))}}}],ngInitDirective=ngDirective({priority:450,compile:function(){return{pre:function(scope,element,attrs){scope.$eval(attrs.ngInit)}}}}),ngListDirective=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(scope,element,attr,ctrl){var ngList=element.attr(attr.$attr.ngList)||", ",trimValues="false"!==attr.ngTrim,separator=trimValues?trim(ngList):ngList,parse=function(viewValue){if(!isUndefined(viewValue)){var list=[];return viewValue&&forEach(viewValue.split(separator),function(value){value&&list.push(trimValues?trim(value):value)}),list}};ctrl.$parsers.push(parse),ctrl.$formatters.push(function(value){return isArray(value)?value.join(ngList):undefined}),ctrl.$isEmpty=function(value){return!value||!value.length}}}},VALID_CLASS="ng-valid",INVALID_CLASS="ng-invalid",PRISTINE_CLASS="ng-pristine",DIRTY_CLASS="ng-dirty",UNTOUCHED_CLASS="ng-untouched",TOUCHED_CLASS="ng-touched",PENDING_CLASS="ng-pending",$ngModelMinErr=new minErr("ngModel"),NgModelController=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function($scope,$exceptionHandler,$attr,$element,$parse,$animate,$timeout,$rootScope,$q,$interpolate){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=undefined,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=undefined,this.$name=$interpolate($attr.name||"",!1)($scope);var parsedNgModel=$parse($attr.ngModel),parsedNgModelAssign=parsedNgModel.assign,ngModelGet=parsedNgModel,ngModelSet=parsedNgModelAssign,pendingDebounce=null,ctrl=this;this.$$setOptions=function(options){if(ctrl.$options=options,options&&options.getterSetter){var invokeModelGetter=$parse($attr.ngModel+"()"),invokeModelSetter=$parse($attr.ngModel+"($$$p)");ngModelGet=function($scope){var modelValue=parsedNgModel($scope);return isFunction(modelValue)&&(modelValue=invokeModelGetter($scope)),modelValue},ngModelSet=function($scope){isFunction(parsedNgModel($scope))?invokeModelSetter($scope,{$$$p:ctrl.$modelValue}):parsedNgModelAssign($scope,ctrl.$modelValue)}}else if(!parsedNgModel.assign)throw $ngModelMinErr("nonassign","Expression '{0}' is non-assignable. Element: {1}",$attr.ngModel,startingTag($element))},this.$render=noop,this.$isEmpty=function(value){return isUndefined(value)||""===value||null===value||value!==value};var parentForm=$element.inheritedData("$formController")||nullFormCtrl,currentValidationRunId=0;addSetValidityMethod({ctrl:this,$element:$element,set:function(object,property){object[property]=!0},unset:function(object,property){delete object[property]},parentForm:parentForm,$animate:$animate}),this.$setPristine=function(){ctrl.$dirty=!1,ctrl.$pristine=!0,$animate.removeClass($element,DIRTY_CLASS),$animate.addClass($element,PRISTINE_CLASS)},this.$setDirty=function(){ctrl.$dirty=!0,ctrl.$pristine=!1,$animate.removeClass($element,PRISTINE_CLASS),$animate.addClass($element,DIRTY_CLASS),parentForm.$setDirty()},this.$setUntouched=function(){ctrl.$touched=!1,ctrl.$untouched=!0,$animate.setClass($element,UNTOUCHED_CLASS,TOUCHED_CLASS)},this.$setTouched=function(){ctrl.$touched=!0,ctrl.$untouched=!1,$animate.setClass($element,TOUCHED_CLASS,UNTOUCHED_CLASS)},this.$rollbackViewValue=function(){$timeout.cancel(pendingDebounce),ctrl.$viewValue=ctrl.$$lastCommittedViewValue,ctrl.$render()},this.$validate=function(){if(!isNumber(ctrl.$modelValue)||!isNaN(ctrl.$modelValue)){var viewValue=ctrl.$$lastCommittedViewValue,modelValue=ctrl.$$rawModelValue,parserName=ctrl.$$parserName||"parse",parserValid=ctrl.$error[parserName]?!1:undefined,prevValid=ctrl.$valid,prevModelValue=ctrl.$modelValue,allowInvalid=ctrl.$options&&ctrl.$options.allowInvalid;ctrl.$$runValidators(parserValid,modelValue,viewValue,function(allValid){allowInvalid||prevValid===allValid||(ctrl.$modelValue=allValid?modelValue:undefined,ctrl.$modelValue!==prevModelValue&&ctrl.$$writeModelToScope())})}},this.$$runValidators=function(parseValid,modelValue,viewValue,doneCallback){function processParseErrors(parseValid){var errorKey=ctrl.$$parserName||"parse";if(parseValid===undefined)setValidity(errorKey,null);else if(setValidity(errorKey,parseValid),!parseValid)return forEach(ctrl.$validators,function(v,name){setValidity(name,null)}),forEach(ctrl.$asyncValidators,function(v,name){setValidity(name,null)}),!1;return!0}function processSyncValidators(){var syncValidatorsValid=!0;return forEach(ctrl.$validators,function(validator,name){var result=validator(modelValue,viewValue);syncValidatorsValid=syncValidatorsValid&&result,setValidity(name,result)}),syncValidatorsValid?!0:(forEach(ctrl.$asyncValidators,function(v,name){setValidity(name,null)}),!1)}function processAsyncValidators(){var validatorPromises=[],allValid=!0;forEach(ctrl.$asyncValidators,function(validator,name){var promise=validator(modelValue,viewValue);if(!isPromiseLike(promise))throw $ngModelMinErr("$asyncValidators","Expected asynchronous validator to return a promise but got '{0}' instead.",promise);setValidity(name,undefined),validatorPromises.push(promise.then(function(){setValidity(name,!0)},function(){allValid=!1,setValidity(name,!1)}))}),validatorPromises.length?$q.all(validatorPromises).then(function(){validationDone(allValid)},noop):validationDone(!0)}function setValidity(name,isValid){localValidationRunId===currentValidationRunId&&ctrl.$setValidity(name,isValid)}function validationDone(allValid){localValidationRunId===currentValidationRunId&&doneCallback(allValid)}currentValidationRunId++;var localValidationRunId=currentValidationRunId;return processParseErrors(parseValid)&&processSyncValidators()?void processAsyncValidators():void validationDone(!1)},this.$commitViewValue=function(){var viewValue=ctrl.$viewValue;$timeout.cancel(pendingDebounce),(ctrl.$$lastCommittedViewValue!==viewValue||""===viewValue&&ctrl.$$hasNativeValidators)&&(ctrl.$$lastCommittedViewValue=viewValue,ctrl.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function writeToModelIfNeeded(){ctrl.$modelValue!==prevModelValue&&ctrl.$$writeModelToScope()}var viewValue=ctrl.$$lastCommittedViewValue,modelValue=viewValue,parserValid=isUndefined(modelValue)?undefined:!0;if(parserValid)for(var i=0;i<ctrl.$parsers.length;i++)if(modelValue=ctrl.$parsers[i](modelValue),isUndefined(modelValue)){parserValid=!1;break}isNumber(ctrl.$modelValue)&&isNaN(ctrl.$modelValue)&&(ctrl.$modelValue=ngModelGet($scope));var prevModelValue=ctrl.$modelValue,allowInvalid=ctrl.$options&&ctrl.$options.allowInvalid;ctrl.$$rawModelValue=modelValue,allowInvalid&&(ctrl.$modelValue=modelValue,writeToModelIfNeeded()),ctrl.$$runValidators(parserValid,modelValue,ctrl.$$lastCommittedViewValue,function(allValid){allowInvalid||(ctrl.$modelValue=allValid?modelValue:undefined,writeToModelIfNeeded())})},this.$$writeModelToScope=function(){ngModelSet($scope,ctrl.$modelValue),forEach(ctrl.$viewChangeListeners,function(listener){try{listener()}catch(e){$exceptionHandler(e)}})},this.$setViewValue=function(value,trigger){ctrl.$viewValue=value,(!ctrl.$options||ctrl.$options.updateOnDefault)&&ctrl.$$debounceViewValueCommit(trigger)},this.$$debounceViewValueCommit=function(trigger){var debounce,debounceDelay=0,options=ctrl.$options;options&&isDefined(options.debounce)&&(debounce=options.debounce,isNumber(debounce)?debounceDelay=debounce:isNumber(debounce[trigger])?debounceDelay=debounce[trigger]:isNumber(debounce["default"])&&(debounceDelay=debounce["default"])),$timeout.cancel(pendingDebounce),debounceDelay?pendingDebounce=$timeout(function(){ctrl.$commitViewValue()},debounceDelay):$rootScope.$$phase?ctrl.$commitViewValue():$scope.$apply(function(){ctrl.$commitViewValue()})},$scope.$watch(function(){var modelValue=ngModelGet($scope);if(modelValue!==ctrl.$modelValue){ctrl.$modelValue=ctrl.$$rawModelValue=modelValue;for(var formatters=ctrl.$formatters,idx=formatters.length,viewValue=modelValue;idx--;)viewValue=formatters[idx](viewValue);ctrl.$viewValue!==viewValue&&(ctrl.$viewValue=ctrl.$$lastCommittedViewValue=viewValue,ctrl.$render(),ctrl.$$runValidators(undefined,modelValue,viewValue,noop))}return modelValue})}],ngModelDirective=["$rootScope",function($rootScope){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:NgModelController,priority:1,compile:function(element){return element.addClass(PRISTINE_CLASS).addClass(UNTOUCHED_CLASS).addClass(VALID_CLASS),{pre:function(scope,element,attr,ctrls){var modelCtrl=ctrls[0],formCtrl=ctrls[1]||nullFormCtrl;modelCtrl.$$setOptions(ctrls[2]&&ctrls[2].$options),formCtrl.$addControl(modelCtrl),attr.$observe("name",function(newValue){modelCtrl.$name!==newValue&&formCtrl.$$renameControl(modelCtrl,newValue)}),scope.$on("$destroy",function(){formCtrl.$removeControl(modelCtrl)})},post:function(scope,element,attr,ctrls){var modelCtrl=ctrls[0];modelCtrl.$options&&modelCtrl.$options.updateOn&&element.on(modelCtrl.$options.updateOn,function(ev){modelCtrl.$$debounceViewValueCommit(ev&&ev.type)}),element.on("blur",function(){modelCtrl.$touched||($rootScope.$$phase?scope.$evalAsync(modelCtrl.$setTouched):scope.$apply(modelCtrl.$setTouched))})}}}}}],DEFAULT_REGEXP=/(\s+|^)default(\s+|$)/,ngModelOptionsDirective=function(){return{restrict:"A",controller:["$scope","$attrs",function($scope,$attrs){var that=this;this.$options=$scope.$eval($attrs.ngModelOptions),this.$options.updateOn!==undefined?(this.$options.updateOnDefault=!1,this.$options.updateOn=trim(this.$options.updateOn.replace(DEFAULT_REGEXP,function(){return that.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},ngNonBindableDirective=ngDirective({terminal:!0,priority:1e3}),ngPluralizeDirective=["$locale","$interpolate",function($locale,$interpolate){var BRACE=/{}/g,IS_WHEN=/^when(Minus)?(.+)$/;return{restrict:"EA",link:function(scope,element,attr){function updateElementText(newText){element.text(newText||"")}var lastCount,numberExp=attr.count,whenExp=attr.$attr.when&&element.attr(attr.$attr.when),offset=attr.offset||0,whens=scope.$eval(whenExp)||{},whensExpFns={},startSymbol=$interpolate.startSymbol(),endSymbol=$interpolate.endSymbol(),braceReplacement=startSymbol+numberExp+"-"+offset+endSymbol,watchRemover=angular.noop;forEach(attr,function(expression,attributeName){var tmpMatch=IS_WHEN.exec(attributeName);if(tmpMatch){var whenKey=(tmpMatch[1]?"-":"")+lowercase(tmpMatch[2]);whens[whenKey]=element.attr(attr.$attr[attributeName])}}),forEach(whens,function(expression,key){whensExpFns[key]=$interpolate(expression.replace(BRACE,braceReplacement))}),scope.$watch(numberExp,function(newVal){var count=parseFloat(newVal),countIsNaN=isNaN(count);countIsNaN||count in whens||(count=$locale.pluralCat(count-offset)),count===lastCount||countIsNaN&&isNaN(lastCount)||(watchRemover(),watchRemover=scope.$watch(whensExpFns[count],updateElementText),lastCount=count)})}}}],ngRepeatDirective=["$parse","$animate",function($parse,$animate){var NG_REMOVED="$$NG_REMOVED",ngRepeatMinErr=minErr("ngRepeat"),updateScope=function(scope,index,valueIdentifier,value,keyIdentifier,key,arrayLength){scope[valueIdentifier]=value,keyIdentifier&&(scope[keyIdentifier]=key),scope.$index=index,scope.$first=0===index,scope.$last=index===arrayLength-1,scope.$middle=!(scope.$first||scope.$last),scope.$odd=!(scope.$even=0===(1&index))},getBlockStart=function(block){return block.clone[0]},getBlockEnd=function(block){return block.clone[block.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function($element,$attr){var expression=$attr.ngRepeat,ngRepeatEndComment=document.createComment(" end ngRepeat: "+expression+" "),match=expression.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!match)throw ngRepeatMinErr("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",expression);var lhs=match[1],rhs=match[2],aliasAs=match[3],trackByExp=match[4];if(match=lhs.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!match)throw ngRepeatMinErr("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",lhs);var valueIdentifier=match[3]||match[1],keyIdentifier=match[2];if(aliasAs&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(aliasAs)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(aliasAs)))throw ngRepeatMinErr("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",aliasAs);var trackByExpGetter,trackByIdExpFn,trackByIdArrayFn,trackByIdObjFn,hashFnLocals={$id:hashKey};return trackByExp?trackByExpGetter=$parse(trackByExp):(trackByIdArrayFn=function(key,value){return hashKey(value)},trackByIdObjFn=function(key){return key}),function($scope,$element,$attr,ctrl,$transclude){trackByExpGetter&&(trackByIdExpFn=function(key,value,index){return keyIdentifier&&(hashFnLocals[keyIdentifier]=key),hashFnLocals[valueIdentifier]=value,hashFnLocals.$index=index,trackByExpGetter($scope,hashFnLocals)});var lastBlockMap=createMap();$scope.$watchCollection(rhs,function(collection){var index,length,nextNode,collectionLength,key,value,trackById,trackByIdFn,collectionKeys,block,nextBlockOrder,elementsToRemove,previousNode=$element[0],nextBlockMap=createMap();if(aliasAs&&($scope[aliasAs]=collection),isArrayLike(collection))collectionKeys=collection,trackByIdFn=trackByIdExpFn||trackByIdArrayFn;else{trackByIdFn=trackByIdExpFn||trackByIdObjFn,collectionKeys=[];for(var itemKey in collection)collection.hasOwnProperty(itemKey)&&"$"!=itemKey.charAt(0)&&collectionKeys.push(itemKey);collectionKeys.sort()}for(collectionLength=collectionKeys.length,nextBlockOrder=new Array(collectionLength),index=0;collectionLength>index;index++)if(key=collection===collectionKeys?index:collectionKeys[index],value=collection[key],trackById=trackByIdFn(key,value,index),lastBlockMap[trackById])block=lastBlockMap[trackById],delete lastBlockMap[trackById],nextBlockMap[trackById]=block,nextBlockOrder[index]=block;else{if(nextBlockMap[trackById])throw forEach(nextBlockOrder,function(block){block&&block.scope&&(lastBlockMap[block.id]=block)}),ngRepeatMinErr("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",expression,trackById,value);nextBlockOrder[index]={id:trackById,scope:undefined,clone:undefined},nextBlockMap[trackById]=!0}for(var blockKey in lastBlockMap){if(block=lastBlockMap[blockKey],elementsToRemove=getBlockNodes(block.clone),$animate.leave(elementsToRemove),elementsToRemove[0].parentNode)for(index=0,length=elementsToRemove.length;length>index;index++)elementsToRemove[index][NG_REMOVED]=!0;block.scope.$destroy()}for(index=0;collectionLength>index;index++)if(key=collection===collectionKeys?index:collectionKeys[index],value=collection[key],block=nextBlockOrder[index],block.scope){nextNode=previousNode;do nextNode=nextNode.nextSibling;while(nextNode&&nextNode[NG_REMOVED]);getBlockStart(block)!=nextNode&&$animate.move(getBlockNodes(block.clone),null,jqLite(previousNode)),previousNode=getBlockEnd(block),updateScope(block.scope,index,valueIdentifier,value,keyIdentifier,key,collectionLength)}else $transclude(function(clone,scope){block.scope=scope;var endNode=ngRepeatEndComment.cloneNode(!1);clone[clone.length++]=endNode,$animate.enter(clone,null,jqLite(previousNode)),previousNode=endNode,block.clone=clone,nextBlockMap[block.id]=block,updateScope(block.scope,index,valueIdentifier,value,keyIdentifier,key,collectionLength)});lastBlockMap=nextBlockMap})}}}}],NG_HIDE_CLASS="ng-hide",NG_HIDE_IN_PROGRESS_CLASS="ng-hide-animate",ngShowDirective=["$animate",function($animate){return{restrict:"A",multiElement:!0,link:function(scope,element,attr){scope.$watch(attr.ngShow,function(value){$animate[value?"removeClass":"addClass"](element,NG_HIDE_CLASS,{tempClasses:NG_HIDE_IN_PROGRESS_CLASS})})}}}],ngHideDirective=["$animate",function($animate){return{restrict:"A",multiElement:!0,link:function(scope,element,attr){scope.$watch(attr.ngHide,function(value){$animate[value?"addClass":"removeClass"](element,NG_HIDE_CLASS,{tempClasses:NG_HIDE_IN_PROGRESS_CLASS})})}}}],ngStyleDirective=ngDirective(function(scope,element,attr){scope.$watchCollection(attr.ngStyle,function(newStyles,oldStyles){oldStyles&&newStyles!==oldStyles&&forEach(oldStyles,function(val,style){element.css(style,"")}),newStyles&&element.css(newStyles)})}),ngSwitchDirective=["$animate",function($animate){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(scope,element,attr,ngSwitchController){var watchExpr=attr.ngSwitch||attr.on,selectedTranscludes=[],selectedElements=[],previousLeaveAnimations=[],selectedScopes=[],spliceFactory=function(array,index){return function(){array.splice(index,1)}};scope.$watch(watchExpr,function(value){var i,ii;for(i=0,ii=previousLeaveAnimations.length;ii>i;++i)$animate.cancel(previousLeaveAnimations[i]);for(previousLeaveAnimations.length=0,i=0,ii=selectedScopes.length;ii>i;++i){var selected=getBlockNodes(selectedElements[i].clone);selectedScopes[i].$destroy();var promise=previousLeaveAnimations[i]=$animate.leave(selected);promise.then(spliceFactory(previousLeaveAnimations,i))}selectedElements.length=0,selectedScopes.length=0,(selectedTranscludes=ngSwitchController.cases["!"+value]||ngSwitchController.cases["?"])&&forEach(selectedTranscludes,function(selectedTransclude){selectedTransclude.transclude(function(caseElement,selectedScope){selectedScopes.push(selectedScope);var anchor=selectedTransclude.element;caseElement[caseElement.length++]=document.createComment(" end ngSwitchWhen: ");var block={clone:caseElement};selectedElements.push(block),$animate.enter(caseElement,anchor.parent(),anchor)})})})}}}],ngSwitchWhenDirective=ngDirective({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(scope,element,attrs,ctrl,$transclude){ctrl.cases["!"+attrs.ngSwitchWhen]=ctrl.cases["!"+attrs.ngSwitchWhen]||[],ctrl.cases["!"+attrs.ngSwitchWhen].push({transclude:$transclude,element:element})}}),ngSwitchDefaultDirective=ngDirective({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(scope,element,attr,ctrl,$transclude){ctrl.cases["?"]=ctrl.cases["?"]||[],ctrl.cases["?"].push({transclude:$transclude,element:element})}}),ngTranscludeDirective=ngDirective({restrict:"EAC",link:function($scope,$element,$attrs,controller,$transclude){if(!$transclude)throw minErr("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",startingTag($element));$transclude(function(clone){$element.empty(),$element.append(clone)})}}),scriptDirective=["$templateCache",function($templateCache){return{restrict:"E",terminal:!0,compile:function(element,attr){if("text/ng-template"==attr.type){var templateUrl=attr.id,text=element[0].text;$templateCache.put(templateUrl,text)}}}}],ngOptionsMinErr=minErr("ngOptions"),ngOptionsDirective=valueFn({restrict:"A",terminal:!0}),selectDirective=["$compile","$parse",function($compile,$parse){var NG_OPTIONS_REGEXP=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,nullModelCtrl={$setViewValue:noop};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function($element,$scope,$attrs){var nullOption,unknownOption,self=this,optionsMap={},ngModelCtrl=nullModelCtrl;self.databound=$attrs.ngModel,self.init=function(ngModelCtrl_,nullOption_,unknownOption_){ngModelCtrl=ngModelCtrl_,nullOption=nullOption_,unknownOption=unknownOption_},self.addOption=function(value,element){assertNotHasOwnProperty(value,'"option value"'),optionsMap[value]=!0,ngModelCtrl.$viewValue==value&&($element.val(value),unknownOption.parent()&&unknownOption.remove()),element&&element[0].hasAttribute("selected")&&(element[0].selected=!0)},self.removeOption=function(value){this.hasOption(value)&&(delete optionsMap[value],ngModelCtrl.$viewValue===value&&this.renderUnknownOption(value))},self.renderUnknownOption=function(val){var unknownVal="? "+hashKey(val)+" ?";
unknownOption.val(unknownVal),$element.prepend(unknownOption),$element.val(unknownVal),unknownOption.prop("selected",!0)},self.hasOption=function(value){return optionsMap.hasOwnProperty(value)},$scope.$on("$destroy",function(){self.renderUnknownOption=noop})}],link:function(scope,element,attr,ctrls){function setupAsSingle(scope,selectElement,ngModelCtrl,selectCtrl){ngModelCtrl.$render=function(){var viewValue=ngModelCtrl.$viewValue;selectCtrl.hasOption(viewValue)?(unknownOption.parent()&&unknownOption.remove(),selectElement.val(viewValue),""===viewValue&&emptyOption.prop("selected",!0)):isUndefined(viewValue)&&emptyOption?selectElement.val(""):selectCtrl.renderUnknownOption(viewValue)},selectElement.on("change",function(){scope.$apply(function(){unknownOption.parent()&&unknownOption.remove(),ngModelCtrl.$setViewValue(selectElement.val())})})}function setupAsMultiple(scope,selectElement,ctrl){var lastView;ctrl.$render=function(){var items=new HashMap(ctrl.$viewValue);forEach(selectElement.find("option"),function(option){option.selected=isDefined(items.get(option.value))})},scope.$watch(function(){equals(lastView,ctrl.$viewValue)||(lastView=shallowCopy(ctrl.$viewValue),ctrl.$render())}),selectElement.on("change",function(){scope.$apply(function(){var array=[];forEach(selectElement.find("option"),function(option){option.selected&&array.push(option.value)}),ctrl.$setViewValue(array)})})}function setupAsOptions(scope,selectElement,ctrl){function callExpression(exprFn,key,value){return locals[valueName]=value,keyName&&(locals[keyName]=key),exprFn(scope,locals)}function selectionChanged(){scope.$apply(function(){var viewValue,collection=valuesFn(scope)||[];if(multiple)viewValue=[],forEach(selectElement.val(),function(selectedKey){selectedKey=trackFn?trackKeysCache[selectedKey]:selectedKey,viewValue.push(getViewValue(selectedKey,collection[selectedKey]))});else{var selectedKey=trackFn?trackKeysCache[selectElement.val()]:selectElement.val();viewValue=getViewValue(selectedKey,collection[selectedKey])}ctrl.$setViewValue(viewValue),render()})}function getViewValue(key,value){if("?"===key)return undefined;if(""===key)return null;var viewValueFn=selectAsFn?selectAsFn:valueFn;return callExpression(viewValueFn,key,value)}function getLabels(){var toDisplay,values=valuesFn(scope);if(values&&isArray(values)){toDisplay=new Array(values.length);for(var i=0,ii=values.length;ii>i;i++)toDisplay[i]=callExpression(displayFn,i,values[i]);return toDisplay}if(values){toDisplay={};for(var prop in values)values.hasOwnProperty(prop)&&(toDisplay[prop]=callExpression(displayFn,prop,values[prop]))}return toDisplay}function createIsSelectedFn(viewValue){var selectedSet;if(multiple)if(trackFn&&isArray(viewValue)){selectedSet=new HashMap([]);for(var trackIndex=0;trackIndex<viewValue.length;trackIndex++)selectedSet.put(callExpression(trackFn,null,viewValue[trackIndex]),!0)}else selectedSet=new HashMap(viewValue);else trackFn&&(viewValue=callExpression(trackFn,null,viewValue));return function(key,value){var compareValueFn;return compareValueFn=trackFn?trackFn:selectAsFn?selectAsFn:valueFn,multiple?isDefined(selectedSet.remove(callExpression(compareValueFn,key,value))):viewValue===callExpression(compareValueFn,key,value)}}function scheduleRendering(){renderScheduled||(scope.$$postDigest(render),renderScheduled=!0)}function updateLabelMap(labelMap,label,added){labelMap[label]=labelMap[label]||0,labelMap[label]+=added?1:-1}function render(){renderScheduled=!1;var optionGroupName,optionGroup,option,existingParent,existingOptions,existingOption,key,value,groupLength,length,groupIndex,index,selected,lastElement,element,label,optionId,optionGroups={"":[]},optionGroupNames=[""],viewValue=ctrl.$viewValue,values=valuesFn(scope)||[],keys=keyName?sortedKeys(values):values,labelMap={},isSelected=createIsSelectedFn(viewValue),anySelected=!1;for(trackKeysCache={},index=0;length=keys.length,length>index;index++)key=index,keyName&&(key=keys[index],"$"===key.charAt(0))||(value=values[key],optionGroupName=callExpression(groupByFn,key,value)||"",(optionGroup=optionGroups[optionGroupName])||(optionGroup=optionGroups[optionGroupName]=[],optionGroupNames.push(optionGroupName)),selected=isSelected(key,value),anySelected=anySelected||selected,label=callExpression(displayFn,key,value),label=isDefined(label)?label:"",optionId=trackFn?trackFn(scope,locals):keyName?keys[index]:index,trackFn&&(trackKeysCache[optionId]=key),optionGroup.push({id:optionId,label:label,selected:selected}));for(multiple||(nullOption||null===viewValue?optionGroups[""].unshift({id:"",label:"",selected:!anySelected}):anySelected||optionGroups[""].unshift({id:"?",label:"",selected:!0})),groupIndex=0,groupLength=optionGroupNames.length;groupLength>groupIndex;groupIndex++){for(optionGroupName=optionGroupNames[groupIndex],optionGroup=optionGroups[optionGroupName],optionGroupsCache.length<=groupIndex?(existingParent={element:optGroupTemplate.clone().attr("label",optionGroupName),label:optionGroup.label},existingOptions=[existingParent],optionGroupsCache.push(existingOptions),selectElement.append(existingParent.element)):(existingOptions=optionGroupsCache[groupIndex],existingParent=existingOptions[0],existingParent.label!=optionGroupName&&existingParent.element.attr("label",existingParent.label=optionGroupName)),lastElement=null,index=0,length=optionGroup.length;length>index;index++)option=optionGroup[index],(existingOption=existingOptions[index+1])?(lastElement=existingOption.element,existingOption.label!==option.label&&(updateLabelMap(labelMap,existingOption.label,!1),updateLabelMap(labelMap,option.label,!0),lastElement.text(existingOption.label=option.label),lastElement.prop("label",existingOption.label)),existingOption.id!==option.id&&lastElement.val(existingOption.id=option.id),lastElement[0].selected!==option.selected&&(lastElement.prop("selected",existingOption.selected=option.selected),msie&&lastElement.prop("selected",existingOption.selected))):(""===option.id&&nullOption?element=nullOption:(element=optionTemplate.clone()).val(option.id).prop("selected",option.selected).attr("selected",option.selected).prop("label",option.label).text(option.label),existingOptions.push(existingOption={element:element,label:option.label,id:option.id,selected:option.selected}),updateLabelMap(labelMap,option.label,!0),lastElement?lastElement.after(element):existingParent.element.append(element),lastElement=element);for(index++;existingOptions.length>index;)option=existingOptions.pop(),updateLabelMap(labelMap,option.label,!1),option.element.remove()}for(;optionGroupsCache.length>groupIndex;){for(optionGroup=optionGroupsCache.pop(),index=1;index<optionGroup.length;++index)updateLabelMap(labelMap,optionGroup[index].label,!1);optionGroup[0].element.remove()}forEach(labelMap,function(count,label){count>0?selectCtrl.addOption(label):0>count&&selectCtrl.removeOption(label)})}var match;if(!(match=optionsExp.match(NG_OPTIONS_REGEXP)))throw ngOptionsMinErr("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",optionsExp,startingTag(selectElement));var displayFn=$parse(match[2]||match[1]),valueName=match[4]||match[6],selectAs=/ as /.test(match[0])&&match[1],selectAsFn=selectAs?$parse(selectAs):null,keyName=match[5],groupByFn=$parse(match[3]||""),valueFn=$parse(match[2]?match[1]:valueName),valuesFn=$parse(match[7]),track=match[8],trackFn=track?$parse(match[8]):null,trackKeysCache={},optionGroupsCache=[[{element:selectElement,label:""}]],locals={};nullOption&&($compile(nullOption)(scope),nullOption.removeClass("ng-scope"),nullOption.remove()),selectElement.empty(),selectElement.on("change",selectionChanged),ctrl.$render=render,scope.$watchCollection(valuesFn,scheduleRendering),scope.$watchCollection(getLabels,scheduleRendering),multiple&&scope.$watchCollection(function(){return ctrl.$modelValue},scheduleRendering)}if(ctrls[1]){for(var emptyOption,selectCtrl=ctrls[0],ngModelCtrl=ctrls[1],multiple=attr.multiple,optionsExp=attr.ngOptions,nullOption=!1,renderScheduled=!1,optionTemplate=jqLite(document.createElement("option")),optGroupTemplate=jqLite(document.createElement("optgroup")),unknownOption=optionTemplate.clone(),i=0,children=element.children(),ii=children.length;ii>i;i++)if(""===children[i].value){emptyOption=nullOption=children.eq(i);break}selectCtrl.init(ngModelCtrl,nullOption,unknownOption),multiple&&(ngModelCtrl.$isEmpty=function(value){return!value||0===value.length}),optionsExp?setupAsOptions(scope,element,ngModelCtrl):multiple?setupAsMultiple(scope,element,ngModelCtrl):setupAsSingle(scope,element,ngModelCtrl,selectCtrl)}}}}],optionDirective=["$interpolate",function($interpolate){var nullSelectCtrl={addOption:noop,removeOption:noop};return{restrict:"E",priority:100,compile:function(element,attr){if(isUndefined(attr.value)){var interpolateFn=$interpolate(element.text(),!0);interpolateFn||attr.$set("value",element.text())}return function(scope,element,attr){var selectCtrlName="$selectController",parent=element.parent(),selectCtrl=parent.data(selectCtrlName)||parent.parent().data(selectCtrlName);selectCtrl&&selectCtrl.databound||(selectCtrl=nullSelectCtrl),interpolateFn?scope.$watch(interpolateFn,function(newVal,oldVal){attr.$set("value",newVal),oldVal!==newVal&&selectCtrl.removeOption(oldVal),selectCtrl.addOption(newVal,element)}):selectCtrl.addOption(attr.value,element),element.on("$destroy",function(){selectCtrl.removeOption(attr.value)})}}}}],styleDirective=valueFn({restrict:"E",terminal:!1}),requiredDirective=function(){return{restrict:"A",require:"?ngModel",link:function(scope,elm,attr,ctrl){ctrl&&(attr.required=!0,ctrl.$validators.required=function(modelValue,viewValue){return!attr.required||!ctrl.$isEmpty(viewValue)},attr.$observe("required",function(){ctrl.$validate()}))}}},patternDirective=function(){return{restrict:"A",require:"?ngModel",link:function(scope,elm,attr,ctrl){if(ctrl){var regexp,patternExp=attr.ngPattern||attr.pattern;attr.$observe("pattern",function(regex){if(isString(regex)&&regex.length>0&&(regex=new RegExp("^"+regex+"$")),regex&&!regex.test)throw minErr("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",patternExp,regex,startingTag(elm));regexp=regex||undefined,ctrl.$validate()}),ctrl.$validators.pattern=function(value){return ctrl.$isEmpty(value)||isUndefined(regexp)||regexp.test(value)}}}}},maxlengthDirective=function(){return{restrict:"A",require:"?ngModel",link:function(scope,elm,attr,ctrl){if(ctrl){var maxlength=-1;attr.$observe("maxlength",function(value){var intVal=int(value);maxlength=isNaN(intVal)?-1:intVal,ctrl.$validate()}),ctrl.$validators.maxlength=function(modelValue,viewValue){return 0>maxlength||ctrl.$isEmpty(modelValue)||viewValue.length<=maxlength}}}}},minlengthDirective=function(){return{restrict:"A",require:"?ngModel",link:function(scope,elm,attr,ctrl){if(ctrl){var minlength=0;attr.$observe("minlength",function(value){minlength=int(value)||0,ctrl.$validate()}),ctrl.$validators.minlength=function(modelValue,viewValue){return ctrl.$isEmpty(viewValue)||viewValue.length>=minlength}}}}};window.angular.bootstrap||(bindJQuery(),publishExternalAPI(angular),jqLite(document).ready(function(){angularInit(document,bootstrap)}))}(window,document),!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}</style>'),function(window,angular,undefined){"use strict";angular.module("ngAnimate",["ng"]).factory("$$animateReflow",["$window","$timeout",function($window,$timeout){var requestAnimationFrame=$window.requestAnimationFrame||$window.webkitRequestAnimationFrame||function(fn){return $timeout(fn,10,!1)},cancelAnimationFrame=$window.cancelAnimationFrame||$window.webkitCancelAnimationFrame||function(timer){return $timeout.cancel(timer)};return function(fn){var id=requestAnimationFrame(fn);return function(){cancelAnimationFrame(id)}}}]).config(["$provide","$animateProvider",function($provide,$animateProvider){function extractElementNode(element){for(var i=0;i<element.length;i++){var elm=element[i];if(elm.nodeType==ELEMENT_NODE)return elm}}function isMatchingElement(elm1,elm2){return extractElementNode(elm1)==extractElementNode(elm2)}var noop=angular.noop,forEach=angular.forEach,selectors=$animateProvider.$$selectors,ELEMENT_NODE=1,NG_ANIMATE_STATE="$$ngAnimateState",NG_ANIMATE_CLASS_NAME="ng-animate",rootAnimateState={running:!0};$provide.decorator("$animate",["$delegate","$injector","$sniffer","$rootElement","$timeout","$rootScope","$document",function($delegate,$injector,$sniffer,$rootElement,$timeout,$rootScope){function async(fn){return $timeout(fn,0,!1)}function lookup(name){if(name){var matches=[],flagMap={},classes=name.substr(1).split(".");($sniffer.transitions||$sniffer.animations)&&classes.push("");for(var i=0;i<classes.length;i++){var klass=classes[i],selectorFactoryName=selectors[klass];selectorFactoryName&&!flagMap[klass]&&(matches.push($injector.get(selectorFactoryName)),flagMap[klass]=!0)}return matches}}function performAnimation(animationEvent,className,element,parentElement,afterElement,domOperation,doneCallback){function onBeforeAnimationsComplete(cancelled){if(fireDOMOperation(),cancelled===!0)return void closeAnimation();var data=element.data(NG_ANIMATE_STATE);data&&(data.done=closeAnimation,element.data(NG_ANIMATE_STATE,data)),invokeRegisteredAnimationFns(animations,"after",closeAnimation)}function invokeRegisteredAnimationFns(animations,phase,allAnimationFnsComplete){function progress(index,phase){var phaseCompletionFlag=phase+"Complete",currentAnimation=animations[index];currentAnimation[phaseCompletionFlag]=!0,(currentAnimation[endFnName]||noop)();for(var i=0;i<animations.length;i++)if(!animations[i][phaseCompletionFlag])return;allAnimationFnsComplete()}"after"==phase?fireAfterCallbackAsync():fireBeforeCallbackAsync();var endFnName=phase+"End";forEach(animations,function(animation,index){var animationPhaseCompleted=function(){progress(index,phase)};return"before"!=phase||"enter"!=animationEvent&&"move"!=animationEvent?void(animation[phase]?animation[endFnName]=isClassBased?animation[phase](element,className,animationPhaseCompleted):animation[phase](element,animationPhaseCompleted):animationPhaseCompleted()):void animationPhaseCompleted()})}function fireDOMCallback(animationPhase){element.triggerHandler("$animate:"+animationPhase,{event:animationEvent,className:className})}function fireBeforeCallbackAsync(){async(function(){fireDOMCallback("before")})}function fireAfterCallbackAsync(){async(function(){fireDOMCallback("after")})}function fireDoneCallbackAsync(){async(function(){fireDOMCallback("close"),doneCallback&&doneCallback()})}function fireDOMOperation(){fireDOMOperation.hasBeenRun||(fireDOMOperation.hasBeenRun=!0,domOperation())}function closeAnimation(){if(!closeAnimation.hasBeenRun){closeAnimation.hasBeenRun=!0;var data=element.data(NG_ANIMATE_STATE);data&&(isClassBased?cleanup(element):(data.closeAnimationTimeout=async(function(){cleanup(element)}),element.data(NG_ANIMATE_STATE,data))),fireDoneCallbackAsync()}}var currentClassName,classes,node=extractElementNode(element);if(node&&(currentClassName=node.className,classes=currentClassName+" "+className),!node||!isAnimatableClassName(classes))return fireDOMOperation(),fireBeforeCallbackAsync(),fireAfterCallbackAsync(),void closeAnimation();var animationLookup=(" "+classes).replace(/\s+/g,".");parentElement||(parentElement=afterElement?afterElement.parent():element.parent());var matches=lookup(animationLookup),isClassBased="addClass"==animationEvent||"removeClass"==animationEvent,ngAnimateState=element.data(NG_ANIMATE_STATE)||{};if(animationsDisabled(element,parentElement)||0===matches.length)return fireDOMOperation(),fireBeforeCallbackAsync(),fireAfterCallbackAsync(),void closeAnimation();var animations=[],allowAnimations=isClassBased?!(ngAnimateState.disabled||ngAnimateState.running&&ngAnimateState.structural):!0;if(allowAnimations&&forEach(matches,function(animation){if(!animation.allowCancel||animation.allowCancel(element,animationEvent,className)){var beforeFn,afterFn=animation[animationEvent];"leave"==animationEvent?(beforeFn=afterFn,afterFn=null):beforeFn=animation["before"+animationEvent.charAt(0).toUpperCase()+animationEvent.substr(1)],animations.push({before:beforeFn,after:afterFn})}}),0===animations.length)return fireDOMOperation(),fireBeforeCallbackAsync(),fireAfterCallbackAsync(),void fireDoneCallbackAsync();var ONE_SPACE=" ",futureClassName=ONE_SPACE+currentClassName+ONE_SPACE;if(ngAnimateState.running){$timeout.cancel(ngAnimateState.closeAnimationTimeout),cleanup(element),cancelAnimations(ngAnimateState.animations);var isFullyClassBasedAnimation=isClassBased&&!ngAnimateState.structural,isRevertingClassAnimation=isFullyClassBasedAnimation&&ngAnimateState.className==className&&animationEvent!=ngAnimateState.event;ngAnimateState.beforeComplete||isRevertingClassAnimation?(ngAnimateState.done||noop)(!0):isFullyClassBasedAnimation&&(futureClassName="removeClass"==ngAnimateState.event?futureClassName.replace(ONE_SPACE+ngAnimateState.className+ONE_SPACE,ONE_SPACE):futureClassName+ngAnimateState.className+ONE_SPACE)}var classNameToken=ONE_SPACE+className+ONE_SPACE;return"addClass"==animationEvent&&futureClassName.indexOf(classNameToken)>=0||"removeClass"==animationEvent&&-1==futureClassName.indexOf(classNameToken)?(fireDOMOperation(),fireBeforeCallbackAsync(),fireAfterCallbackAsync(),void fireDoneCallbackAsync()):(element.addClass(NG_ANIMATE_CLASS_NAME),element.data(NG_ANIMATE_STATE,{running:!0,event:animationEvent,className:className,structural:!isClassBased,animations:animations,done:onBeforeAnimationsComplete}),void invokeRegisteredAnimationFns(animations,"before",onBeforeAnimationsComplete))}function cancelChildAnimations(element){var node=extractElementNode(element);forEach(node.querySelectorAll("."+NG_ANIMATE_CLASS_NAME),function(element){element=angular.element(element);var data=element.data(NG_ANIMATE_STATE);data&&(cancelAnimations(data.animations),cleanup(element))})}function cancelAnimations(animations){var isCancelledFlag=!0;forEach(animations,function(animation){animation.beforeComplete||(animation.beforeEnd||noop)(isCancelledFlag),animation.afterComplete||(animation.afterEnd||noop)(isCancelledFlag)})}function cleanup(element){isMatchingElement(element,$rootElement)?rootAnimateState.disabled||(rootAnimateState.running=!1,rootAnimateState.structural=!1):(element.removeClass(NG_ANIMATE_CLASS_NAME),element.removeData(NG_ANIMATE_STATE))}function animationsDisabled(element,parentElement){if(rootAnimateState.disabled)return!0;if(isMatchingElement(element,$rootElement))return rootAnimateState.disabled||rootAnimateState.running;do{if(0===parentElement.length)break;var isRoot=isMatchingElement(parentElement,$rootElement),state=isRoot?rootAnimateState:parentElement.data(NG_ANIMATE_STATE),result=state&&(!!state.disabled||!!state.running);if(isRoot||result)return result;if(isRoot)return!0}while(parentElement=parentElement.parent());return!0}$rootElement.data(NG_ANIMATE_STATE,rootAnimateState),$rootScope.$$postDigest(function(){$rootScope.$$postDigest(function(){rootAnimateState.running=!1})});var classNameFilter=$animateProvider.classNameFilter(),isAnimatableClassName=classNameFilter?function(className){return classNameFilter.test(className)}:function(){return!0};return{enter:function(element,parentElement,afterElement,doneCallback){this.enabled(!1,element),$delegate.enter(element,parentElement,afterElement),$rootScope.$$postDigest(function(){performAnimation("enter","ng-enter",element,parentElement,afterElement,noop,doneCallback)})},leave:function(element,doneCallback){cancelChildAnimations(element),this.enabled(!1,element),$rootScope.$$postDigest(function(){performAnimation("leave","ng-leave",element,null,null,function(){$delegate.leave(element)},doneCallback)})},move:function(element,parentElement,afterElement,doneCallback){cancelChildAnimations(element),this.enabled(!1,element),$delegate.move(element,parentElement,afterElement),$rootScope.$$postDigest(function(){performAnimation("move","ng-move",element,parentElement,afterElement,noop,doneCallback)})},addClass:function(element,className,doneCallback){performAnimation("addClass",className,element,null,null,function(){$delegate.addClass(element,className)},doneCallback)},removeClass:function(element,className,doneCallback){performAnimation("removeClass",className,element,null,null,function(){$delegate.removeClass(element,className)},doneCallback)},enabled:function(value,element){switch(arguments.length){case 2:if(value)cleanup(element);else{var data=element.data(NG_ANIMATE_STATE)||{};data.disabled=!0,element.data(NG_ANIMATE_STATE,data)}break;case 1:rootAnimateState.disabled=!value;break;default:value=!rootAnimateState.disabled}return!!value}}}]),$animateProvider.register("",["$window","$sniffer","$timeout","$$animateReflow",function($window,$sniffer,$timeout,$$animateReflow){function afterReflow(element,callback){cancelAnimationReflow&&cancelAnimationReflow(),animationReflowQueue.push(callback);var node=extractElementNode(element);element=angular.element(node),animationElementQueue.push(element);var elementData=element.data(NG_ANIMATE_CSS_DATA_KEY),stagger=elementData.stagger,staggerTime=elementData.itemIndex*(Math.max(stagger.animationDelay,stagger.transitionDelay)||0),animationTime=(elementData.maxDelay+elementData.maxDuration)*CLOSING_TIME_BUFFER;closingAnimationTime=Math.max(closingAnimationTime,(staggerTime+animationTime)*ONE_SECOND),elementData.animationCount=animationCounter,cancelAnimationReflow=$$animateReflow(function(){forEach(animationReflowQueue,function(fn){fn()});var elementQueueSnapshot=[],animationCounterSnapshot=animationCounter;forEach(animationElementQueue,function(elm){elementQueueSnapshot.push(elm)}),$timeout(function(){closeAllAnimations(elementQueueSnapshot,animationCounterSnapshot),elementQueueSnapshot=null},closingAnimationTime,!1),animationReflowQueue=[],animationElementQueue=[],cancelAnimationReflow=null,lookupCache={},closingAnimationTime=0,animationCounter++})}function closeAllAnimations(elements,count){forEach(elements,function(element){var elementData=element.data(NG_ANIMATE_CSS_DATA_KEY);elementData&&elementData.animationCount==count&&(elementData.closeAnimationFn||noop)()})}function getElementAnimationDetails(element,cacheKey){var data=cacheKey?lookupCache[cacheKey]:null;if(!data){var transitionDelayStyle,animationDelayStyle,transitionDurationStyle,transitionPropertyStyle,transitionDuration=0,transitionDelay=0,animationDuration=0,animationDelay=0;forEach(element,function(element){if(element.nodeType==ELEMENT_NODE){var elementStyles=$window.getComputedStyle(element)||{};transitionDurationStyle=elementStyles[TRANSITION_PROP+DURATION_KEY],transitionDuration=Math.max(parseMaxTime(transitionDurationStyle),transitionDuration),transitionPropertyStyle=elementStyles[TRANSITION_PROP+PROPERTY_KEY],transitionDelayStyle=elementStyles[TRANSITION_PROP+DELAY_KEY],transitionDelay=Math.max(parseMaxTime(transitionDelayStyle),transitionDelay),animationDelayStyle=elementStyles[ANIMATION_PROP+DELAY_KEY],animationDelay=Math.max(parseMaxTime(animationDelayStyle),animationDelay);var aDuration=parseMaxTime(elementStyles[ANIMATION_PROP+DURATION_KEY]);aDuration>0&&(aDuration*=parseInt(elementStyles[ANIMATION_PROP+ANIMATION_ITERATION_COUNT_KEY],10)||1),animationDuration=Math.max(aDuration,animationDuration)}}),data={total:0,transitionPropertyStyle:transitionPropertyStyle,transitionDurationStyle:transitionDurationStyle,transitionDelayStyle:transitionDelayStyle,transitionDelay:transitionDelay,transitionDuration:transitionDuration,animationDelayStyle:animationDelayStyle,animationDelay:animationDelay,animationDuration:animationDuration},cacheKey&&(lookupCache[cacheKey]=data)}return data}function parseMaxTime(str){var maxValue=0,values=angular.isString(str)?str.split(/\s*,\s*/):[];return forEach(values,function(value){maxValue=Math.max(parseFloat(value)||0,maxValue)}),maxValue}function getCacheKey(element){var parentElement=element.parent(),parentID=parentElement.data(NG_ANIMATE_PARENT_KEY);return parentID||(parentElement.data(NG_ANIMATE_PARENT_KEY,++parentCounter),parentID=parentCounter),parentID+"-"+extractElementNode(element).className}function animateSetup(element,className,calculationDecorator){var cacheKey=getCacheKey(element),eventCacheKey=cacheKey+" "+className,stagger={},itemIndex=lookupCache[eventCacheKey]?++lookupCache[eventCacheKey].total:0;if(itemIndex>0){var staggerClassName=className+"-stagger",staggerCacheKey=cacheKey+" "+staggerClassName,applyClasses=!lookupCache[staggerCacheKey];applyClasses&&element.addClass(staggerClassName),stagger=getElementAnimationDetails(element,staggerCacheKey),applyClasses&&element.removeClass(staggerClassName)}calculationDecorator=calculationDecorator||function(fn){return fn()},element.addClass(className);var timings=calculationDecorator(function(){return getElementAnimationDetails(element,eventCacheKey)}),maxDelay=Math.max(timings.transitionDelay,timings.animationDelay),maxDuration=Math.max(timings.transitionDuration,timings.animationDuration);if(0===maxDuration)return element.removeClass(className),!1;var activeClassName="";return timings.transitionDuration>0?blockTransitions(element):blockKeyframeAnimations(element),forEach(className.split(" "),function(klass,i){activeClassName+=(i>0?" ":"")+klass+"-active"}),element.data(NG_ANIMATE_CSS_DATA_KEY,{className:className,activeClassName:activeClassName,maxDuration:maxDuration,maxDelay:maxDelay,classes:className+" "+activeClassName,timings:timings,stagger:stagger,itemIndex:itemIndex}),!0}function blockTransitions(element){extractElementNode(element).style[TRANSITION_PROP+PROPERTY_KEY]="none"}function blockKeyframeAnimations(element){extractElementNode(element).style[ANIMATION_PROP]="none 0s"}function unblockTransitions(element){var prop=TRANSITION_PROP+PROPERTY_KEY,node=extractElementNode(element);node.style[prop]&&node.style[prop].length>0&&(node.style[prop]="")}function unblockKeyframeAnimations(element){var prop=ANIMATION_PROP,node=extractElementNode(element);node.style[prop]&&node.style[prop].length>0&&(node.style[prop]="")}function animateRun(element,className,activeAnimationComplete){function onEnd(){element.off(css3AnimationEvents,onAnimationProgress),element.removeClass(activeClassName),animateClose(element,className);var node=extractElementNode(element);for(var i in appliedStyles)node.style.removeProperty(appliedStyles[i])}function onAnimationProgress(event){event.stopPropagation();var ev=event.originalEvent||event,timeStamp=ev.$manualTimeStamp||ev.timeStamp||Date.now(),elapsedTime=parseFloat(ev.elapsedTime.toFixed(ELAPSED_TIME_MAX_DECIMAL_PLACES));Math.max(timeStamp-startTime,0)>=maxDelayTime&&elapsedTime>=maxDuration&&activeAnimationComplete()}var elementData=element.data(NG_ANIMATE_CSS_DATA_KEY),node=extractElementNode(element);if(-1==node.className.indexOf(className)||!elementData)return void activeAnimationComplete();var timings=elementData.timings,stagger=elementData.stagger,maxDuration=elementData.maxDuration,activeClassName=elementData.activeClassName,maxDelayTime=Math.max(timings.transitionDelay,timings.animationDelay)*ONE_SECOND,startTime=Date.now(),css3AnimationEvents=ANIMATIONEND_EVENT+" "+TRANSITIONEND_EVENT,itemIndex=elementData.itemIndex,style="",appliedStyles=[];if(timings.transitionDuration>0){var propertyStyle=timings.transitionPropertyStyle;-1==propertyStyle.indexOf("all")&&(style+=CSS_PREFIX+"transition-property: "+propertyStyle+";",style+=CSS_PREFIX+"transition-duration: "+timings.transitionDurationStyle+";",appliedStyles.push(CSS_PREFIX+"transition-property"),appliedStyles.push(CSS_PREFIX+"transition-duration"))}if(itemIndex>0){if(stagger.transitionDelay>0&&0===stagger.transitionDuration){var delayStyle=timings.transitionDelayStyle;style+=CSS_PREFIX+"transition-delay: "+prepareStaggerDelay(delayStyle,stagger.transitionDelay,itemIndex)+"; ",appliedStyles.push(CSS_PREFIX+"transition-delay")}stagger.animationDelay>0&&0===stagger.animationDuration&&(style+=CSS_PREFIX+"animation-delay: "+prepareStaggerDelay(timings.animationDelayStyle,stagger.animationDelay,itemIndex)+"; ",appliedStyles.push(CSS_PREFIX+"animation-delay"))}if(appliedStyles.length>0){var oldStyle=node.getAttribute("style")||"";node.setAttribute("style",oldStyle+" "+style)}return element.on(css3AnimationEvents,onAnimationProgress),element.addClass(activeClassName),elementData.closeAnimationFn=function(){onEnd(),activeAnimationComplete()},onEnd}function prepareStaggerDelay(delayStyle,staggerDelay,index){var style="";return forEach(delayStyle.split(","),function(val,i){style+=(i>0?",":"")+(index*staggerDelay+parseInt(val,10))+"s"}),style}function animateBefore(element,className,calculationDecorator){return animateSetup(element,className,calculationDecorator)?function(cancelled){cancelled&&animateClose(element,className)}:void 0}function animateAfter(element,className,afterAnimationComplete){return element.data(NG_ANIMATE_CSS_DATA_KEY)?animateRun(element,className,afterAnimationComplete):(animateClose(element,className),void afterAnimationComplete())}function animate(element,className,animationComplete){var preReflowCancellation=animateBefore(element,className);if(!preReflowCancellation)return void animationComplete();var cancel=preReflowCancellation;return afterReflow(element,function(){unblockTransitions(element),unblockKeyframeAnimations(element),cancel=animateAfter(element,className,animationComplete)}),function(cancelled){(cancel||noop)(cancelled)}}function animateClose(element,className){element.removeClass(className),element.removeData(NG_ANIMATE_CSS_DATA_KEY)}function suffixClasses(classes,suffix){var className="";return classes=angular.isArray(classes)?classes:classes.split(/\s+/),forEach(classes,function(klass,i){klass&&klass.length>0&&(className+=(i>0?" ":"")+klass+suffix)}),className}var TRANSITION_PROP,TRANSITIONEND_EVENT,ANIMATION_PROP,ANIMATIONEND_EVENT,CSS_PREFIX="";window.ontransitionend===undefined&&window.onwebkittransitionend!==undefined?(CSS_PREFIX="-webkit-",TRANSITION_PROP="WebkitTransition",TRANSITIONEND_EVENT="webkitTransitionEnd transitionend"):(TRANSITION_PROP="transition",TRANSITIONEND_EVENT="transitionend"),window.onanimationend===undefined&&window.onwebkitanimationend!==undefined?(CSS_PREFIX="-webkit-",ANIMATION_PROP="WebkitAnimation",ANIMATIONEND_EVENT="webkitAnimationEnd animationend"):(ANIMATION_PROP="animation",ANIMATIONEND_EVENT="animationend");var cancelAnimationReflow,DURATION_KEY="Duration",PROPERTY_KEY="Property",DELAY_KEY="Delay",ANIMATION_ITERATION_COUNT_KEY="IterationCount",NG_ANIMATE_PARENT_KEY="$$ngAnimateKey",NG_ANIMATE_CSS_DATA_KEY="$$ngAnimateCSS3Data",ELAPSED_TIME_MAX_DECIMAL_PLACES=3,CLOSING_TIME_BUFFER=1.5,ONE_SECOND=1e3,animationCounter=0,lookupCache={},parentCounter=0,animationReflowQueue=[],animationElementQueue=[],closingAnimationTime=0;return{allowCancel:function(element,animationEvent,className){var oldClasses=(element.data(NG_ANIMATE_CSS_DATA_KEY)||{}).classes;if(!oldClasses||["enter","leave","move"].indexOf(animationEvent)>=0)return!0;var parentElement=element.parent(),clone=angular.element(extractElementNode(element).cloneNode());clone.attr("style","position:absolute; top:-9999px; left:-9999px"),clone.removeAttr("id"),clone.empty(),forEach(oldClasses.split(" "),function(klass){clone.removeClass(klass)});var suffix="addClass"==animationEvent?"-add":"-remove";clone.addClass(suffixClasses(className,suffix)),parentElement.append(clone);var timings=getElementAnimationDetails(clone);return clone.remove(),Math.max(timings.transitionDuration,timings.animationDuration)>0},enter:function(element,animationCompleted){return animate(element,"ng-enter",animationCompleted)},leave:function(element,animationCompleted){return animate(element,"ng-leave",animationCompleted)
},move:function(element,animationCompleted){return animate(element,"ng-move",animationCompleted)},beforeAddClass:function(element,className,animationCompleted){var cancellationMethod=animateBefore(element,suffixClasses(className,"-add"),function(fn){element.addClass(className);var timings=fn();return element.removeClass(className),timings});return cancellationMethod?(afterReflow(element,function(){unblockTransitions(element),unblockKeyframeAnimations(element),animationCompleted()}),cancellationMethod):void animationCompleted()},addClass:function(element,className,animationCompleted){return animateAfter(element,suffixClasses(className,"-add"),animationCompleted)},beforeRemoveClass:function(element,className,animationCompleted){var cancellationMethod=animateBefore(element,suffixClasses(className,"-remove"),function(fn){var klass=element.attr("class");element.removeClass(className);var timings=fn();return element.attr("class",klass),timings});return cancellationMethod?(afterReflow(element,function(){unblockTransitions(element),unblockKeyframeAnimations(element),animationCompleted()}),cancellationMethod):void animationCompleted()},removeClass:function(element,className,animationCompleted){return animateAfter(element,suffixClasses(className,"-remove"),animationCompleted)}}}])}])}(window,window.angular),function(window,angular){"use strict";function $SanitizeProvider(){this.$get=["$$sanitizeUri",function($$sanitizeUri){return function(html){var buf=[];return htmlParser(html,htmlSanitizeWriter(buf,function(uri,isImage){return!/^unsafe/.test($$sanitizeUri(uri,isImage))})),buf.join("")}}]}function sanitizeText(chars){var buf=[],writer=htmlSanitizeWriter(buf,angular.noop);return writer.chars(chars),buf.join("")}function makeMap(str){var i,obj={},items=str.split(",");for(i=0;i<items.length;i++)obj[items[i]]=!0;return obj}function htmlParser(html,handler){function parseStartTag(tag,tagName,rest,unary){if(tagName=angular.lowercase(tagName),blockElements[tagName])for(;stack.last()&&inlineElements[stack.last()];)parseEndTag("",stack.last());optionalEndTagElements[tagName]&&stack.last()==tagName&&parseEndTag("",tagName),unary=voidElements[tagName]||!!unary,unary||stack.push(tagName);var attrs={};rest.replace(ATTR_REGEXP,function(match,name,doubleQuotedValue,singleQuotedValue,unquotedValue){var value=doubleQuotedValue||singleQuotedValue||unquotedValue||"";attrs[name]=decodeEntities(value)}),handler.start&&handler.start(tagName,attrs,unary)}function parseEndTag(tag,tagName){var i,pos=0;if(tagName=angular.lowercase(tagName))for(pos=stack.length-1;pos>=0&&stack[pos]!=tagName;pos--);if(pos>=0){for(i=stack.length-1;i>=pos;i--)handler.end&&handler.end(stack[i]);stack.length=pos}}var index,chars,match,stack=[],last=html;for(stack.last=function(){return stack[stack.length-1]};html;){if(chars=!0,stack.last()&&specialElements[stack.last()])html=html.replace(new RegExp("(.*)<\\s*\\/\\s*"+stack.last()+"[^>]*>","i"),function(all,text){return text=text.replace(COMMENT_REGEXP,"$1").replace(CDATA_REGEXP,"$1"),handler.chars&&handler.chars(decodeEntities(text)),""}),parseEndTag("",stack.last());else if(0===html.indexOf("<!--")?(index=html.indexOf("--",4),index>=0&&html.lastIndexOf("-->",index)===index&&(handler.comment&&handler.comment(html.substring(4,index)),html=html.substring(index+3),chars=!1)):DOCTYPE_REGEXP.test(html)?(match=html.match(DOCTYPE_REGEXP),match&&(html=html.replace(match[0],""),chars=!1)):BEGING_END_TAGE_REGEXP.test(html)?(match=html.match(END_TAG_REGEXP),match&&(html=html.substring(match[0].length),match[0].replace(END_TAG_REGEXP,parseEndTag),chars=!1)):BEGIN_TAG_REGEXP.test(html)&&(match=html.match(START_TAG_REGEXP),match&&(html=html.substring(match[0].length),match[0].replace(START_TAG_REGEXP,parseStartTag),chars=!1)),chars){index=html.indexOf("<");var text=0>index?html:html.substring(0,index);html=0>index?"":html.substring(index),handler.chars&&handler.chars(decodeEntities(text))}if(html==last)throw $sanitizeMinErr("badparse","The sanitizer was unable to parse the following block of html: {0}",html);last=html}parseEndTag()}function decodeEntities(value){if(!value)return"";var parts=spaceRe.exec(value),spaceBefore=parts[1],spaceAfter=parts[3],content=parts[2];return content&&(hiddenPre.innerHTML=content.replace(/</g,"&lt;"),content="textContent"in hiddenPre?hiddenPre.textContent:hiddenPre.innerText),spaceBefore+content+spaceAfter}function encodeEntities(value){return value.replace(/&/g,"&amp;").replace(NON_ALPHANUMERIC_REGEXP,function(value){return"&#"+value.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function htmlSanitizeWriter(buf,uriValidator){var ignore=!1,out=angular.bind(buf,buf.push);return{start:function(tag,attrs,unary){tag=angular.lowercase(tag),!ignore&&specialElements[tag]&&(ignore=tag),ignore||validElements[tag]!==!0||(out("<"),out(tag),angular.forEach(attrs,function(value,key){var lkey=angular.lowercase(key),isImage="img"===tag&&"src"===lkey||"background"===lkey;validAttrs[lkey]!==!0||uriAttrs[lkey]===!0&&!uriValidator(value,isImage)||(out(" "),out(key),out('="'),out(encodeEntities(value)),out('"'))}),out(unary?"/>":">"))},end:function(tag){tag=angular.lowercase(tag),ignore||validElements[tag]!==!0||(out("</"),out(tag),out(">")),tag==ignore&&(ignore=!1)},chars:function(chars){ignore||out(encodeEntities(chars))}}}var $sanitizeMinErr=angular.$$minErr("$sanitize"),START_TAG_REGEXP=/^<\s*([\w:-]+)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*>/,END_TAG_REGEXP=/^<\s*\/\s*([\w:-]+)[^>]*>/,ATTR_REGEXP=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,BEGIN_TAG_REGEXP=/^</,BEGING_END_TAGE_REGEXP=/^<\s*\//,COMMENT_REGEXP=/<!--(.*?)-->/g,DOCTYPE_REGEXP=/<!DOCTYPE([^>]*?)>/i,CDATA_REGEXP=/<!\[CDATA\[(.*?)]]>/g,NON_ALPHANUMERIC_REGEXP=/([^\#-~| |!])/g,voidElements=makeMap("area,br,col,hr,img,wbr"),optionalEndTagBlockElements=makeMap("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),optionalEndTagInlineElements=makeMap("rp,rt"),optionalEndTagElements=angular.extend({},optionalEndTagInlineElements,optionalEndTagBlockElements),blockElements=angular.extend({},optionalEndTagBlockElements,makeMap("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),inlineElements=angular.extend({},optionalEndTagInlineElements,makeMap("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),specialElements=makeMap("script,style"),validElements=angular.extend({},voidElements,blockElements,inlineElements,optionalEndTagElements),uriAttrs=makeMap("background,cite,href,longdesc,src,usemap"),validAttrs=angular.extend({},uriAttrs,makeMap("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width")),hiddenPre=document.createElement("pre"),spaceRe=/^(\s*)([\s\S]*?)(\s*)$/;angular.module("ngSanitize",[]).provider("$sanitize",$SanitizeProvider),angular.module("ngSanitize").filter("linky",["$sanitize",function($sanitize){var LINKY_URL_REGEXP=/((ftp|https?):\/\/|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>]/,MAILTO_REGEXP=/^mailto:/;return function(text,target){function addText(text){text&&html.push(sanitizeText(text))}function addLink(url,text){html.push("<a "),angular.isDefined(target)&&(html.push('target="'),html.push(target),html.push('" ')),html.push('href="'),html.push(url),html.push('">'),addText(text),html.push("</a>")}if(!text)return text;for(var match,url,i,raw=text,html=[];match=raw.match(LINKY_URL_REGEXP);)url=match[0],match[2]==match[3]&&(url="mailto:"+url),i=match.index,addText(raw.substr(0,i)),addLink(url,match[0].replace(MAILTO_REGEXP,"")),raw=raw.substring(i+match[0].length);return addText(raw),$sanitize(html.join(""))}}])}(window,window.angular),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(window,angular,undefined){"use strict";function inherit(parent,extra){return extend(new(extend(function(){},{prototype:parent})),extra)}function merge(dst){return forEach(arguments,function(obj){obj!==dst&&forEach(obj,function(value,key){dst.hasOwnProperty(key)||(dst[key]=value)})}),dst}function ancestors(first,second){var path=[];for(var n in first.path)if(""!==first.path[n]){if(!second.path[n])break;path.push(first.path[n])}return path}function arraySearch(array,value){if(Array.prototype.indexOf)return array.indexOf(value,Number(arguments[2])||0);var len=array.length>>>0,from=Number(arguments[2])||0;for(from=0>from?Math.ceil(from):Math.floor(from),0>from&&(from+=len);len>from;from++)if(from in array&&array[from]===value)return from;return-1}function inheritParams(currentParams,newParams,$current,$to){var parentParams,parents=ancestors($current,$to),inherited={},inheritList=[];for(var i in parents)if(parents[i].params&&parents[i].params.length){parentParams=parents[i].params;for(var j in parentParams)arraySearch(inheritList,parentParams[j])>=0||(inheritList.push(parentParams[j]),inherited[parentParams[j]]=currentParams[parentParams[j]])}return extend({},inherited,newParams)}function normalize(keys,values){var normalized={};return forEach(keys,function(name){var value=values[name];normalized[name]=null!=value?String(value):null}),normalized}function equalForKeys(a,b,keys){if(!keys){keys=[];for(var n in a)keys.push(n)}for(var i=0;i<keys.length;i++){var k=keys[i];if(a[k]!=b[k])return!1}return!0}function filterByKeys(keys,values){var filtered={};return forEach(keys,function(name){filtered[name]=values[name]}),filtered}function $Resolve($q,$injector){var VISIT_IN_PROGRESS=1,VISIT_DONE=2,NOTHING={},NO_DEPENDENCIES=[],NO_LOCALS=NOTHING,NO_PARENT=extend($q.when(NOTHING),{$$promises:NOTHING,$$values:NOTHING});this.study=function(invocables){function visit(value,key){if(visited[key]!==VISIT_DONE){if(cycle.push(key),visited[key]===VISIT_IN_PROGRESS)throw cycle.splice(0,cycle.indexOf(key)),new Error("Cyclic dependency: "+cycle.join(" -> "));if(visited[key]=VISIT_IN_PROGRESS,isString(value))plan.push(key,[function(){return $injector.get(value)}],NO_DEPENDENCIES);else{var params=$injector.annotate(value);forEach(params,function(param){param!==key&&invocables.hasOwnProperty(param)&&visit(invocables[param],param)}),plan.push(key,value,params)}cycle.pop(),visited[key]=VISIT_DONE}}function isResolve(value){return isObject(value)&&value.then&&value.$$promises}if(!isObject(invocables))throw new Error("'invocables' must be an object");var plan=[],cycle=[],visited={};return forEach(invocables,visit),invocables=cycle=visited=null,function(locals,parent,self){function done(){--wait||(merged||merge(values,parent.$$values),result.$$values=values,result.$$promises=!0,resolution.resolve(values))}function fail(reason){result.$$failure=reason,resolution.reject(reason)}function invoke(key,invocable,params){function onfailure(reason){invocation.reject(reason),fail(reason)}function proceed(){if(!isDefined(result.$$failure))try{invocation.resolve($injector.invoke(invocable,self,values)),invocation.promise.then(function(result){values[key]=result,done()},onfailure)}catch(e){onfailure(e)}}var invocation=$q.defer(),waitParams=0;forEach(params,function(dep){promises.hasOwnProperty(dep)&&!locals.hasOwnProperty(dep)&&(waitParams++,promises[dep].then(function(result){values[dep]=result,--waitParams||proceed()},onfailure))}),waitParams||proceed(),promises[key]=invocation.promise}if(isResolve(locals)&&self===undefined&&(self=parent,parent=locals,locals=null),locals){if(!isObject(locals))throw new Error("'locals' must be an object")}else locals=NO_LOCALS;if(parent){if(!isResolve(parent))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else parent=NO_PARENT;var resolution=$q.defer(),result=resolution.promise,promises=result.$$promises={},values=extend({},locals),wait=1+plan.length/3,merged=!1;if(isDefined(parent.$$failure))return fail(parent.$$failure),result;parent.$$values?(merged=merge(values,parent.$$values),done()):(extend(promises,parent.$$promises),parent.then(done,fail));for(var i=0,ii=plan.length;ii>i;i+=3)locals.hasOwnProperty(plan[i])?done():invoke(plan[i],plan[i+1],plan[i+2]);return result}},this.resolve=function(invocables,locals,parent,self){return this.study(invocables)(locals,parent,self)}}function $TemplateFactory($http,$templateCache,$injector){this.fromConfig=function(config,params,locals){return isDefined(config.template)?this.fromString(config.template,params):isDefined(config.templateUrl)?this.fromUrl(config.templateUrl,params):isDefined(config.templateProvider)?this.fromProvider(config.templateProvider,params,locals):null},this.fromString=function(template,params){return isFunction(template)?template(params):template},this.fromUrl=function(url,params){return isFunction(url)&&(url=url(params)),null==url?null:$http.get(url,{cache:$templateCache}).then(function(response){return response.data})},this.fromProvider=function(provider,params,locals){return $injector.invoke(provider,null,locals||{params:params})}}function UrlMatcher(pattern){function addParameter(id){if(!/^\w+(-+\w+)*$/.test(id))throw new Error("Invalid parameter name '"+id+"' in pattern '"+pattern+"'");if(names[id])throw new Error("Duplicate parameter name '"+id+"' in pattern '"+pattern+"'");names[id]=!0,params.push(id)}function quoteRegExp(string){return string.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&")}var m,placeholder=/([:*])(\w+)|\{(\w+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,names={},compiled="^",last=0,segments=this.segments=[],params=this.params=[];this.source=pattern;for(var id,regexp,segment;(m=placeholder.exec(pattern))&&(id=m[2]||m[3],regexp=m[4]||("*"==m[1]?".*":"[^/]*"),segment=pattern.substring(last,m.index),!(segment.indexOf("?")>=0));)compiled+=quoteRegExp(segment)+"("+regexp+")",addParameter(id),segments.push(segment),last=placeholder.lastIndex;segment=pattern.substring(last);var i=segment.indexOf("?");if(i>=0){var search=this.sourceSearch=segment.substring(i);segment=segment.substring(0,i),this.sourcePath=pattern.substring(0,last+i),forEach(search.substring(1).split(/[&?]/),addParameter)}else this.sourcePath=pattern,this.sourceSearch="";compiled+=quoteRegExp(segment)+"$",segments.push(segment),this.regexp=new RegExp(compiled),this.prefix=segments[0]}function $UrlMatcherFactory(){this.compile=function(pattern){return new UrlMatcher(pattern)},this.isMatcher=function(o){return isObject(o)&&isFunction(o.exec)&&isFunction(o.format)&&isFunction(o.concat)},this.$get=function(){return this}}function $UrlRouterProvider($urlMatcherFactory){function regExpPrefix(re){var prefix=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(re.source);return null!=prefix?prefix[1].replace(/\\(.)/g,"$1"):""}function interpolate(pattern,match){return pattern.replace(/\$(\$|\d{1,2})/,function(m,what){return match["$"===what?0:Number(what)]})}function handleIfMatch($injector,handler,match){if(!match)return!1;var result=$injector.invoke(handler,handler,{$match:match});return isDefined(result)?result:!0}var rules=[],otherwise=null;this.rule=function(rule){if(!isFunction(rule))throw new Error("'rule' must be a function");return rules.push(rule),this},this.otherwise=function(rule){if(isString(rule)){var redirect=rule;rule=function(){return redirect}}else if(!isFunction(rule))throw new Error("'rule' must be a function");return otherwise=rule,this},this.when=function(what,handler){var redirect,handlerIsString=isString(handler);if(isString(what)&&(what=$urlMatcherFactory.compile(what)),!handlerIsString&&!isFunction(handler)&&!isArray(handler))throw new Error("invalid 'handler' in when()");var strategies={matcher:function(what,handler){return handlerIsString&&(redirect=$urlMatcherFactory.compile(handler),handler=["$match",function($match){return redirect.format($match)}]),extend(function($injector,$location){return handleIfMatch($injector,handler,what.exec($location.path(),$location.search()))},{prefix:isString(what.prefix)?what.prefix:""})},regex:function(what,handler){if(what.global||what.sticky)throw new Error("when() RegExp must not be global or sticky");return handlerIsString&&(redirect=handler,handler=["$match",function($match){return interpolate(redirect,$match)}]),extend(function($injector,$location){return handleIfMatch($injector,handler,what.exec($location.path()))},{prefix:regExpPrefix(what)})}},check={matcher:$urlMatcherFactory.isMatcher(what),regex:what instanceof RegExp};for(var n in check)if(check[n])return this.rule(strategies[n](what,handler));throw new Error("invalid 'what' in when()")},this.$get=["$location","$rootScope","$injector",function($location,$rootScope,$injector){function update(evt){function check(rule){var handled=rule($injector,$location);return handled?(isString(handled)&&$location.replace().url(handled),!0):!1}if(!evt||!evt.defaultPrevented){var i,n=rules.length;for(i=0;n>i;i++)if(check(rules[i]))return;otherwise&&check(otherwise)}}return $rootScope.$on("$locationChangeSuccess",update),{sync:function(){update()}}}]}function $StateProvider($urlRouterProvider,$urlMatcherFactory,$locationProvider){function isRelative(stateName){return 0===stateName.indexOf(".")||0===stateName.indexOf("^")}function findState(stateOrName,base){var isStr=isString(stateOrName),name=isStr?stateOrName:stateOrName.name,path=isRelative(name);if(path){if(!base)throw new Error("No reference point given for path '"+name+"'");for(var rel=name.split("."),i=0,pathLength=rel.length,current=base;pathLength>i;i++)if(""!==rel[i]||0!==i){if("^"!==rel[i])break;if(!current.parent)throw new Error("Path '"+name+"' not valid for state '"+base.name+"'");current=current.parent}else current=base;rel=rel.slice(i).join("."),name=current.name+(current.name&&rel?".":"")+rel}var state=states[name];return!state||!isStr&&(isStr||state!==stateOrName&&state.self!==stateOrName)?undefined:state}function queueState(parentName,state){queue[parentName]||(queue[parentName]=[]),queue[parentName].push(state)}function registerState(state){state=inherit(state,{self:state,resolve:state.resolve||{},toString:function(){return this.name}});var name=state.name;if(!isString(name)||name.indexOf("@")>=0)throw new Error("State must have a valid name");if(states.hasOwnProperty(name))throw new Error("State '"+name+"'' is already defined");var parentName=-1!==name.indexOf(".")?name.substring(0,name.lastIndexOf(".")):isString(state.parent)?state.parent:"";if(parentName&&!states[parentName])return queueState(parentName,state.self);for(var key in stateBuilder)isFunction(stateBuilder[key])&&(state[key]=stateBuilder[key](state,stateBuilder.$delegates[key]));if(states[name]=state,!state[abstractKey]&&state.url&&$urlRouterProvider.when(state.url,["$match","$stateParams",function($match,$stateParams){$state.$current.navigable==state&&equalForKeys($match,$stateParams)||$state.transitionTo(state,$match,{location:!1})}]),queue[name])for(var i=0;i<queue[name].length;i++)registerState(queue[name][i]);return state}function decorator(name,func){return isString(name)&&!isDefined(func)?stateBuilder[name]:isFunction(func)&&isString(name)?(stateBuilder[name]&&!stateBuilder.$delegates[name]&&(stateBuilder.$delegates[name]=stateBuilder[name]),stateBuilder[name]=func,this):this}function state(name,definition){return isObject(name)?definition=name:definition.name=name,registerState(definition),this}function $get($rootScope,$q,$view,$injector,$resolve,$stateParams,$location){function syncUrl(){$location.url()!==currentLocation&&($location.url(currentLocation),$location.replace())}function resolveState(state,params,paramsAreFiltered,inherited,dst){var $stateParams=paramsAreFiltered?params:filterByKeys(state.params,params),locals={$stateParams:$stateParams};dst.resolve=$resolve.resolve(state.resolve,locals,dst.resolve,state);var promises=[dst.resolve.then(function(globals){dst.globals=globals})];return inherited&&promises.push(inherited),forEach(state.views,function(view,name){var injectables=view.resolve&&view.resolve!==state.resolve?view.resolve:{};injectables.$template=[function(){return $view.load(name,{view:view,locals:locals,params:$stateParams,notify:!1})||""}],promises.push($resolve.resolve(injectables,locals,dst.resolve,state).then(function(result){if(isFunction(view.controllerProvider)||isArray(view.controllerProvider)){var injectLocals=angular.extend({},injectables,locals);result.$$controller=$injector.invoke(view.controllerProvider,null,injectLocals)}else result.$$controller=view.controller;result.$$state=state,dst[name]=result}))}),$q.all(promises).then(function(){return dst})}var TransitionSuperseded=$q.reject(new Error("transition superseded")),TransitionPrevented=$q.reject(new Error("transition prevented")),TransitionAborted=$q.reject(new Error("transition aborted")),TransitionFailed=$q.reject(new Error("transition failed")),currentLocation=$location.url();return root.locals={resolve:null,globals:{$stateParams:{}}},$state={params:{},current:root.self,$current:root,transition:null},$state.reload=function(){$state.transitionTo($state.current,$stateParams,{reload:!0,inherit:!1,notify:!1})},$state.go=function(to,params,options){return this.transitionTo(to,params,extend({inherit:!0,relative:$state.$current},options))},$state.transitionTo=function(to,toParams,options){toParams=toParams||{},options=extend({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},options||{});var evt,from=$state.$current,fromParams=$state.params,fromPath=from.path,toState=findState(to,options.relative);if(!isDefined(toState)){var redirect={to:to,toParams:toParams,options:options};if(evt=$rootScope.$broadcast("$stateNotFound",redirect,from.self,fromParams),evt.defaultPrevented)return syncUrl(),TransitionAborted;if(evt.retry){if(options.$retry)return syncUrl(),TransitionFailed;var retryTransition=$state.transition=$q.when(evt.retry);return retryTransition.then(function(){return retryTransition!==$state.transition?TransitionSuperseded:(redirect.options.$retry=!0,$state.transitionTo(redirect.to,redirect.toParams,redirect.options))},function(){return TransitionAborted}),syncUrl(),retryTransition}if(to=redirect.to,toParams=redirect.toParams,options=redirect.options,toState=findState(to,options.relative),!isDefined(toState)){if(options.relative)throw new Error("Could not resolve '"+to+"' from state '"+options.relative+"'");throw new Error("No such state '"+to+"'")}}if(toState[abstractKey])throw new Error("Cannot transition to abstract state '"+to+"'");options.inherit&&(toParams=inheritParams($stateParams,toParams||{},$state.$current,toState)),to=toState;var keep,state,toPath=to.path,locals=root.locals,toLocals=[];for(keep=0,state=toPath[keep];state&&state===fromPath[keep]&&equalForKeys(toParams,fromParams,state.ownParams)&&!options.reload;keep++,state=toPath[keep])locals=toLocals[keep]=state.locals;if(shouldTriggerReload(to,from,locals,options))return to.self.reloadOnSearch!==!1&&syncUrl(),$state.transition=null,$q.when($state.current);if(toParams=normalize(to.params,toParams||{}),options.notify&&(evt=$rootScope.$broadcast("$stateChangeStart",to.self,toParams,from.self,fromParams),evt.defaultPrevented))return syncUrl(),TransitionPrevented;for(var resolved=$q.when(locals),l=keep;l<toPath.length;l++,state=toPath[l])locals=toLocals[l]=inherit(locals),resolved=resolveState(state,toParams,state===to,resolved,locals);var transition=$state.transition=resolved.then(function(){var l,entering,exiting;if($state.transition!==transition)return TransitionSuperseded;for(l=fromPath.length-1;l>=keep;l--)exiting=fromPath[l],exiting.self.onExit&&$injector.invoke(exiting.self.onExit,exiting.self,exiting.locals.globals),exiting.locals=null;for(l=keep;l<toPath.length;l++)entering=toPath[l],entering.locals=toLocals[l],entering.self.onEnter&&$injector.invoke(entering.self.onEnter,entering.self,entering.locals.globals);if($state.transition!==transition)return TransitionSuperseded;$state.$current=to,$state.current=to.self,$state.params=toParams,copy($state.params,$stateParams),$state.transition=null;var toNav=to.navigable;return options.location&&toNav&&($location.url(toNav.url.format(toNav.locals.globals.$stateParams)),"replace"===options.location&&$location.replace()),options.notify&&$rootScope.$broadcast("$stateChangeSuccess",to.self,toParams,from.self,fromParams),currentLocation=$location.url(),$state.current},function(error){return $state.transition!==transition?TransitionSuperseded:($state.transition=null,$rootScope.$broadcast("$stateChangeError",to.self,toParams,from.self,fromParams,error),syncUrl(),$q.reject(error))});return transition},$state.is=function(stateOrName,params){var state=findState(stateOrName);return isDefined(state)?$state.$current!==state?!1:isDefined(params)?angular.equals($stateParams,params):!0:undefined},$state.includes=function(stateOrName,params){var state=findState(stateOrName);if(!isDefined(state))return undefined;if(!isDefined($state.$current.includes[state.name]))return!1;var validParams=!0;return angular.forEach(params,function(value,key){isDefined($stateParams[key])&&$stateParams[key]===value||(validParams=!1)}),validParams},$state.href=function(stateOrName,params,options){options=extend({lossy:!0,inherit:!1,absolute:!1,relative:$state.$current},options||{});var state=findState(stateOrName,options.relative);if(!isDefined(state))return null;params=inheritParams($stateParams,params||{},$state.$current,state);var nav=state&&options.lossy?state.navigable:state,url=nav&&nav.url?nav.url.format(normalize(state.params,params||{})):null;return!$locationProvider.html5Mode()&&url&&(url="#"+$locationProvider.hashPrefix()+url),options.absolute&&url&&(url=$location.protocol()+"://"+$location.host()+(80==$location.port()||443==$location.port()?"":":"+$location.port())+(!$locationProvider.html5Mode()&&url?"/":"")+url),url},$state.get=function(stateOrName,context){if(!isDefined(stateOrName)){var list=[];return forEach(states,function(state){list.push(state.self)}),list}var state=findState(stateOrName,context);return state&&state.self?state.self:null},$state}function shouldTriggerReload(to,from,locals,options){return to!==from||(locals!==from.locals||options.reload)&&to.self.reloadOnSearch!==!1?void 0:!0}var root,$state,states={},queue={},abstractKey="abstract",stateBuilder={parent:function(state){if(isDefined(state.parent)&&state.parent)return findState(state.parent);var compositeName=/^(.+)\.[^.]+$/.exec(state.name);return compositeName?findState(compositeName[1]):root},data:function(state){return state.parent&&state.parent.data&&(state.data=state.self.data=extend({},state.parent.data,state.data)),state.data},url:function(state){var url=state.url;if(isString(url))return"^"==url.charAt(0)?$urlMatcherFactory.compile(url.substring(1)):(state.parent.navigable||root).url.concat(url);if($urlMatcherFactory.isMatcher(url)||null==url)return url;throw new Error("Invalid url '"+url+"' in state '"+state+"'")},navigable:function(state){return state.url?state:state.parent?state.parent.navigable:null},params:function(state){if(!state.params)return state.url?state.url.parameters():state.parent.params;if(!isArray(state.params))throw new Error("Invalid params in state '"+state+"'");if(state.url)throw new Error("Both params and url specicified in state '"+state+"'");return state.params},views:function(state){var views={};return forEach(isDefined(state.views)?state.views:{"":state},function(view,name){name.indexOf("@")<0&&(name+="@"+state.parent.name),views[name]=view}),views},ownParams:function(state){if(!state.parent)return state.params;var paramNames={};forEach(state.params,function(p){paramNames[p]=!0}),forEach(state.parent.params,function(p){if(!paramNames[p])throw new Error("Missing required parameter '"+p+"' in state '"+state.name+"'");paramNames[p]=!1});var ownParams=[];return forEach(paramNames,function(own,p){own&&ownParams.push(p)}),ownParams},path:function(state){return state.parent?state.parent.path.concat(state):[]},includes:function(state){var includes=state.parent?extend({},state.parent.includes):{};return includes[state.name]=!0,includes},$delegates:{}};root=registerState({name:"",url:"^",views:null,"abstract":!0}),root.navigable=null,this.decorator=decorator,this.state=state,this.$get=$get,$get.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$location","$urlRouter"]}function $ViewProvider(){function $get($rootScope,$templateFactory){return{load:function(name,options){var result,defaults={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return options=extend(defaults,options),options.view&&(result=$templateFactory.fromConfig(options.view,options.params,options.locals)),result&&options.notify&&$rootScope.$broadcast("$viewContentLoading",options),result}}}this.$get=$get,$get.$inject=["$rootScope","$templateFactory"]}function $ViewDirective($state,$compile,$controller,$injector,$anchorScroll){var $animator=$injector.has("$animator")?$injector.get("$animator"):!1,viewIsUpdating=!1,directive={restrict:"ECA",terminal:!0,priority:1e3,transclude:!0,compile:function(element,attr,transclude){return function(scope,element,attr){function updateView(doAnimate){var locals=$state.$current&&$state.$current.locals[name];if(locals!==viewLocals){var render=renderer(animate&&doAnimate);if(render.remove(element),viewScope&&(viewScope.$destroy(),viewScope=null),!locals)return viewLocals=null,view.state=null,render.restore(initialView,element);viewLocals=locals,view.state=locals.$$state;var link=$compile(render.populate(locals.$template,element));if(viewScope=scope.$new(),locals.$$controller){locals.$scope=viewScope;var controller=$controller(locals.$$controller,locals);element.children().data("$ngControllerController",controller)}link(viewScope),viewScope.$emit("$viewContentLoaded"),onloadExp&&viewScope.$eval(onloadExp),$anchorScroll()}}var viewScope,viewLocals,name=attr[directive.name]||attr.name||"",onloadExp=attr.onload||"",animate=$animator&&$animator(scope,attr),initialView=transclude(scope),renderer=function(doAnimate){return{"true":{remove:function(element){animate.leave(element.contents(),element)},restore:function(compiled,element){animate.enter(compiled,element)},populate:function(template,element){var contents=angular.element("<div></div>").html(template).contents();return animate.enter(contents,element),contents}},"false":{remove:function(element){element.html("")},restore:function(compiled,element){element.append(compiled)},populate:function(template,element){return element.html(template),element.contents()}}}[doAnimate.toString()]};element.append(initialView);var parent=element.parent().inheritedData("$uiView");name.indexOf("@")<0&&(name=name+"@"+(parent?parent.state.name:""));var view={name:name,state:null};element.data("$uiView",view);var eventHook=function(){if(!viewIsUpdating){viewIsUpdating=!0;try{updateView(!0)}catch(e){throw viewIsUpdating=!1,e}viewIsUpdating=!1}};scope.$on("$stateChangeSuccess",eventHook),scope.$on("$viewContentLoading",eventHook),updateView(!1)}}};return directive}function parseStateRef(ref){var parsed=ref.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/);if(!parsed||4!==parsed.length)throw new Error("Invalid state ref '"+ref+"'");return{state:parsed[1],paramExpr:parsed[3]||null}}function stateContext(el){var stateData=el.parent().inheritedData("$uiView");return stateData&&stateData.state&&stateData.state.name?stateData.state:void 0}function $StateRefDirective($state,$timeout){return{restrict:"A",require:"?^uiSrefActive",link:function(scope,element,attrs,uiSrefActive){var ref=parseStateRef(attrs.uiSref),params=null,base=stateContext(element)||$state.$current,isForm="FORM"===element[0].nodeName,attr=isForm?"action":"href",nav=!0,update=function(newVal){if(newVal&&(params=newVal),nav){var newHref=$state.href(ref.state,params,{relative:base});
if(!newHref)return nav=!1,!1;element[0][attr]=newHref,uiSrefActive&&uiSrefActive.$$setStateInfo(ref.state,params)}};ref.paramExpr&&(scope.$watch(ref.paramExpr,function(newVal){newVal!==params&&update(newVal)},!0),params=scope.$eval(ref.paramExpr)),update(),isForm||element.bind("click",function(e){var button=e.which||e.button;0!==button&&1!=button||e.ctrlKey||e.metaKey||e.shiftKey||($timeout(function(){scope.$apply(function(){$state.go(ref.state,params,{relative:base})})}),e.preventDefault())})}}}function $StateActiveDirective($state,$stateParams,$interpolate){return{restrict:"A",controller:function($scope,$element,$attrs){function update(){$state.$current.self===state&&matchesParams()?$element.addClass(activeClass):$element.removeClass(activeClass)}function matchesParams(){return!params||equalForKeys(params,$stateParams)}var state,params,activeClass;activeClass=$interpolate($attrs.uiSrefActive||"",!1)($scope),this.$$setStateInfo=function(newState,newParams){state=$state.get(newState,stateContext($element)),params=newParams,update()},$scope.$on("$stateChangeSuccess",update)}}}function $RouteProvider($stateProvider,$urlRouterProvider){function onEnterRoute($$state){this.locals=$$state.locals.globals,this.params=this.locals.$stateParams}function onExitRoute(){this.locals=null,this.params=null}function when(url,route){if(null!=route.redirectTo){var handler,redirect=route.redirectTo;if(isString(redirect))handler=redirect;else{if(!isFunction(redirect))throw new Error("Invalid 'redirectTo' in when()");handler=function(params,$location){return redirect(params,$location.path(),$location.search())}}$urlRouterProvider.when(url,handler)}else $stateProvider.state(inherit(route,{parent:null,name:"route:"+encodeURIComponent(url),url:url,onEnter:onEnterRoute,onExit:onExitRoute}));return routes.push(route),this}function $get($state,$rootScope,$routeParams){function stateAsRoute(state){return""!==state.name?state:undefined}var $route={routes:routes,params:$routeParams,current:undefined};return $rootScope.$on("$stateChangeStart",function(ev,to,toParams,from){$rootScope.$broadcast("$routeChangeStart",stateAsRoute(to),stateAsRoute(from))}),$rootScope.$on("$stateChangeSuccess",function(ev,to,toParams,from){$route.current=stateAsRoute(to),$rootScope.$broadcast("$routeChangeSuccess",stateAsRoute(to),stateAsRoute(from)),copy(toParams,$route.params)}),$rootScope.$on("$stateChangeError",function(ev,to,toParams,from,fromParams,error){$rootScope.$broadcast("$routeChangeError",stateAsRoute(to),stateAsRoute(from),error)}),$route}var routes=[];onEnterRoute.$inject=["$$state"],this.when=when,this.$get=$get,$get.$inject=["$state","$rootScope","$routeParams"]}var isDefined=angular.isDefined,isFunction=angular.isFunction,isString=angular.isString,isObject=angular.isObject,isArray=angular.isArray,forEach=angular.forEach,extend=angular.extend,copy=angular.copy;angular.module("ui.router.util",["ng"]),angular.module("ui.router.router",["ui.router.util"]),angular.module("ui.router.state",["ui.router.router","ui.router.util"]),angular.module("ui.router",["ui.router.state"]),angular.module("ui.router.compat",["ui.router"]),$Resolve.$inject=["$q","$injector"],angular.module("ui.router.util").service("$resolve",$Resolve),$TemplateFactory.$inject=["$http","$templateCache","$injector"],angular.module("ui.router.util").service("$templateFactory",$TemplateFactory),UrlMatcher.prototype.concat=function(pattern){return new UrlMatcher(this.sourcePath+pattern+this.sourceSearch)},UrlMatcher.prototype.toString=function(){return this.source},UrlMatcher.prototype.exec=function(path,searchParams){var m=this.regexp.exec(path);if(!m)return null;var i,params=this.params,nTotal=params.length,nPath=this.segments.length-1,values={};if(nPath!==m.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(i=0;nPath>i;i++)values[params[i]]=m[i+1];for(;nTotal>i;i++)values[params[i]]=searchParams[params[i]];return values},UrlMatcher.prototype.parameters=function(){return this.params},UrlMatcher.prototype.format=function(values){var segments=this.segments,params=this.params;if(!values)return segments.join("");var i,search,value,nPath=segments.length-1,nTotal=params.length,result=segments[0];for(i=0;nPath>i;i++)value=values[params[i]],null!=value&&(result+=encodeURIComponent(value)),result+=segments[i+1];for(;nTotal>i;i++)value=values[params[i]],null!=value&&(result+=(search?"&":"?")+params[i]+"="+encodeURIComponent(value),search=!0);return result},angular.module("ui.router.util").provider("$urlMatcherFactory",$UrlMatcherFactory),$UrlRouterProvider.$inject=["$urlMatcherFactoryProvider"],angular.module("ui.router.router").provider("$urlRouter",$UrlRouterProvider),$StateProvider.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider","$locationProvider"],angular.module("ui.router.state").value("$stateParams",{}).provider("$state",$StateProvider),$ViewProvider.$inject=[],angular.module("ui.router.state").provider("$view",$ViewProvider),$ViewDirective.$inject=["$state","$compile","$controller","$injector","$anchorScroll"],angular.module("ui.router.state").directive("uiView",$ViewDirective),$StateRefDirective.$inject=["$state","$timeout"],$StateActiveDirective.$inject=["$state","$stateParams","$interpolate"],angular.module("ui.router.state").directive("uiSref",$StateRefDirective).directive("uiSrefActive",$StateActiveDirective),$RouteProvider.$inject=["$stateProvider","$urlRouterProvider"],angular.module("ui.router.compat").provider("$route",$RouteProvider).directive("ngView",$ViewDirective)}(window,window.angular),window.ionic={controllers:{},views:{},version:"{{ VERSION }}"},function(ionic){function B1(t){return t*t*t}function B2(t){return 3*t*t*(1-t)}function B3(t){return 3*t*(1-t)*(1-t)}function B4(t){return(1-t)*(1-t)*(1-t)}var bezierCoord=function(x,y){return x||(x=0),y||(y=0),{x:x,y:y}};ionic.Animator={getQuadraticBezier:function(percent,C1,C2,C3,C4){var pos=new bezierCoord;return pos.x=C1.x*B1(percent)+C2.x*B2(percent)+C3.x*B3(percent)+C4.x*B4(percent),pos.y=C1.y*B1(percent)+C2.y*B2(percent)+C3.y*B3(percent)+C4.y*B4(percent),pos},getCubicBezier:function(x1,y1,x2,y2,duration){epsilon=1e3/60/duration/4;var curveX=function(t){var v=1-t;return 3*v*v*t*x1+3*v*t*t*x2+t*t*t},curveY=function(t){var v=1-t;return 3*v*v*t*y1+3*v*t*t*y2+t*t*t},derivativeCurveX=function(t){var v=1-t;return 3*(2*(t-1)*t+v*v)*x1+3*(-t*t*t+2*v*t)*x2};return function(t){var t0,t1,t2,x2,d2,i,x=t;for(t2=x,i=0;8>i;i++){if(x2=curveX(t2)-x,Math.abs(x2)<epsilon)return curveY(t2);if(d2=derivativeCurveX(t2),Math.abs(d2)<1e-6)break;t2-=x2/d2}if(t0=0,t1=1,t2=x,t0>t2)return curveY(t0);if(t2>t1)return curveY(t1);for(;t1>t0;){if(x2=curveX(t2),Math.abs(x2-x)<epsilon)return curveY(t2);x>x2?t0=t2:t1=t2,t2=.5*(t1-t0)+t0}return curveY(t2)}},animate:function(element){return{leave:function(){var endFunc=function(){element.classList.remove("leave"),element.classList.remove("leave-active"),element.removeEventListener("webkitTransitionEnd",endFunc),element.removeEventListener("transitionEnd",endFunc)};return element.addEventListener("webkitTransitionEnd",endFunc),element.addEventListener("transitionEnd",endFunc),element.classList.add("leave"),element.classList.add("leave-active"),this},enter:function(){var endFunc=function(){element.classList.remove("enter"),element.classList.remove("enter-active"),element.removeEventListener("webkitTransitionEnd",endFunc),element.removeEventListener("transitionEnd",endFunc)};return element.addEventListener("webkitTransitionEnd",endFunc),element.addEventListener("transitionEnd",endFunc),element.classList.add("enter"),element.classList.add("enter-active"),this}}}}}(ionic),function(ionic){var readyCallbacks=[],domReady=function(){for(var x=0;x<readyCallbacks.length;x++)ionic.requestAnimationFrame(readyCallbacks[x]);readyCallbacks=[],document.removeEventListener("DOMContentLoaded",domReady)};document.addEventListener("DOMContentLoaded",domReady),window._rAF=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(callback){window.setTimeout(callback,16)}}(),ionic.DomUtil={requestAnimationFrame:function(cb){window._rAF(cb)},animationFrameThrottle:function(cb){var args,isQueued,context;return function(){args=arguments,context=this,isQueued||(isQueued=!0,ionic.requestAnimationFrame(function(){cb.apply(context,args),isQueued=!1}))}},getPositionInParent:function(el){return{left:el.offsetLeft,top:el.offsetTop}},ready:function(cb){"complete"===document.readyState?ionic.requestAnimationFrame(cb):readyCallbacks.push(cb)},getTextBounds:function(textNode){if(document.createRange){var range=document.createRange();if(range.selectNodeContents(textNode),range.getBoundingClientRect){var rect=range.getBoundingClientRect();if(rect){var sx=window.scrollX,sy=window.scrollY;return{top:rect.top+sy,left:rect.left+sx,right:rect.left+sx+rect.width,bottom:rect.top+sy+rect.height,width:rect.width,height:rect.height}}}}return null},getChildIndex:function(element,type){if(type)for(var c,ch=element.parentNode.children,i=0,k=0,j=ch.length;j>i;i++)if(c=ch[i],c.nodeName&&c.nodeName.toLowerCase()==type){if(c==element)return k;k++}return Array.prototype.slice.call(element.parentNode.children).indexOf(element)},swapNodes:function(src,dest){dest.parentNode.insertBefore(src,dest)},getParentWithClass:function(e,className){for(;e.parentNode;){if(e.parentNode.classList&&e.parentNode.classList.contains(className))return e.parentNode;e=e.parentNode}return null},getParentOrSelfWithClass:function(e,className){for(;e;){if(e.classList&&e.classList.contains(className))return e;e=e.parentNode}return null},rectContains:function(x,y,x1,y1,x2,y2){return x1>x||x>x2?!1:y1>y||y>y2?!1:!0}},ionic.requestAnimationFrame=ionic.DomUtil.requestAnimationFrame,ionic.animationFrameThrottle=ionic.DomUtil.animationFrameThrottle}(window.ionic),function(ionic){window.CustomEvent||!function(){var CustomEvent;CustomEvent=function(event,params){var evt;params=params||{bubbles:!1,cancelable:!1,detail:void 0};try{evt=document.createEvent("CustomEvent"),evt.initCustomEvent(event,params.bubbles,params.cancelable,params.detail)}catch(error){evt=document.createEvent("Event");for(var param in params)evt[param]=params[param];evt.initEvent(event,params.bubbles,params.cancelable)}return evt},CustomEvent.prototype=window.Event.prototype,window.CustomEvent=CustomEvent}(),ionic.EventController={VIRTUALIZED_EVENTS:["tap","swipe","swiperight","swipeleft","drag","hold","release"],trigger:function(eventType,data,bubbles,cancelable){var event=new CustomEvent(eventType,{detail:data,bubbles:!!bubbles,cancelable:!!cancelable});data&&data.target&&data.target.dispatchEvent(event)||window.dispatchEvent(event)},on:function(type,callback,element){for(var e=element||window,i=0,j=this.VIRTUALIZED_EVENTS.length;j>i;i++)if(type==this.VIRTUALIZED_EVENTS[i]){var gesture=new ionic.Gesture(element);return gesture.on(type,callback),gesture}e.addEventListener(type,callback)},off:function(type,callback,element){element.removeEventListener(type,callback)},onGesture:function(type,callback,element){var gesture=new ionic.Gesture(element);return gesture.on(type,callback),gesture},offGesture:function(gesture,type,callback){gesture.off(type,callback)},handlePopState:function(){}},ionic.on=function(){ionic.EventController.on.apply(ionic.EventController,arguments)},ionic.off=function(){ionic.EventController.off.apply(ionic.EventController,arguments)},ionic.trigger=ionic.EventController.trigger,ionic.onGesture=function(){return ionic.EventController.onGesture.apply(ionic.EventController.onGesture,arguments)},ionic.offGesture=function(){return ionic.EventController.offGesture.apply(ionic.EventController.offGesture,arguments)}}(window.ionic),function(ionic){function setup(){if(!ionic.Gestures.READY){ionic.Gestures.event.determineEventTypes();for(var name in ionic.Gestures.gestures)ionic.Gestures.gestures.hasOwnProperty(name)&&ionic.Gestures.detection.register(ionic.Gestures.gestures[name]);ionic.Gestures.event.onTouch(ionic.Gestures.DOCUMENT,ionic.Gestures.EVENT_MOVE,ionic.Gestures.detection.detect),ionic.Gestures.event.onTouch(ionic.Gestures.DOCUMENT,ionic.Gestures.EVENT_END,ionic.Gestures.detection.detect),ionic.Gestures.READY=!0}}ionic.Gesture=function(element,options){return new ionic.Gestures.Instance(element,options||{})},ionic.Gestures={},ionic.Gestures.defaults={stop_browser_behavior:"disable-user-behavior"},ionic.Gestures.HAS_POINTEREVENTS=window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ionic.Gestures.HAS_TOUCHEVENTS="ontouchstart"in window,ionic.Gestures.MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android|silk/i,ionic.Gestures.NO_MOUSEEVENTS=ionic.Gestures.HAS_TOUCHEVENTS&&window.navigator.userAgent.match(ionic.Gestures.MOBILE_REGEX),ionic.Gestures.EVENT_TYPES={},ionic.Gestures.DIRECTION_DOWN="down",ionic.Gestures.DIRECTION_LEFT="left",ionic.Gestures.DIRECTION_UP="up",ionic.Gestures.DIRECTION_RIGHT="right",ionic.Gestures.POINTER_MOUSE="mouse",ionic.Gestures.POINTER_TOUCH="touch",ionic.Gestures.POINTER_PEN="pen",ionic.Gestures.EVENT_START="start",ionic.Gestures.EVENT_MOVE="move",ionic.Gestures.EVENT_END="end",ionic.Gestures.DOCUMENT=window.document,ionic.Gestures.plugins={},ionic.Gestures.READY=!1,ionic.Gestures.Instance=function(element,options){var self=this;if(null!==element)return setup(),this.element=element,this.enabled=!0,this.options=ionic.Gestures.utils.extend(ionic.Gestures.utils.extend({},ionic.Gestures.defaults),options||{}),this.options.stop_browser_behavior&&ionic.Gestures.utils.stopDefaultBrowserBehavior(this.element,this.options.stop_browser_behavior),ionic.Gestures.event.onTouch(element,ionic.Gestures.EVENT_START,function(ev){self.enabled&&ionic.Gestures.detection.startDetect(self,ev)}),this},ionic.Gestures.Instance.prototype={on:function(gesture,handler){for(var gestures=gesture.split(" "),t=0;t<gestures.length;t++)this.element.addEventListener(gestures[t],handler,!1);return this},off:function(gesture,handler){for(var gestures=gesture.split(" "),t=0;t<gestures.length;t++)this.element.removeEventListener(gestures[t],handler,!1);return this},trigger:function(gesture,eventData){var event=ionic.Gestures.DOCUMENT.createEvent("Event");event.initEvent(gesture,!0,!0),event.gesture=eventData;var element=this.element;return ionic.Gestures.utils.hasParent(eventData.target,element)&&(element=eventData.target),element.dispatchEvent(event),this},enable:function(state){return this.enabled=state,this}};var last_move_event=null,enable_detect=!1,touch_triggered=!1;ionic.Gestures.event={bindDom:function(element,type,handler){for(var types=type.split(" "),t=0;t<types.length;t++)element.addEventListener(types[t],handler,!1)},onTouch:function(element,eventType,handler){var self=this;this.bindDom(element,ionic.Gestures.EVENT_TYPES[eventType],function(ev){var sourceEventType=ev.type.toLowerCase();if(!sourceEventType.match(/mouse/)||!touch_triggered){sourceEventType.match(/touch/)||sourceEventType.match(/pointerdown/)||sourceEventType.match(/mouse/)&&1===ev.which?enable_detect=!0:sourceEventType.match(/mouse/)&&1!==ev.which&&(enable_detect=!1),sourceEventType.match(/touch|pointer/)&&(touch_triggered=!0);var count_touches=0;enable_detect&&(ionic.Gestures.HAS_POINTEREVENTS&&eventType!=ionic.Gestures.EVENT_END?count_touches=ionic.Gestures.PointerEvent.updatePointer(eventType,ev):sourceEventType.match(/touch/)?count_touches=ev.touches.length:touch_triggered||(count_touches=sourceEventType.match(/up/)?0:1),count_touches>0&&eventType==ionic.Gestures.EVENT_END?eventType=ionic.Gestures.EVENT_MOVE:count_touches||(eventType=ionic.Gestures.EVENT_END),(count_touches||null===last_move_event)&&(last_move_event=ev),handler.call(ionic.Gestures.detection,self.collectEventData(element,eventType,self.getTouchList(last_move_event,eventType),ev)),ionic.Gestures.HAS_POINTEREVENTS&&eventType==ionic.Gestures.EVENT_END&&(count_touches=ionic.Gestures.PointerEvent.updatePointer(eventType,ev))),count_touches||(last_move_event=null,enable_detect=!1,touch_triggered=!1,ionic.Gestures.PointerEvent.reset())}})},determineEventTypes:function(){var types;types=ionic.Gestures.HAS_POINTEREVENTS?ionic.Gestures.PointerEvent.getEvents():ionic.Gestures.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],ionic.Gestures.EVENT_TYPES[ionic.Gestures.EVENT_START]=types[0],ionic.Gestures.EVENT_TYPES[ionic.Gestures.EVENT_MOVE]=types[1],ionic.Gestures.EVENT_TYPES[ionic.Gestures.EVENT_END]=types[2]},getTouchList:function(ev){return ionic.Gestures.HAS_POINTEREVENTS?ionic.Gestures.PointerEvent.getTouchList():ev.touches?ev.touches:(ev.indentifier=1,[ev])},collectEventData:function(element,eventType,touches,ev){var pointerType=ionic.Gestures.POINTER_TOUCH;return(ev.type.match(/mouse/)||ionic.Gestures.PointerEvent.matchType(ionic.Gestures.POINTER_MOUSE,ev))&&(pointerType=ionic.Gestures.POINTER_MOUSE),{center:ionic.Gestures.utils.getCenter(touches),timeStamp:(new Date).getTime(),target:ev.target,touches:touches,eventType:eventType,pointerType:pointerType,srcEvent:ev,preventDefault:function(){this.srcEvent.preventManipulation&&this.srcEvent.preventManipulation(),this.srcEvent.preventDefault},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return ionic.Gestures.detection.stopDetect()}}}},ionic.Gestures.PointerEvent={pointers:{},getTouchList:function(){var self=this,touchlist=[];return Object.keys(self.pointers).sort().forEach(function(id){touchlist.push(self.pointers[id])}),touchlist},updatePointer:function(type,pointerEvent){return type==ionic.Gestures.EVENT_END?this.pointers={}:(pointerEvent.identifier=pointerEvent.pointerId,this.pointers[pointerEvent.pointerId]=pointerEvent),Object.keys(this.pointers).length},matchType:function(pointerType,ev){if(!ev.pointerType)return!1;var types={};return types[ionic.Gestures.POINTER_MOUSE]=ev.pointerType==ev.MSPOINTER_TYPE_MOUSE||ev.pointerType==ionic.Gestures.POINTER_MOUSE,types[ionic.Gestures.POINTER_TOUCH]=ev.pointerType==ev.MSPOINTER_TYPE_TOUCH||ev.pointerType==ionic.Gestures.POINTER_TOUCH,types[ionic.Gestures.POINTER_PEN]=ev.pointerType==ev.MSPOINTER_TYPE_PEN||ev.pointerType==ionic.Gestures.POINTER_PEN,types[pointerType]},getEvents:function(){return["pointerdown MSPointerDown","pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"]},reset:function(){this.pointers={}}},ionic.Gestures.utils={extend:function(dest,src,merge){for(var key in src)void 0!==dest[key]&&merge||(dest[key]=src[key]);return dest},hasParent:function(node,parent){for(;node;){if(node==parent)return!0;node=node.parentNode}return!1},getCenter:function(touches){for(var valuesX=[],valuesY=[],t=0,len=touches.length;len>t;t++)valuesX.push(touches[t].pageX),valuesY.push(touches[t].pageY);return{pageX:(Math.min.apply(Math,valuesX)+Math.max.apply(Math,valuesX))/2,pageY:(Math.min.apply(Math,valuesY)+Math.max.apply(Math,valuesY))/2}},getVelocity:function(delta_time,delta_x,delta_y){return{x:Math.abs(delta_x/delta_time)||0,y:Math.abs(delta_y/delta_time)||0}},getAngle:function(touch1,touch2){var y=touch2.pageY-touch1.pageY,x=touch2.pageX-touch1.pageX;return 180*Math.atan2(y,x)/Math.PI},getDirection:function(touch1,touch2){var x=Math.abs(touch1.pageX-touch2.pageX),y=Math.abs(touch1.pageY-touch2.pageY);return x>=y?touch1.pageX-touch2.pageX>0?ionic.Gestures.DIRECTION_LEFT:ionic.Gestures.DIRECTION_RIGHT:touch1.pageY-touch2.pageY>0?ionic.Gestures.DIRECTION_UP:ionic.Gestures.DIRECTION_DOWN},getDistance:function(touch1,touch2){var x=touch2.pageX-touch1.pageX,y=touch2.pageY-touch1.pageY;return Math.sqrt(x*x+y*y)},getScale:function(start,end){return start.length>=2&&end.length>=2?this.getDistance(end[0],end[1])/this.getDistance(start[0],start[1]):1},getRotation:function(start,end){return start.length>=2&&end.length>=2?this.getAngle(end[1],end[0])-this.getAngle(start[1],start[0]):0},isVertical:function(direction){return direction==ionic.Gestures.DIRECTION_UP||direction==ionic.Gestures.DIRECTION_DOWN},stopDefaultBrowserBehavior:function(element,css_class){element&&element.classList&&(element.classList.add(css_class),element.onselectstart=function(){return!1})}},ionic.Gestures.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(inst,eventData){this.current||(this.stopped=!1,this.current={inst:inst,startEvent:ionic.Gestures.utils.extend({},eventData),lastEvent:!1,name:""},this.detect(eventData))},detect:function(eventData){if(this.current&&!this.stopped){eventData=this.extendEventData(eventData);for(var inst_options=this.current.inst.options,g=0,len=this.gestures.length;len>g;g++){var gesture=this.gestures[g];if(!this.stopped&&inst_options[gesture.name]!==!1&&gesture.handler.call(gesture,eventData,this.current.inst)===!1){this.stopDetect();break}}return this.current&&(this.current.lastEvent=eventData),eventData.eventType==ionic.Gestures.EVENT_END&&!eventData.touches.length-1&&this.stopDetect(),eventData}},stopDetect:function(){this.previous=ionic.Gestures.utils.extend({},this.current),this.current=null,this.stopped=!0},extendEventData:function(ev){var startEv=this.current.startEvent;if(startEv&&(ev.touches.length!=startEv.touches.length||ev.touches===startEv.touches)){startEv.touches=[];for(var i=0,len=ev.touches.length;len>i;i++)startEv.touches.push(ionic.Gestures.utils.extend({},ev.touches[i]))}var delta_time=ev.timeStamp-startEv.timeStamp,delta_x=ev.center.pageX-startEv.center.pageX,delta_y=ev.center.pageY-startEv.center.pageY,velocity=ionic.Gestures.utils.getVelocity(delta_time,delta_x,delta_y);return ionic.Gestures.utils.extend(ev,{deltaTime:delta_time,deltaX:delta_x,deltaY:delta_y,velocityX:velocity.x,velocityY:velocity.y,distance:ionic.Gestures.utils.getDistance(startEv.center,ev.center),angle:ionic.Gestures.utils.getAngle(startEv.center,ev.center),direction:ionic.Gestures.utils.getDirection(startEv.center,ev.center),scale:ionic.Gestures.utils.getScale(startEv.touches,ev.touches),rotation:ionic.Gestures.utils.getRotation(startEv.touches,ev.touches),startEvent:startEv}),ev},register:function(gesture){var options=gesture.defaults||{};return void 0===options[gesture.name]&&(options[gesture.name]=!0),ionic.Gestures.utils.extend(ionic.Gestures.defaults,options,!0),gesture.index=gesture.index||1e3,this.gestures.push(gesture),this.gestures.sort(function(a,b){return a.index<b.index?-1:a.index>b.index?1:0}),this.gestures}},ionic.Gestures.gestures=ionic.Gestures.gestures||{},ionic.Gestures.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:1},timer:null,handler:function(ev,inst){switch(ev.eventType){case ionic.Gestures.EVENT_START:clearTimeout(this.timer),ionic.Gestures.detection.current.name=this.name,this.timer=setTimeout(function(){"hold"==ionic.Gestures.detection.current.name&&inst.trigger("hold",ev)},inst.options.hold_timeout);break;case ionic.Gestures.EVENT_MOVE:ev.distance>inst.options.hold_threshold&&clearTimeout(this.timer);break;case ionic.Gestures.EVENT_END:clearTimeout(this.timer)}}},ionic.Gestures.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,tap_always:!0,doubletap_distance:20,doubletap_interval:300},handler:function(ev,inst){if(ev.eventType==ionic.Gestures.EVENT_END){var prev=ionic.Gestures.detection.previous,did_doubletap=!1;if(ev.deltaTime>inst.options.tap_max_touchtime||ev.distance>inst.options.tap_max_distance)return;prev&&"tap"==prev.name&&ev.timeStamp-prev.lastEvent.timeStamp<inst.options.doubletap_interval&&ev.distance<inst.options.doubletap_distance&&(inst.trigger("doubletap",ev),did_doubletap=!0),(!did_doubletap||inst.options.tap_always)&&(ionic.Gestures.detection.current.name="tap",inst.trigger(ionic.Gestures.detection.current.name,ev))}}},ionic.Gestures.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_max_touches:1,swipe_velocity:.7},handler:function(ev,inst){if(ev.eventType==ionic.Gestures.EVENT_END){if(inst.options.swipe_max_touches>0&&ev.touches.length>inst.options.swipe_max_touches)return;(ev.velocityX>inst.options.swipe_velocity||ev.velocityY>inst.options.swipe_velocity)&&(inst.trigger(this.name,ev),inst.trigger(this.name+ev.direction,ev))}}},ionic.Gestures.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,correct_for_drag_min_distance:!0,drag_max_touches:1,drag_block_horizontal:!0,drag_block_vertical:!0,drag_lock_to_axis:!1,drag_lock_min_distance:25},triggered:!1,handler:function(ev,inst){if(ionic.Gestures.detection.current.name!=this.name&&this.triggered)return inst.trigger(this.name+"end",ev),void(this.triggered=!1);if(!(inst.options.drag_max_touches>0&&ev.touches.length>inst.options.drag_max_touches))switch(ev.eventType){case ionic.Gestures.EVENT_START:this.triggered=!1;break;case ionic.Gestures.EVENT_MOVE:if(ev.distance<inst.options.drag_min_distance&&ionic.Gestures.detection.current.name!=this.name)return;if(ionic.Gestures.detection.current.name!=this.name&&(ionic.Gestures.detection.current.name=this.name,inst.options.correct_for_drag_min_distance)){var factor=Math.abs(inst.options.drag_min_distance/ev.distance);ionic.Gestures.detection.current.startEvent.center.pageX+=ev.deltaX*factor,ionic.Gestures.detection.current.startEvent.center.pageY+=ev.deltaY*factor,ev=ionic.Gestures.detection.extendEventData(ev)}(ionic.Gestures.detection.current.lastEvent.drag_locked_to_axis||inst.options.drag_lock_to_axis&&inst.options.drag_lock_min_distance<=ev.distance)&&(ev.drag_locked_to_axis=!0);var last_direction=ionic.Gestures.detection.current.lastEvent.direction;ev.drag_locked_to_axis&&last_direction!==ev.direction&&(ev.direction=ionic.Gestures.utils.isVertical(last_direction)?ev.deltaY<0?ionic.Gestures.DIRECTION_UP:ionic.Gestures.DIRECTION_DOWN:ev.deltaX<0?ionic.Gestures.DIRECTION_LEFT:ionic.Gestures.DIRECTION_RIGHT),this.triggered||(inst.trigger(this.name+"start",ev),this.triggered=!0),inst.trigger(this.name,ev),inst.trigger(this.name+ev.direction,ev),(inst.options.drag_block_vertical&&ionic.Gestures.utils.isVertical(ev.direction)||inst.options.drag_block_horizontal&&!ionic.Gestures.utils.isVertical(ev.direction))&&ev.preventDefault();break;case ionic.Gestures.EVENT_END:this.triggered&&inst.trigger(this.name+"end",ev),this.triggered=!1}}},ionic.Gestures.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:.01,transform_min_rotation:1,transform_always_block:!1},triggered:!1,handler:function(ev,inst){if(ionic.Gestures.detection.current.name!=this.name&&this.triggered)return inst.trigger(this.name+"end",ev),void(this.triggered=!1);if(!(ev.touches.length<2))switch(inst.options.transform_always_block&&ev.preventDefault(),ev.eventType){case ionic.Gestures.EVENT_START:this.triggered=!1;break;case ionic.Gestures.EVENT_MOVE:var scale_threshold=Math.abs(1-ev.scale),rotation_threshold=Math.abs(ev.rotation);if(scale_threshold<inst.options.transform_min_scale&&rotation_threshold<inst.options.transform_min_rotation)return;ionic.Gestures.detection.current.name=this.name,this.triggered||(inst.trigger(this.name+"start",ev),this.triggered=!0),inst.trigger(this.name,ev),rotation_threshold>inst.options.transform_min_rotation&&inst.trigger("rotate",ev),scale_threshold>inst.options.transform_min_scale&&(inst.trigger("pinch",ev),inst.trigger("pinch"+(ev.scale<1?"in":"out"),ev));break;case ionic.Gestures.EVENT_END:this.triggered&&inst.trigger(this.name+"end",ev),this.triggered=!1}}},ionic.Gestures.gestures.Touch={name:"touch",index:-1/0,defaults:{prevent_default:!1,prevent_mouseevents:!1},handler:function(ev,inst){return inst.options.prevent_mouseevents&&ev.pointerType==ionic.Gestures.POINTER_MOUSE?void ev.stopDetect():(inst.options.prevent_default&&ev.preventDefault(),void(ev.eventType==ionic.Gestures.EVENT_START&&inst.trigger(this.name,ev)))}},ionic.Gestures.gestures.Release={name:"release",index:1/0,handler:function(ev,inst){ev.eventType==ionic.Gestures.EVENT_END&&inst.trigger(this.name,ev)}}}(window.ionic),function(ionic){function onWindowLoad(){ionic.Platform.isCordova()?document.addEventListener("deviceready",onPlatformReady,!1):onPlatformReady(),window.removeEventListener("load",onWindowLoad,!1)}function onPlatformReady(){ionic.Platform.isReady=!0,ionic.Platform.detect();for(var x=0;x<readyCallbacks.length;x++)readyCallbacks[x]();readyCallbacks=[],ionic.trigger("platformready",{target:document}),document.removeEventListener("deviceready",onPlatformReady,!1)}ionic.Platform={isReady:!1,isFullScreen:!1,platforms:null,grade:null,ua:navigator.userAgent,ready:function(cb){this.isReady?cb():readyCallbacks.push(cb)},detect:function(){var i,bodyClass=document.body.className;for(ionic.Platform._checkPlatforms(),i=0;i<this.platforms.length;i++)bodyClass+=" platform-"+this.platforms[i];bodyClass+=" grade-"+this.grade,document.body.className=bodyClass.trim()},device:function(){return window.device?window.device:(this.isCordova(),{})},_checkPlatforms:function(){this.platforms=[],this.grade="a",this.isCordova()&&this.platforms.push("cordova"),this.isIPad()&&this.platforms.push("ipad");var platform=this.platform();if(platform){this.platforms.push(platform);var version=this.version();if(version){var v=version.toString();v.indexOf(".")>0?v=v.replace(".","_"):v+="_0",this.platforms.push(platform+v.split("_")[0]),this.platforms.push(platform+v),this.isAndroid()&&4.4>version&&(this.grade=4>version?"c":"b")}}},isCordova:function(){return!(!window.cordova&&!window.PhoneGap&&!window.phonegap)},isIPad:function(){return this.ua.toLowerCase().indexOf("ipad")>=0},isIOS:function(){return this.is("ios")},isAndroid:function(){return this.is("android")},platform:function(){return null===platformName&&this.setPlatform(this.device().platform),platformName},setPlatform:function(n){platformName="undefined"!=typeof n&&null!==n&&n.length?n.toLowerCase():this.ua.indexOf("Android")>0?"android":this.ua.indexOf("iPhone")>-1||this.ua.indexOf("iPad")>-1||this.ua.indexOf("iPod")>-1?"ios":""},version:function(){return null===platformVersion&&this.setVersion(this.device().version),platformVersion},setVersion:function(v){if("undefined"!=typeof v&&null!==v&&(v=v.split("."),v=parseFloat(v[0]+"."+(v.length>1?v[1]:0)),!isNaN(v)))return void(platformVersion=v);platformVersion=0;var pName=this.platform(),versionMatch={android:/Android (\d+).(\d+)?/,ios:/OS (\d+)_(\d+)?/};versionMatch[pName]&&(v=this.ua.match(versionMatch[pName]),v.length>2&&(platformVersion=parseFloat(v[1]+"."+v[2])))},is:function(type){if(type=type.toLowerCase(),this.platforms)for(var x=0;x<this.platforms.length;x++)if(this.platforms[x]===type)return!0;var pName=this.platform();return pName?pName===type.toLowerCase():this.ua.toLowerCase().indexOf(type)>=0},exitApp:function(){this.ready(function(){navigator.app&&navigator.app.exitApp&&navigator.app.exitApp()})},showStatusBar:function(val){this._showStatusBar=val,this.ready(function(){ionic.Platform._showStatusBar?(StatusBar.show(),document.body.classList.remove("status-bar-hide")):(StatusBar.hide(),document.body.classList.add("status-bar-hide"))})},fullScreen:function(showFullScreen,showStatusBar){this.isFullScreen=showFullScreen!==!1,ionic.DomUtil.ready(function(){ionic.Platform.isFullScreen?document.body.classList.add("fullscreen"):document.body.classList.remove("fullscreen")}),this.showStatusBar(showStatusBar===!0)}};var platformName=null,platformVersion=null,readyCallbacks=[];window.addEventListener("load",onWindowLoad,!1)}(window.ionic),function(document,ionic){"use strict";ionic.CSS={},function(){var i,keys=["webkitTransform","transform","-webkit-transform","webkit-transform","-moz-transform","moz-transform","MozTransform","mozTransform"];for(i=0;i<keys.length;i++)if(void 0!==document.documentElement.style[keys[i]]){ionic.CSS.TRANSFORM=keys[i];break}for(keys=["webkitTransition","mozTransition","transition"],i=0;i<keys.length;i++)if(void 0!==document.documentElement.style[keys[i]]){ionic.CSS.TRANSITION=keys[i];break}}(),"classList"in document.documentElement||!Object.defineProperty||"undefined"==typeof HTMLElement||Object.defineProperty(HTMLElement.prototype,"classList",{get:function(){function update(fn){return function(){var x,classes=self.className.split(/\s+/);
for(x=0;x<arguments.length;x++)fn(classes,classes.indexOf(arguments[x]),arguments[x]);self.className=classes.join(" ")}}var self=this;return{add:update(function(classes,index,value){~index||classes.push(value)}),remove:update(function(classes,index){~index&&classes.splice(index,1)}),toggle:update(function(classes,index,value){~index?classes.splice(index,1):classes.push(value)}),contains:function(value){return!!~self.className.split(/\s+/).indexOf(value)},item:function(i){return self.className.split(/\s+/)[i]||null}}}})}(document,ionic),function(window,document,ionic){"use strict";function tapPolyfill(orgEvent){if(orgEvent.gesture&&orgEvent.gesture.srcEvent){var e=orgEvent.gesture.srcEvent,ele=e.target;if(isRecentTap(e))return stopEvent(e);for(var x=0;5>x&&ele;x++){if("INPUT"===ele.tagName||"A"===ele.tagName||"BUTTON"===ele.tagName||"LABEL"===ele.tagName||"TEXTAREA"===ele.tagName||"SELECT"===ele.tagName)return ionic.tapElement(ele,e);ele=ele.parentElement}blurActive()}}function preventGhostClick(e){return e.target.control||isRecentTap(e)||isScrolledSinceStart(e)?stopEvent(e):void recordCoordinates(e)}function isRecentTap(event){var tapId,existingCoordinates,currentCoordinates;for(tapId in tapCoordinates)if(existingCoordinates=tapCoordinates[tapId],currentCoordinates||(currentCoordinates=getCoordinates(event)),currentCoordinates.x>existingCoordinates.x-HIT_RADIUS&&currentCoordinates.x<existingCoordinates.x+HIT_RADIUS&&currentCoordinates.y>existingCoordinates.y-HIT_RADIUS&&currentCoordinates.y<existingCoordinates.y+HIT_RADIUS)return existingCoordinates}function isScrolledSinceStart(event){var c=getCoordinates(event);return c.x>startCoordinates.x+HIT_RADIUS||c.x<startCoordinates.x-HIT_RADIUS||c.y>startCoordinates.y+HIT_RADIUS||c.y<startCoordinates.y-HIT_RADIUS}function recordCoordinates(event){var c=getCoordinates(event);if(c.x&&c.y){var tapId=Date.now();tapCoordinates[tapId]={x:c.x,y:c.y,id:tapId},setTimeout(function(){delete tapCoordinates[tapId]},CLICK_PREVENT_DURATION)}}function getCoordinates(event){var gesture=event.gesture?event.gesture:event;if(gesture){var touches=gesture.touches&&gesture.touches.length?gesture.touches:[gesture],e=gesture.changedTouches&&gesture.changedTouches[0]||gesture.originalEvent&&gesture.originalEvent.changedTouches&&gesture.originalEvent.changedTouches[0]||touches[0].originalEvent||touches[0];if(e)return{x:e.clientX,y:e.clientY}}return{x:0,y:0}}function removeClickPrevent(e){setTimeout(function(){var tap=isRecentTap(e);tap&&delete tapCoordinates[tap.id]},REMOVE_PREVENT_DELAY),setTimeout(function(){for(var hitKey in hitElements)hitElements[hitKey]&&hitElements[hitKey].classList.remove("active"),delete hitElements[hitKey]},150)}function stopEvent(e){return e.stopPropagation(),e.preventDefault(),!1}function blurActive(){var ele=document.activeElement;!ele||"INPUT"!==ele.tagName&&"TEXTAREA"!==ele.tagName&&"SELECT"!==ele.tagName||setTimeout(function(){ele.blur()},400)}function recordStartCoordinates(e){startCoordinates=getCoordinates(e);var x,ele=e.target;for(x=0;5>x&&(ele&&"LABEL"!==ele.tagName);x++){if(ele.classList.contains("item")||ele.classList.contains("button")){hitElements[hitCounts]=ele,hitCounts=hitCounts>24?0:hitCounts+1,ionic.requestAnimationFrame(function(){ele.classList.add("active")});break}ele=ele.parentElement}}ionic.tapElement=function(target,e){var ele=target.control||target;if(!ele.disabled&&"file"!==ele.type){var c=getCoordinates(e),clickEvent=document.createEvent("MouseEvents");return clickEvent.initMouseEvent("click",!0,!0,window,1,0,0,c.x,c.y,!1,!1,!1,!1,0,null),ele.dispatchEvent(clickEvent),"INPUT"===ele.tagName||"TEXTAREA"===ele.tagName||"SELECT"===ele.tagName?(ele.focus(),e.preventDefault()):blurActive(),isRecentTap(e)||recordCoordinates(e),target.control?stopEvent(e):void 0}};var tapCoordinates={},startCoordinates={},CLICK_PREVENT_DURATION=1500,REMOVE_PREVENT_DELAY=375,HIT_RADIUS=15,hitElements={},hitCounts=0;document.addEventListener("click",preventGhostClick,!0),ionic.on("tap",tapPolyfill,document),document.addEventListener("touchend",removeClickPrevent,!1),document.addEventListener("mouseup",removeClickPrevent,!1),document.addEventListener("touchstart",recordStartCoordinates,!1),document.addEventListener("mousedown",recordStartCoordinates,!1)}(this,document,ionic),function(ionic){var uid=["0","0","0"];ionic.Utils={arrayMove:function(arr,old_index,new_index){if(new_index>=arr.length)for(var k=new_index-arr.length;k--+1;)arr.push(void 0);return arr.splice(new_index,0,arr.splice(old_index,1)[0]),arr},proxy:function(func,context){var args=Array.prototype.slice.call(arguments,2);return function(){return func.apply(context,args.concat(Array.prototype.slice.call(arguments)))}},debounce:function(func,wait,immediate){var timeout,args,context,timestamp,result;return function(){context=this,args=arguments,timestamp=new Date;var later=function(){var last=new Date-timestamp;wait>last?timeout=setTimeout(later,wait-last):(timeout=null,immediate||(result=func.apply(context,args)))},callNow=immediate&&!timeout;return timeout||(timeout=setTimeout(later,wait)),callNow&&(result=func.apply(context,args)),result}},throttle:function(func,wait,options){var context,args,result,timeout=null,previous=0;options||(options={});var later=function(){previous=options.leading===!1?0:Date.now(),timeout=null,result=func.apply(context,args)};return function(){var now=Date.now();previous||options.leading!==!1||(previous=now);var remaining=wait-(now-previous);return context=this,args=arguments,0>=remaining?(clearTimeout(timeout),timeout=null,previous=now,result=func.apply(context,args)):timeout||options.trailing===!1||(timeout=setTimeout(later,remaining)),result}},inherit:function(protoProps,staticProps){var child,parent=this;child=protoProps&&protoProps.hasOwnProperty("constructor")?protoProps.constructor:function(){return parent.apply(this,arguments)},ionic.extend(child,parent,staticProps);var Surrogate=function(){this.constructor=child};return Surrogate.prototype=parent.prototype,child.prototype=new Surrogate,protoProps&&ionic.extend(child.prototype,protoProps),child.__super__=parent.prototype,child},extend:function(obj){for(var args=Array.prototype.slice.call(arguments,1),i=0;i<args.length;i++){var source=args[i];if(source)for(var prop in source)obj[prop]=source[prop]}return obj},nextUid:function(){for(var digit,index=uid.length;index;){if(index--,digit=uid[index].charCodeAt(0),57==digit)return uid[index]="A",uid.join("");if(90!=digit)return uid[index]=String.fromCharCode(digit+1),uid.join("");uid[index]="0"}return uid.unshift("0"),uid.join("")}},ionic.inherit=ionic.Utils.inherit,ionic.extend=ionic.Utils.extend,ionic.throttle=ionic.Utils.throttle,ionic.proxy=ionic.Utils.proxy,ionic.debounce=ionic.Utils.debounce}(window.ionic),function(ionic){function androidKeyboardFix(){function resize(){function handleKeyboardChange(){keyboardHeight=rememberedDeviceHeight-window.innerHeight;var activeEl=document.activeElement;activeEl&&ionic.trigger("scrollChildIntoView",{target:activeEl},!0)}rememberedDeviceWidth!==window.innerWidth?(rememberedDeviceWidth=window.innerWidth,rememberedDeviceHeight=window.innerHeight):rememberedDeviceHeight!==window.innerHeight&&window.innerHeight<rememberedDeviceHeight?(document.body.classList.add("hide-footer"),ionic.requestAnimationFrame(handleKeyboardChange)):document.body.classList.remove("hide-footer")}var keyboardHeight,rememberedDeviceWidth=window.innerWidth,rememberedDeviceHeight=window.innerHeight;window.addEventListener("resize",resize)}ionic.Platform.ready(function(){ionic.Platform.is("android")&&androidKeyboardFix()})}(window.ionic),function(ionic){"use strict";ionic.views.View=function(){this.initialize.apply(this,arguments)},ionic.views.View.inherit=ionic.inherit,ionic.extend(ionic.views.View.prototype,{initialize:function(){}})}(window.ionic);var IS_INPUT_LIKE_REGEX=/input|textarea|select/i,IS_EMBEDDED_OBJECT_REGEX=/object|embed/i;!function(global){var time=Date.now||function(){return+new Date},desiredFrames=60,millisecondsPerSecond=1e3,running={},counter=1;global.core?core.effect||(core.effect={}):global.core={effect:{}},core.effect.Animate={requestAnimationFrame:function(){var requestFrame=global.requestAnimationFrame||global.webkitRequestAnimationFrame||global.mozRequestAnimationFrame||global.oRequestAnimationFrame,isNative=!!requestFrame;if(requestFrame&&!/requestAnimationFrame\(\)\s*\{\s*\[native code\]\s*\}/i.test(requestFrame.toString())&&(isNative=!1),isNative)return function(callback,root){requestFrame(callback,root)};var TARGET_FPS=60,requests={},requestCount=0,rafHandle=1,intervalHandle=null,lastActive=+new Date;return function(callback){var callbackHandle=rafHandle++;return requests[callbackHandle]=callback,requestCount++,null===intervalHandle&&(intervalHandle=setInterval(function(){var time=+new Date,currentRequests=requests;requests={},requestCount=0;for(var key in currentRequests)currentRequests.hasOwnProperty(key)&&(currentRequests[key](time),lastActive=time);time-lastActive>2500&&(clearInterval(intervalHandle),intervalHandle=null)},1e3/TARGET_FPS)),callbackHandle}}(),stop:function(id){var cleared=null!=running[id];return cleared&&(running[id]=null),cleared},isRunning:function(id){return null!=running[id]},start:function(stepCallback,verifyCallback,completedCallback,duration,easingMethod,root){var start=time(),lastFrame=start,percent=0,dropCounter=0,id=counter++;if(root||(root=document.body),id%20===0){var newRunning={};for(var usedId in running)newRunning[usedId]=!0;running=newRunning}var step=function(virtual){var render=virtual!==!0,now=time();if(!running[id]||verifyCallback&&!verifyCallback(id))return running[id]=null,void(completedCallback&&completedCallback(desiredFrames-dropCounter/((now-start)/millisecondsPerSecond),id,!1));if(render)for(var droppedFrames=Math.round((now-lastFrame)/(millisecondsPerSecond/desiredFrames))-1,j=0;j<Math.min(droppedFrames,4);j++)step(!0),dropCounter++;duration&&(percent=(now-start)/duration,percent>1&&(percent=1));var value=easingMethod?easingMethod(percent):percent;stepCallback(value,now,render)!==!1&&1!==percent||!render?render&&(lastFrame=now,core.effect.Animate.requestAnimationFrame(step,root)):(running[id]=null,completedCallback&&completedCallback(desiredFrames-dropCounter/((now-start)/millisecondsPerSecond),id,1===percent||null==duration))};return running[id]=!0,core.effect.Animate.requestAnimationFrame(step,root),id}}}(this);var Scroller;!function(ionic){var NOOP=function(){},easeOutCubic=function(pos){return Math.pow(pos-1,3)+1},easeInOutCubic=function(pos){return(pos/=.5)<1?.5*Math.pow(pos,3):.5*(Math.pow(pos-2,3)+2)};ionic.views.Scroll=ionic.views.View.inherit({initialize:function(options){var self=this;this.__container=options.el,this.__content=options.el.firstElementChild,setTimeout(function(){self.__container&&self.__content&&(self.__container.scrollTop=0,self.__content.scrollTop=0)}),this.options={scrollingX:!1,scrollbarX:!0,scrollingY:!0,scrollbarY:!0,startX:0,startY:0,wheelDampen:6,minScrollbarSizeX:5,minScrollbarSizeY:5,scrollbarsFade:!0,scrollbarFadeDelay:300,scrollbarResizeFadeDelay:1e3,animating:!0,animationDuration:250,bouncing:!0,locking:!0,paging:!1,snapping:!1,zooming:!1,minZoom:.5,maxZoom:3,speedMultiplier:1,scrollingComplete:NOOP,penetrationDeceleration:.03,penetrationAcceleration:.08,scrollEventInterval:50};for(var key in options)this.options[key]=options[key];this.hintResize=ionic.debounce(function(){self.resize()},1e3,!0),this.triggerScrollEvent=ionic.throttle(function(){ionic.trigger("scroll",{scrollTop:self.__scrollTop,scrollLeft:self.__scrollLeft,target:self.__container})},this.options.scrollEventInterval),this.triggerScrollEndEvent=function(){ionic.trigger("scrollend",{scrollTop:self.__scrollTop,scrollLeft:self.__scrollLeft,target:self.__container})},this.__scrollLeft=this.options.startX,this.__scrollTop=this.options.startY,this.__callback=this.getRenderFn(),this.__initEventHandlers(),this.__createScrollbars()},run:function(){this.resize(),this.__fadeScrollbars("out",this.options.scrollbarResizeFadeDelay)},__isSingleTouch:!1,__isTracking:!1,__didDecelerationComplete:!1,__isGesturing:!1,__isDragging:!1,__isDecelerating:!1,__isAnimating:!1,__clientLeft:0,__clientTop:0,__clientWidth:0,__clientHeight:0,__contentWidth:0,__contentHeight:0,__snapWidth:100,__snapHeight:100,__refreshHeight:null,__refreshActive:!1,__refreshActivate:null,__refreshDeactivate:null,__refreshStart:null,__zoomLevel:1,__scrollLeft:0,__scrollTop:0,__maxScrollLeft:0,__maxScrollTop:0,__scheduledLeft:0,__scheduledTop:0,__scheduledZoom:0,__lastTouchLeft:null,__lastTouchTop:null,__lastTouchMove:null,__positions:null,__minDecelerationScrollLeft:null,__minDecelerationScrollTop:null,__maxDecelerationScrollLeft:null,__maxDecelerationScrollTop:null,__decelerationVelocityX:null,__decelerationVelocityY:null,__transformProperty:null,__perspectiveProperty:null,__indicatorX:null,__indicatorY:null,__scrollbarFadeTimeout:null,__didWaitForSize:null,__sizerTimeout:null,__initEventHandlers:function(){function shouldIgnorePress(e){return e.target.tagName.match(IS_INPUT_LIKE_REGEX)||e.target.isContentEditable||e.target.tagName.match(IS_EMBEDDED_OBJECT_REGEX)}var self=this,container=this.__container;if(container.addEventListener("scrollChildIntoView",function(e){var deviceHeight=window.innerHeight,element=e.target,elementHeight=e.target.offsetHeight,elementDeviceTop=element.getBoundingClientRect().top,elementScrollTop=ionic.DomUtil.getPositionInParent(element,container).top;elementDeviceTop+elementHeight>deviceHeight&&self.scrollTo(0,elementScrollTop+elementHeight-.5*deviceHeight,!0),e.stopPropagation()}),"ontouchstart"in window)container.addEventListener("touchstart",function(e){e.defaultPrevented||shouldIgnorePress(e)||(self.doTouchStart(e.touches,e.timeStamp),e.preventDefault())},!1),document.addEventListener("touchmove",function(e){e.defaultPrevented||self.doTouchMove(e.touches,e.timeStamp)},!1),document.addEventListener("touchend",function(e){self.doTouchEnd(e.timeStamp)},!1);else{var mousedown=!1;container.addEventListener("mousedown",function(e){e.defaultPrevented||shouldIgnorePress(e)||(self.doTouchStart([{pageX:e.pageX,pageY:e.pageY}],e.timeStamp),e.preventDefault(),mousedown=!0)},!1),document.addEventListener("mousemove",function(e){mousedown&&!e.defaultPrevented&&(self.doTouchMove([{pageX:e.pageX,pageY:e.pageY}],e.timeStamp),mousedown=!0)},!1),document.addEventListener("mouseup",function(e){mousedown&&(self.doTouchEnd(e.timeStamp),mousedown=!1)},!1),document.addEventListener("mousewheel",function(e){self.scrollBy(e.wheelDeltaX/self.options.wheelDampen,-e.wheelDeltaY/self.options.wheelDampen)})}},__createScrollbar:function(direction){var bar=document.createElement("div"),indicator=document.createElement("div");return indicator.className="scroll-bar-indicator",bar.className="h"==direction?"scroll-bar scroll-bar-h":"scroll-bar scroll-bar-v",bar.appendChild(indicator),bar},__createScrollbars:function(){var indicatorX,indicatorY;this.options.scrollingX&&(indicatorX={el:this.__createScrollbar("h"),sizeRatio:1},indicatorX.indicator=indicatorX.el.children[0],this.options.scrollbarX&&this.__container.appendChild(indicatorX.el),this.__indicatorX=indicatorX),this.options.scrollingY&&(indicatorY={el:this.__createScrollbar("v"),sizeRatio:1},indicatorY.indicator=indicatorY.el.children[0],this.options.scrollbarY&&this.__container.appendChild(indicatorY.el),this.__indicatorY=indicatorY)},__resizeScrollbars:function(){var self=this;if(self.__fadeScrollbars("in"),self.__indicatorX){var width=Math.max(Math.round(self.__clientWidth*self.__clientWidth/self.__contentWidth),20);width>self.__contentWidth&&(width=0),self.__indicatorX.size=width,self.__indicatorX.minScale=this.options.minScrollbarSizeX/width,self.__indicatorX.indicator.style.width=width+"px",self.__indicatorX.maxPos=self.__clientWidth-width,self.__indicatorX.sizeRatio=self.__maxScrollLeft?self.__indicatorX.maxPos/self.__maxScrollLeft:1}if(self.__indicatorY){var height=Math.max(Math.round(self.__clientHeight*self.__clientHeight/self.__contentHeight),20);height>self.__contentHeight&&(height=0),self.__indicatorY.size=height,self.__indicatorY.minScale=this.options.minScrollbarSizeY/height,self.__indicatorY.maxPos=self.__clientHeight-height,self.__indicatorY.indicator.style.height=height+"px",self.__indicatorY.sizeRatio=self.__maxScrollTop?self.__indicatorY.maxPos/self.__maxScrollTop:1}},__repositionScrollbars:function(){var heightScale,widthDiff,heightDiff,x,y,self=this,xstop=0,ystop=0;self.__indicatorX&&(self.__indicatorY&&(xstop=10),x=Math.round(self.__indicatorX.sizeRatio*self.__scrollLeft)||0,widthDiff=self.__scrollLeft-(self.__maxScrollLeft-xstop),self.__scrollLeft<0?(widthScale=Math.max(self.__indicatorX.minScale,(self.__indicatorX.size-Math.abs(self.__scrollLeft))/self.__indicatorX.size),x=0,self.__indicatorX.indicator.style[self.__transformOriginProperty]="left center"):widthDiff>0?(widthScale=Math.max(self.__indicatorX.minScale,(self.__indicatorX.size-widthDiff)/self.__indicatorX.size),x=self.__indicatorX.maxPos-xstop,self.__indicatorX.indicator.style[self.__transformOriginProperty]="right center"):(x=Math.min(self.__maxScrollLeft,Math.max(0,x)),widthScale=1),self.__indicatorX.indicator.style[self.__transformProperty]="translate3d("+x+"px, 0, 0) scaleX("+widthScale+")"),self.__indicatorY&&(y=Math.round(self.__indicatorY.sizeRatio*self.__scrollTop)||0,self.__indicatorX&&(ystop=10),heightDiff=self.__scrollTop-(self.__maxScrollTop-ystop),self.__scrollTop<0?(heightScale=Math.max(self.__indicatorY.minScale,(self.__indicatorY.size-Math.abs(self.__scrollTop))/self.__indicatorY.size),y=0,self.__indicatorY.indicator.style[self.__transformOriginProperty]="center top"):heightDiff>0?(heightScale=Math.max(self.__indicatorY.minScale,(self.__indicatorY.size-heightDiff)/self.__indicatorY.size),y=self.__indicatorY.maxPos-ystop,self.__indicatorY.indicator.style[self.__transformOriginProperty]="center bottom"):(y=Math.min(self.__maxScrollTop,Math.max(0,y)),heightScale=1),self.__indicatorY.indicator.style[self.__transformProperty]="translate3d(0,"+y+"px, 0) scaleY("+heightScale+")")},__fadeScrollbars:function(direction,delay){var self=this;if(this.options.scrollbarsFade){var className="scroll-bar-fade-out";self.options.scrollbarsFade===!0&&(clearTimeout(self.__scrollbarFadeTimeout),"in"==direction?(self.__indicatorX&&self.__indicatorX.indicator.classList.remove(className),self.__indicatorY&&self.__indicatorY.indicator.classList.remove(className)):self.__scrollbarFadeTimeout=setTimeout(function(){self.__indicatorX&&self.__indicatorX.indicator.classList.add(className),self.__indicatorY&&self.__indicatorY.indicator.classList.add(className)},delay||self.options.scrollbarFadeDelay))}},__scrollingComplete:function(){var self=this;self.options.scrollingComplete(),self.__fadeScrollbars("out")},resize:function(){this.setDimensions(this.__container.clientWidth,this.__container.clientHeight,Math.max(this.__content.scrollWidth,this.__content.offsetWidth),Math.max(this.__content.scrollHeight,this.__content.offsetHeight))},getRenderFn:function(){var engine,self=this,content=this.__content,docStyle=document.documentElement.style;"MozAppearance"in docStyle?engine="gecko":"WebkitAppearance"in docStyle?engine="webkit":"string"==typeof navigator.cpuClass&&(engine="trident");var undef,vendorPrefix={trident:"ms",gecko:"Moz",webkit:"Webkit",presto:"O"}[engine],helperElem=document.createElement("div"),perspectiveProperty=vendorPrefix+"Perspective",transformProperty=vendorPrefix+"Transform",transformOriginProperty=vendorPrefix+"TransformOrigin";return self.__perspectiveProperty=transformProperty,self.__transformProperty=transformProperty,self.__transformOriginProperty=transformOriginProperty,helperElem.style[perspectiveProperty]!==undef?function(left,top){content.style[transformProperty]="translate3d("+-left+"px,"+-top+"px,0)",self.__repositionScrollbars(),self.triggerScrollEvent()}:helperElem.style[transformProperty]!==undef?function(left,top){content.style[transformProperty]="translate("+-left+"px,"+-top+"px)",self.__repositionScrollbars(),self.triggerScrollEvent()}:function(left,top,zoom){content.style.marginLeft=left?-left/zoom+"px":"",content.style.marginTop=top?-top/zoom+"px":"",content.style.zoom=zoom||"",self.__repositionScrollbars(),self.triggerScrollEvent()}},setDimensions:function(clientWidth,clientHeight,contentWidth,contentHeight){var self=this;clientWidth===+clientWidth&&(self.__clientWidth=clientWidth),clientHeight===+clientHeight&&(self.__clientHeight=clientHeight),contentWidth===+contentWidth&&(self.__contentWidth=contentWidth),contentHeight===+contentHeight&&(self.__contentHeight=contentHeight),self.__computeScrollMax(),self.__resizeScrollbars(),self.scrollTo(self.__scrollLeft,self.__scrollTop,!0)},setPosition:function(left,top){var self=this;self.__clientLeft=left||0,self.__clientTop=top||0},setSnapSize:function(width,height){var self=this;self.__snapWidth=width,self.__snapHeight=height},activatePullToRefresh:function(height,activateCallback,deactivateCallback,startCallback){var self=this;self.__refreshHeight=height,self.__refreshActivate=activateCallback,self.__refreshDeactivate=deactivateCallback,self.__refreshStart=startCallback},triggerPullToRefresh:function(){this.__publish(this.__scrollLeft,-this.__refreshHeight,this.__zoomLevel,!0),this.__refreshStart&&this.__refreshStart()},finishPullToRefresh:function(){var self=this;self.__refreshActive=!1,self.__refreshDeactivate&&self.__refreshDeactivate(),self.scrollTo(self.__scrollLeft,self.__scrollTop,!0)},getValues:function(){var self=this;return{left:self.__scrollLeft,top:self.__scrollTop,zoom:self.__zoomLevel}},getScrollMax:function(){var self=this;return{left:self.__maxScrollLeft,top:self.__maxScrollTop}},zoomTo:function(level,animate,originLeft,originTop){var self=this;if(!self.options.zooming)throw new Error("Zooming is not enabled!");self.__isDecelerating&&(core.effect.Animate.stop(self.__isDecelerating),self.__isDecelerating=!1);var oldLevel=self.__zoomLevel;null==originLeft&&(originLeft=self.__clientWidth/2),null==originTop&&(originTop=self.__clientHeight/2),level=Math.max(Math.min(level,self.options.maxZoom),self.options.minZoom),self.__computeScrollMax(level);var left=(originLeft+self.__scrollLeft)*level/oldLevel-originLeft,top=(originTop+self.__scrollTop)*level/oldLevel-originTop;left>self.__maxScrollLeft?left=self.__maxScrollLeft:0>left&&(left=0),top>self.__maxScrollTop?top=self.__maxScrollTop:0>top&&(top=0),self.__publish(left,top,level,animate)},zoomBy:function(factor,animate,originLeft,originTop){var self=this;self.zoomTo(self.__zoomLevel*factor,animate,originLeft,originTop)},scrollTo:function(left,top,animate,zoom){var self=this;if(self.__isDecelerating&&(core.effect.Animate.stop(self.__isDecelerating),self.__isDecelerating=!1),null!=zoom&&zoom!==self.__zoomLevel){if(!self.options.zooming)throw new Error("Zooming is not enabled!");left*=zoom,top*=zoom,self.__computeScrollMax(zoom)}else zoom=self.__zoomLevel;self.options.scrollingX?self.options.paging?left=Math.round(left/self.__clientWidth)*self.__clientWidth:self.options.snapping&&(left=Math.round(left/self.__snapWidth)*self.__snapWidth):left=self.__scrollLeft,self.options.scrollingY?self.options.paging?top=Math.round(top/self.__clientHeight)*self.__clientHeight:self.options.snapping&&(top=Math.round(top/self.__snapHeight)*self.__snapHeight):top=self.__scrollTop,left=Math.max(Math.min(self.__maxScrollLeft,left),0),top=Math.max(Math.min(self.__maxScrollTop,top),0),left===self.__scrollLeft&&top===self.__scrollTop&&(animate=!1),self.__publish(left,top,zoom,animate)},scrollBy:function(left,top,animate){var self=this,startLeft=self.__isAnimating?self.__scheduledLeft:self.__scrollLeft,startTop=self.__isAnimating?self.__scheduledTop:self.__scrollTop;self.scrollTo(startLeft+(left||0),startTop+(top||0),animate)},doMouseZoom:function(wheelDelta,timeStamp,pageX,pageY){var self=this,change=wheelDelta>0?.97:1.03;return self.zoomTo(self.__zoomLevel*change,!1,pageX-self.__clientLeft,pageY-self.__clientTop)},doTouchStart:function(touches,timeStamp){if(this.hintResize(),null==touches.length)throw new Error("Invalid touch list: "+touches);if(timeStamp instanceof Date&&(timeStamp=timeStamp.valueOf()),"number"!=typeof timeStamp)throw new Error("Invalid timestamp value: "+timeStamp);var self=this;self.__fadeScrollbars("in"),self.__interruptedAnimation=!0,self.__isDecelerating&&(core.effect.Animate.stop(self.__isDecelerating),self.__isDecelerating=!1,self.__interruptedAnimation=!0),self.__isAnimating&&(core.effect.Animate.stop(self.__isAnimating),self.__isAnimating=!1,self.__interruptedAnimation=!0);var currentTouchLeft,currentTouchTop,isSingleTouch=1===touches.length;isSingleTouch?(currentTouchLeft=touches[0].pageX,currentTouchTop=touches[0].pageY):(currentTouchLeft=Math.abs(touches[0].pageX+touches[1].pageX)/2,currentTouchTop=Math.abs(touches[0].pageY+touches[1].pageY)/2),self.__initialTouchLeft=currentTouchLeft,self.__initialTouchTop=currentTouchTop,self.__zoomLevelStart=self.__zoomLevel,self.__lastTouchLeft=currentTouchLeft,self.__lastTouchTop=currentTouchTop,self.__lastTouchMove=timeStamp,self.__lastScale=1,self.__enableScrollX=!isSingleTouch&&self.options.scrollingX,self.__enableScrollY=!isSingleTouch&&self.options.scrollingY,self.__isTracking=!0,self.__didDecelerationComplete=!1,self.__isDragging=!isSingleTouch,self.__isSingleTouch=isSingleTouch,self.__positions=[]},doTouchMove:function(touches,timeStamp,scale){if(null==touches.length)throw new Error("Invalid touch list: "+touches);if(timeStamp instanceof Date&&(timeStamp=timeStamp.valueOf()),"number"!=typeof timeStamp)throw new Error("Invalid timestamp value: "+timeStamp);var self=this;if(self.__isTracking){var currentTouchLeft,currentTouchTop;2===touches.length?(currentTouchLeft=Math.abs(touches[0].pageX+touches[1].pageX)/2,currentTouchTop=Math.abs(touches[0].pageY+touches[1].pageY)/2):(currentTouchLeft=touches[0].pageX,currentTouchTop=touches[0].pageY);var positions=self.__positions;if(self.__isDragging){var moveX=currentTouchLeft-self.__lastTouchLeft,moveY=currentTouchTop-self.__lastTouchTop,scrollLeft=self.__scrollLeft,scrollTop=self.__scrollTop,level=self.__zoomLevel;if(null!=scale&&self.options.zooming){var oldLevel=level;if(level=level/self.__lastScale*scale,level=Math.max(Math.min(level,self.options.maxZoom),self.options.minZoom),oldLevel!==level){var currentTouchLeftRel=currentTouchLeft-self.__clientLeft,currentTouchTopRel=currentTouchTop-self.__clientTop;scrollLeft=(currentTouchLeftRel+scrollLeft)*level/oldLevel-currentTouchLeftRel,scrollTop=(currentTouchTopRel+scrollTop)*level/oldLevel-currentTouchTopRel,self.__computeScrollMax(level)}}if(self.__enableScrollX){scrollLeft-=moveX*this.options.speedMultiplier;var maxScrollLeft=self.__maxScrollLeft;(scrollLeft>maxScrollLeft||0>scrollLeft)&&(self.options.bouncing?scrollLeft+=moveX/2*this.options.speedMultiplier:scrollLeft=scrollLeft>maxScrollLeft?maxScrollLeft:0)}if(self.__enableScrollY){scrollTop-=moveY*this.options.speedMultiplier;var maxScrollTop=self.__maxScrollTop;(scrollTop>maxScrollTop||0>scrollTop)&&(self.options.bouncing||self.__refreshHeight&&0>scrollTop?(scrollTop+=moveY/2*this.options.speedMultiplier,self.__enableScrollX||null==self.__refreshHeight||(!self.__refreshActive&&scrollTop<=-self.__refreshHeight?(self.__refreshActive=!0,self.__refreshActivate&&self.__refreshActivate()):self.__refreshActive&&scrollTop>-self.__refreshHeight&&(self.__refreshActive=!1,self.__refreshDeactivate&&self.__refreshDeactivate()))):scrollTop=scrollTop>maxScrollTop?maxScrollTop:0)}positions.length>60&&positions.splice(0,30),positions.push(scrollLeft,scrollTop,timeStamp),self.__publish(scrollLeft,scrollTop,level)}else{var minimumTrackingForScroll=self.options.locking?3:0,minimumTrackingForDrag=5,distanceX=Math.abs(currentTouchLeft-self.__initialTouchLeft),distanceY=Math.abs(currentTouchTop-self.__initialTouchTop);self.__enableScrollX=self.options.scrollingX&&distanceX>=minimumTrackingForScroll,self.__enableScrollY=self.options.scrollingY&&distanceY>=minimumTrackingForScroll,positions.push(self.__scrollLeft,self.__scrollTop,timeStamp),self.__isDragging=(self.__enableScrollX||self.__enableScrollY)&&(distanceX>=minimumTrackingForDrag||distanceY>=minimumTrackingForDrag),self.__isDragging&&(self.__interruptedAnimation=!1)}self.__lastTouchLeft=currentTouchLeft,self.__lastTouchTop=currentTouchTop,self.__lastTouchMove=timeStamp,self.__lastScale=scale}},doTouchEnd:function(timeStamp){if(timeStamp instanceof Date&&(timeStamp=timeStamp.valueOf()),"number"!=typeof timeStamp)throw new Error("Invalid timestamp value: "+timeStamp);var self=this;if(self.__isTracking){if(self.__isTracking=!1,self.__isDragging)if(self.__isDragging=!1,self.__isSingleTouch&&self.options.animating&&timeStamp-self.__lastTouchMove<=100){for(var positions=self.__positions,endPos=positions.length-1,startPos=endPos,i=endPos;i>0&&positions[i]>self.__lastTouchMove-100;i-=3)startPos=i;if(startPos!==endPos){var timeOffset=positions[endPos]-positions[startPos],movedLeft=self.__scrollLeft-positions[startPos-2],movedTop=self.__scrollTop-positions[startPos-1];self.__decelerationVelocityX=movedLeft/timeOffset*(1e3/60),self.__decelerationVelocityY=movedTop/timeOffset*(1e3/60);var minVelocityToStartDeceleration=self.options.paging||self.options.snapping?4:1;(Math.abs(self.__decelerationVelocityX)>minVelocityToStartDeceleration||Math.abs(self.__decelerationVelocityY)>minVelocityToStartDeceleration)&&(self.__refreshActive||self.__startDeceleration(timeStamp))}else self.__scrollingComplete()}else timeStamp-self.__lastTouchMove>100&&self.__scrollingComplete();self.__isDecelerating||(self.__refreshActive&&self.__refreshStart?(self.__publish(self.__scrollLeft,-self.__refreshHeight,self.__zoomLevel,!0),self.__refreshStart&&self.__refreshStart()):((self.__interruptedAnimation||self.__isDragging)&&self.__scrollingComplete(),self.scrollTo(self.__scrollLeft,self.__scrollTop,!0,self.__zoomLevel),self.__refreshActive&&(self.__refreshActive=!1,self.__refreshDeactivate&&self.__refreshDeactivate()))),self.__positions.length=0}},__publish:function(left,top,zoom,animate){var self=this,wasAnimating=self.__isAnimating;if(wasAnimating&&(core.effect.Animate.stop(wasAnimating),self.__isAnimating=!1),animate&&self.options.animating){self.__scheduledLeft=left,self.__scheduledTop=top,self.__scheduledZoom=zoom;var oldLeft=self.__scrollLeft,oldTop=self.__scrollTop,oldZoom=self.__zoomLevel,diffLeft=left-oldLeft,diffTop=top-oldTop,diffZoom=zoom-oldZoom,step=function(percent,now,render){render&&(self.__scrollLeft=oldLeft+diffLeft*percent,self.__scrollTop=oldTop+diffTop*percent,self.__zoomLevel=oldZoom+diffZoom*percent,self.__callback&&self.__callback(self.__scrollLeft,self.__scrollTop,self.__zoomLevel))},verify=function(id){return self.__isAnimating===id},completed=function(renderedFramesPerSecond,animationId,wasFinished){animationId===self.__isAnimating&&(self.__isAnimating=!1),(self.__didDecelerationComplete||wasFinished)&&self.__scrollingComplete(),self.options.zooming&&self.__computeScrollMax()};self.__isAnimating=core.effect.Animate.start(step,verify,completed,self.options.animationDuration,wasAnimating?easeOutCubic:easeInOutCubic)}else self.__scheduledLeft=self.__scrollLeft=left,self.__scheduledTop=self.__scrollTop=top,self.__scheduledZoom=self.__zoomLevel=zoom,self.__callback&&self.__callback(left,top,zoom),self.options.zooming&&self.__computeScrollMax()},__computeScrollMax:function(zoomLevel){var self=this;null==zoomLevel&&(zoomLevel=self.__zoomLevel),self.__maxScrollLeft=Math.max(self.__contentWidth*zoomLevel-self.__clientWidth,0),self.__maxScrollTop=Math.max(self.__contentHeight*zoomLevel-self.__clientHeight,0),self.__didWaitForSize||0!=self.__maxScrollLeft||0!=self.__maxScrollTop||(self.__didWaitForSize=!0,self.__waitForSize())},__waitForSize:function(){var self=this;clearTimeout(self.__sizerTimeout);var sizer=function(){self.resize(),self.options.scrollingX&&0==self.__maxScrollLeft||self.options.scrollingY&&0==self.__maxScrollTop
};sizer(),self.__sizerTimeout=setTimeout(sizer,1e3)},__startDeceleration:function(){var self=this;if(self.options.paging){var scrollLeft=Math.max(Math.min(self.__scrollLeft,self.__maxScrollLeft),0),scrollTop=Math.max(Math.min(self.__scrollTop,self.__maxScrollTop),0),clientWidth=self.__clientWidth,clientHeight=self.__clientHeight;self.__minDecelerationScrollLeft=Math.floor(scrollLeft/clientWidth)*clientWidth,self.__minDecelerationScrollTop=Math.floor(scrollTop/clientHeight)*clientHeight,self.__maxDecelerationScrollLeft=Math.ceil(scrollLeft/clientWidth)*clientWidth,self.__maxDecelerationScrollTop=Math.ceil(scrollTop/clientHeight)*clientHeight}else self.__minDecelerationScrollLeft=0,self.__minDecelerationScrollTop=0,self.__maxDecelerationScrollLeft=self.__maxScrollLeft,self.__maxDecelerationScrollTop=self.__maxScrollTop;var step=function(percent,now,render){self.__stepThroughDeceleration(render)};self.__minVelocityToKeepDecelerating=self.options.snapping?4:.1;var verify=function(){var shouldContinue=Math.abs(self.__decelerationVelocityX)>=self.__minVelocityToKeepDecelerating||Math.abs(self.__decelerationVelocityY)>=self.__minVelocityToKeepDecelerating;return shouldContinue||(self.__didDecelerationComplete=!0),shouldContinue},completed=function(){self.__isDecelerating=!1,self.__didDecelerationComplete&&self.__scrollingComplete(),self.options.paging&&self.scrollTo(self.__scrollLeft,self.__scrollTop,self.options.snapping)};self.__isDecelerating=core.effect.Animate.start(step,verify,completed)},__stepThroughDeceleration:function(render){var self=this,scrollLeft=self.__scrollLeft+self.__decelerationVelocityX,scrollTop=self.__scrollTop+self.__decelerationVelocityY;if(!self.options.bouncing){var scrollLeftFixed=Math.max(Math.min(self.__maxDecelerationScrollLeft,scrollLeft),self.__minDecelerationScrollLeft);scrollLeftFixed!==scrollLeft&&(scrollLeft=scrollLeftFixed,self.__decelerationVelocityX=0);var scrollTopFixed=Math.max(Math.min(self.__maxDecelerationScrollTop,scrollTop),self.__minDecelerationScrollTop);scrollTopFixed!==scrollTop&&(scrollTop=scrollTopFixed,self.__decelerationVelocityY=0)}if(render?self.__publish(scrollLeft,scrollTop,self.__zoomLevel):(self.__scrollLeft=scrollLeft,self.__scrollTop=scrollTop),!self.options.paging){var frictionFactor=.95;self.__decelerationVelocityX*=frictionFactor,self.__decelerationVelocityY*=frictionFactor}if(self.options.bouncing){var scrollOutsideX=0,scrollOutsideY=0,penetrationDeceleration=self.options.penetrationDeceleration,penetrationAcceleration=self.options.penetrationAcceleration;if(scrollLeft<self.__minDecelerationScrollLeft?scrollOutsideX=self.__minDecelerationScrollLeft-scrollLeft:scrollLeft>self.__maxDecelerationScrollLeft&&(scrollOutsideX=self.__maxDecelerationScrollLeft-scrollLeft),scrollTop<self.__minDecelerationScrollTop?scrollOutsideY=self.__minDecelerationScrollTop-scrollTop:scrollTop>self.__maxDecelerationScrollTop&&(scrollOutsideY=self.__maxDecelerationScrollTop-scrollTop),0!==scrollOutsideX){var isHeadingOutwardsX=scrollOutsideX*self.__decelerationVelocityX<=self.__minDecelerationScrollLeft;isHeadingOutwardsX&&(self.__decelerationVelocityX+=scrollOutsideX*penetrationDeceleration);var isStoppedX=Math.abs(self.__decelerationVelocityX)<=self.__minVelocityToKeepDecelerating;(!isHeadingOutwardsX||isStoppedX)&&(self.__decelerationVelocityX=scrollOutsideX*penetrationAcceleration)}if(0!==scrollOutsideY){var isHeadingOutwardsY=scrollOutsideY*self.__decelerationVelocityY<=self.__minDecelerationScrollTop;isHeadingOutwardsY&&(self.__decelerationVelocityY+=scrollOutsideY*penetrationDeceleration);var isStoppedY=Math.abs(self.__decelerationVelocityY)<=self.__minVelocityToKeepDecelerating;(!isHeadingOutwardsY||isStoppedY)&&(self.__decelerationVelocityY=scrollOutsideY*penetrationAcceleration)}}}})}(ionic),function(ionic){"use strict";ionic.views.ActionSheet=ionic.views.View.inherit({initialize:function(opts){this.el=opts.el},show:function(){this.el.offsetWidth,this.el.classList.add("active")},hide:function(){this.el.offsetWidth,this.el.classList.remove("active")}})}(ionic),function(ionic){"use strict";ionic.views.HeaderBar=ionic.views.View.inherit({initialize:function(opts){this.el=opts.el,ionic.extend(this,{alignTitle:"center"},opts),this.align()},align:function(align){align||(align=this.alignTitle);var titleEl=this.el.querySelector(".title");if(titleEl){var i,c,childSize,childNodes=this.el.childNodes,leftWidth=0,rightWidth=0,isCountingRightWidth=!1;for(i=0;i<childNodes.length;i++)c=childNodes[i],c.tagName&&"h1"==c.tagName.toLowerCase()?isCountingRightWidth=!0:(childSize=null,3==c.nodeType?childSize=ionic.DomUtil.getTextBounds(c):1==c.nodeType&&(childSize=c.getBoundingClientRect()),childSize&&(isCountingRightWidth?rightWidth+=childSize.width:leftWidth+=childSize.width));ionic.requestAnimationFrame(function(){var margin=Math.max(leftWidth,rightWidth)+10;"center"==align?(margin>10&&(titleEl.style.left=margin+"px",titleEl.style.right=margin+"px"),titleEl.offsetWidth<titleEl.scrollWidth&&rightWidth>0&&(titleEl.style.right=rightWidth+5+"px")):"left"==align?(titleEl.classList.add("title-left"),leftWidth>0&&(titleEl.style.left=leftWidth+15+"px")):"right"==align&&(titleEl.classList.add("title-right"),rightWidth>0&&(titleEl.style.right=rightWidth+15+"px"))})}}})}(ionic),function(ionic){"use strict";var ITEM_CLASS="item",ITEM_CONTENT_CLASS="item-content",ITEM_SLIDING_CLASS="item-sliding",ITEM_OPTIONS_CLASS="item-options",ITEM_PLACEHOLDER_CLASS="item-placeholder",ITEM_REORDERING_CLASS="item-reordering",ITEM_DRAG_CLASS="item-drag",DragOp=function(){};DragOp.prototype={start:function(){},drag:function(){},end:function(){}};var SlideDrag=function(opts){this.dragThresholdX=opts.dragThresholdX||10,this.el=opts.el};SlideDrag.prototype=new DragOp,SlideDrag.prototype.start=function(e){var content,buttons,offsetX,buttonsWidth;content=e.target.classList.contains(ITEM_CONTENT_CLASS)?e.target:e.target.classList.contains(ITEM_CLASS)?e.target.querySelector("."+ITEM_CONTENT_CLASS):ionic.DomUtil.getParentWithClass(e.target,ITEM_CONTENT_CLASS),content&&(content.classList.remove(ITEM_SLIDING_CLASS),offsetX=parseFloat(content.style[ionic.CSS.TRANSFORM].replace("translate3d(","").split(",")[0])||0,buttons=content.parentNode.querySelector("."+ITEM_OPTIONS_CLASS),buttons&&(buttonsWidth=buttons.offsetWidth,this._currentDrag={buttonsWidth:buttonsWidth,content:content,startOffsetX:offsetX}))},SlideDrag.prototype.drag=ionic.animationFrameThrottle(function(e){var buttonsWidth;if(this._currentDrag&&(!this._isDragging&&(Math.abs(e.gesture.deltaX)>this.dragThresholdX||Math.abs(this._currentDrag.startOffsetX)>0)&&(this._isDragging=!0),this._isDragging)){buttonsWidth=this._currentDrag.buttonsWidth;var newX=Math.min(0,this._currentDrag.startOffsetX+e.gesture.deltaX);-buttonsWidth>newX&&(newX=Math.min(-buttonsWidth,-buttonsWidth+.4*(e.gesture.deltaX+buttonsWidth))),this._currentDrag.content.style[ionic.CSS.TRANSFORM]="translate3d("+newX+"px, 0, 0)",this._currentDrag.content.style[ionic.CSS.TRANSITION]="none"}}),SlideDrag.prototype.end=function(e,doneCallback){var _this=this;if(!this._currentDrag)return void(doneCallback&&doneCallback());var restingPoint=-this._currentDrag.buttonsWidth;e.gesture.deltaX>-(this._currentDrag.buttonsWidth/2)&&("left"==e.gesture.direction&&Math.abs(e.gesture.velocityX)<.3?restingPoint=0:"right"==e.gesture.direction&&(restingPoint=0)),ionic.requestAnimationFrame(function(){_this._currentDrag.content.style[ionic.CSS.TRANSFORM]=0===restingPoint?"":"translate3d("+restingPoint+"px, 0, 0)",_this._currentDrag.content.style[ionic.CSS.TRANSITION]="",_this._currentDrag=null,doneCallback&&doneCallback()})};var ReorderDrag=function(opts){this.dragThresholdY=opts.dragThresholdY||0,this.onReorder=opts.onReorder,this.el=opts.el,this.scrollEl=opts.scrollEl,this.scrollView=opts.scrollView};ReorderDrag.prototype=new DragOp,ReorderDrag.prototype._moveElement=function(e){var y=e.gesture.center.pageY-this._currentDrag.elementHeight/2;this.el.style[ionic.CSS.TRANSFORM]="translate3d(0, "+y+"px, 0)"},ReorderDrag.prototype.start=function(e){var startIndex=(this.el.offsetTop,ionic.DomUtil.getChildIndex(this.el,this.el.nodeName.toLowerCase())),elementHeight=this.el.offsetHeight,placeholder=this.el.cloneNode(!0),appendToElement=(this.scrollEl||this.el).parentNode;placeholder.classList.add(ITEM_PLACEHOLDER_CLASS),this.el.parentNode.insertBefore(placeholder,this.el),this.el.classList.add(ITEM_REORDERING_CLASS),appendToElement.parentNode.appendChild(this.el),this._currentDrag={elementHeight:elementHeight,startIndex:startIndex,placeholder:placeholder,scrollHeight:scroll,list:placeholder.parentNode},this._moveElement(e)},ReorderDrag.prototype.drag=ionic.animationFrameThrottle(function(e){if(this._currentDrag){var scrollY=0,pageY=e.gesture.center.pageY;if(this.scrollView){var container=this.scrollEl;scrollY=this.scrollView.getValues().top;var containerTop=container.offsetTop,pixelsPastTop=containerTop-pageY+this._currentDrag.elementHeight/2,pixelsPastBottom=pageY+this._currentDrag.elementHeight/2-containerTop-container.offsetHeight;e.gesture.deltaY<0&&pixelsPastTop>0&&scrollY>0&&this.scrollView.scrollBy(null,-pixelsPastTop),e.gesture.deltaY>0&&pixelsPastBottom>0&&scrollY<this.scrollView.getScrollMax().top&&this.scrollView.scrollBy(null,pixelsPastBottom)}!this._isDragging&&Math.abs(e.gesture.deltaY)>this.dragThresholdY&&(this._isDragging=!0),this._isDragging&&(this._moveElement(e),this._currentDrag.currentY=scrollY+pageY-this._currentDrag.placeholder.parentNode.offsetTop,this._reorderItems())}}),ReorderDrag.prototype._reorderItems=function(){var siblings=(this._currentDrag.placeholder,Array.prototype.slice.call(this._currentDrag.placeholder.parentNode.children)),index=siblings.indexOf(this._currentDrag.placeholder),topSibling=siblings[Math.max(0,index-1)],bottomSibling=siblings[Math.min(siblings.length,index+1)],thisOffsetTop=this._currentDrag.currentY;return topSibling&&thisOffsetTop<topSibling.offsetTop+topSibling.offsetHeight/2?(ionic.DomUtil.swapNodes(this._currentDrag.placeholder,topSibling),index-1):bottomSibling&&thisOffsetTop>bottomSibling.offsetTop+bottomSibling.offsetHeight/2?(ionic.DomUtil.swapNodes(bottomSibling,this._currentDrag.placeholder),index+1):void 0},ReorderDrag.prototype.end=function(e,doneCallback){if(!this._currentDrag)return void(doneCallback&&doneCallback());var placeholder=this._currentDrag.placeholder,finalPosition=ionic.DomUtil.getChildIndex(placeholder,placeholder.nodeName.toLowerCase());this.el.classList.remove(ITEM_REORDERING_CLASS),this.el.style[ionic.CSS.TRANSFORM]="",placeholder.parentNode.insertBefore(this.el,placeholder),placeholder.parentNode.removeChild(placeholder),this.onReorder&&this.onReorder(this.el,this._currentDrag.startIndex,finalPosition),this._currentDrag=null,doneCallback&&doneCallback()},ionic.views.ListView=ionic.views.View.inherit({initialize:function(opts){var _this=this;opts=ionic.extend({onReorder:function(){},virtualRemoveThreshold:-200,virtualAddThreshold:200},opts),ionic.extend(this,opts),!this.itemHeight&&this.listEl&&(this.itemHeight=this.listEl.children[0]&&parseInt(this.listEl.children[0].style.height,10)),this.onRefresh=opts.onRefresh||function(){},this.onRefreshOpening=opts.onRefreshOpening||function(){},this.onRefreshHolding=opts.onRefreshHolding||function(){},window.ionic.onGesture("touch",function(e){_this._handleTouch(e)},this.el),window.ionic.onGesture("release",function(e){_this._handleEndDrag(e)},this.el),window.ionic.onGesture("drag",function(e){_this._handleDrag(e)},this.el),this._initDrag()},stopRefreshing:function(){var refresher=this.el.querySelector(".list-refresher");refresher.style.height="0px"},didScroll:function(e){if(this.isVirtual){var itemHeight=this.itemHeight,scrollHeight=(this.listEl.children.length,e.target.scrollHeight),viewportHeight=this.el.parentNode.offsetHeight,highWater=(e.scrollTop,Math.max(0,e.scrollTop+this.virtualRemoveThreshold)),lowWater=Math.min(scrollHeight,Math.abs(e.scrollTop)+viewportHeight+this.virtualAddThreshold),itemsPerViewport=Math.floor((lowWater-highWater)/itemHeight),first=parseInt(Math.abs(highWater/itemHeight),10),last=parseInt(Math.abs(lowWater/itemHeight),10);this._virtualItemsToRemove=Array.prototype.slice.call(this.listEl.children,0,first);{Array.prototype.slice.call(this.listEl.children,first,first+itemsPerViewport)}this.renderViewport&&this.renderViewport(highWater,lowWater,first,last)}},didStopScrolling:function(){if(this.isVirtual)for(var i=0;i<this._virtualItemsToRemove.length;i++){{this._virtualItemsToRemove[i]}this.didHideItem&&this.didHideItem(i)}},_initDrag:function(){this._dragOp=null},_getItem:function(target){for(;target;){if(target.classList.contains(ITEM_CLASS))return target;target=target.parentNode}return null},_startDrag:function(e){var _this=this;if(this._isDragging=!1,!ionic.DomUtil.getParentOrSelfWithClass(e.target,ITEM_DRAG_CLASS)||"up"!=e.gesture.direction&&"down"!=e.gesture.direction){if(!this._didDragUpOrDown&&("left"==e.gesture.direction||"right"==e.gesture.direction)&&Math.abs(e.gesture.deltaX)>5)return this._dragOp=new SlideDrag({el:this.el}),this._dragOp.start(e),void e.preventDefault()}else{var item=this._getItem(e.target);if(item)return this._dragOp=new ReorderDrag({el:item,scrollEl:this.scrollEl,scrollView:this.scrollView,onReorder:function(el,start,end){_this.onReorder&&_this.onReorder(el,start,end)}}),this._dragOp.start(e),void e.preventDefault()}},_handleEndDrag:function(e){var _this=this;if(this._didDragUpOrDown=!1,this._dragOp){clearTimeout(this._touchTimeout);for(var items=_this.el.querySelectorAll(".item"),i=0,l=items.length;l>i;i++)items[i].classList.remove("active");this._dragOp.end(e,function(){_this._initDrag()})}},_handleDrag:function(e){Math.abs(e.gesture.deltaY)>5&&(this._didDragUpOrDown=!0),(Math.abs(e.gesture.deltaX)>10||Math.abs(e.gesture.deltaY)>10)&&clearTimeout(this._touchTimeout),clearTimeout(this._touchTimeout),this.isDragging||this._dragOp||this._startDrag(e),this._dragOp&&(e.gesture.srcEvent.preventDefault(),this._dragOp.drag(e))},_handleTouch:function(e){var _this=this,item=ionic.DomUtil.getParentOrSelfWithClass(e.target,ITEM_CLASS);item&&(this._touchTimeout=setTimeout(function(){for(var items=_this.el.querySelectorAll(".item"),i=0,l=items.length;l>i;i++)items[i].classList.remove("active");item.classList.add("active")},250))}})}(ionic),function(ionic){"use strict";ionic.views.Loading=ionic.views.View.inherit({initialize:function(opts){this.el=opts.el,this.maxWidth=opts.maxWidth||200,this.showDelay=opts.showDelay||0,this._loadingBox=this.el.querySelector(".loading")},show:function(){var _this=this;if(this._loadingBox){var lb=_this._loadingBox,width=Math.min(_this.maxWidth,Math.max(window.outerWidth-40,lb.offsetWidth));lb.style.width=width+"px",lb.style.marginLeft=-lb.offsetWidth/2+"px",lb.style.marginTop=-lb.offsetHeight/2+"px",this._showDelayTimeout=window.setTimeout(function(){_this.el.classList.add("active")},_this.showDelay)}},hide:function(){this.el.offsetWidth,window.clearTimeout(this._showDelayTimeout),this.el.classList.remove("active")}})}(ionic),function(ionic){"use strict";ionic.views.Modal=ionic.views.View.inherit({initialize:function(opts){opts=ionic.extend({focusFirstInput:!1,unfocusOnHide:!0,focusFirstDelay:600},opts),ionic.extend(this,opts),this.el=opts.el},show:function(){var self=this;self.focusFirstInput&&window.setTimeout(function(){var input=self.el.querySelector("input, textarea");input&&input.focus&&input.focus()},self.focusFirstDelay)},hide:function(){if(this.unfocusOnHide){var inputs=this.el.querySelectorAll("input, textarea");window.setTimeout(function(){for(var i=0;i<inputs.length;i++)inputs[i].blur&&inputs[i].blur()})}}})}(ionic),function(ionic){"use strict";ionic.views.NavBar=ionic.views.View.inherit({initialize:function(opts){this.el=opts.el,this._titleEl=this.el.querySelector(".title"),opts.hidden&&this.hide()},hide:function(){this.el.classList.add("hidden")},show:function(){this.el.classList.remove("hidden")},shouldGoBack:function(){},setTitle:function(title){this._titleEl&&(this._titleEl.innerHTML=title)},showBackButton:function(shouldShow){var _this=this;if(!this._currentBackButton){var back=document.createElement("a");back.className="button back",back.innerHTML="Back",this._currentBackButton=back,this._currentBackButton.onclick=function(){_this.shouldGoBack&&_this.shouldGoBack()}}shouldShow&&!this._currentBackButton.parentNode?this.el.insertBefore(this._currentBackButton,this.el.firstChild):!shouldShow&&this._currentBackButton.parentNode&&this._currentBackButton.parentNode.removeChild(this._currentBackButton)}})}(ionic),function(ionic){"use strict";ionic.views.SideMenu=ionic.views.View.inherit({initialize:function(opts){this.el=opts.el,this.isEnabled="undefined"==typeof opts.isEnabled?!0:opts.isEnabled,this.setWidth(opts.width)},getFullWidth:function(){return this.width},setWidth:function(width){this.width=width,this.el.style.width=width+"px"},setIsEnabled:function(isEnabled){this.isEnabled=isEnabled},bringUp:function(){"0"!==this.el.style.zIndex&&(this.el.style.zIndex="0")},pushDown:function(){"-1"!==this.el.style.zIndex&&(this.el.style.zIndex="-1")}}),ionic.views.SideMenuContent=ionic.views.View.inherit({initialize:function(opts){ionic.extend(this,{animationClass:"menu-animated",onDrag:function(){},onEndDrag:function(){}},opts),ionic.onGesture("drag",ionic.proxy(this._onDrag,this),this.el),ionic.onGesture("release",ionic.proxy(this._onEndDrag,this),this.el)},_onDrag:function(e){this.onDrag&&this.onDrag(e)},_onEndDrag:function(e){this.onEndDrag&&this.onEndDrag(e)},disableAnimation:function(){this.el.classList.remove(this.animationClass)},enableAnimation:function(){this.el.classList.add(this.animationClass)},getTranslateX:function(){return parseFloat(this.el.style[ionic.CSS.TRANSFORM].replace("translate3d(","").split(",")[0])},setTranslateX:ionic.animationFrameThrottle(function(x){this.el.style[ionic.CSS.TRANSFORM]="translate3d("+x+"px, 0, 0)"})})}(ionic),function(ionic){"use strict";ionic.views.Slider=ionic.views.View.inherit({initialize:function(options){function setup(){slides=element.children,length=slides.length,slides.length<2&&(options.continuous=!1),browser.transitions&&options.continuous&&slides.length<3&&(element.appendChild(slides[0].cloneNode(!0)),element.appendChild(element.children[1].cloneNode(!0)),slides=element.children),slidePos=new Array(slides.length),width=container.getBoundingClientRect().width||container.offsetWidth,element.style.width=slides.length*width+"px";for(var pos=slides.length;pos--;){var slide=slides[pos];slide.style.width=width+"px",slide.setAttribute("data-index",pos),browser.transitions&&(slide.style.left=pos*-width+"px",move(pos,index>pos?-width:pos>index?width:0,0))}options.continuous&&browser.transitions&&(move(circle(index-1),-width,0),move(circle(index+1),width,0)),browser.transitions||(element.style.left=index*-width+"px"),container.style.visibility="visible",options.slidesChanged&&options.slidesChanged()}function prev(){options.continuous?slide(index-1):index&&slide(index-1)}function next(){options.continuous?slide(index+1):index<slides.length-1&&slide(index+1)}function circle(index){return(slides.length+index%slides.length)%slides.length}function slide(to,slideSpeed){if(index!=to){if(browser.transitions){var direction=Math.abs(index-to)/(index-to);if(options.continuous){var natural_direction=direction;direction=-slidePos[circle(to)]/width,direction!==natural_direction&&(to=-direction*slides.length+to)}for(var diff=Math.abs(index-to)-1;diff--;)move(circle((to>index?to:index)-diff-1),width*direction,0);to=circle(to),move(index,width*direction,slideSpeed||speed),move(to,0,slideSpeed||speed),options.continuous&&move(circle(to-direction),-(width*direction),0)}else to=circle(to),animate(index*-width,to*-width,slideSpeed||speed);index=to,offloadFn(options.callback&&options.callback(index,slides[index]))}}function move(index,dist,speed){translate(index,dist,speed),slidePos[index]=dist}function translate(index,dist,speed){var slide=slides[index],style=slide&&slide.style;style&&(style.webkitTransitionDuration=style.MozTransitionDuration=style.msTransitionDuration=style.OTransitionDuration=style.transitionDuration=speed+"ms",style.webkitTransform="translate("+dist+"px,0)translateZ(0)",style.msTransform=style.MozTransform=style.OTransform="translateX("+dist+"px)")}function animate(from,to,speed){if(!speed)return void(element.style.left=to+"px");var start=+new Date,timer=setInterval(function(){var timeElap=+new Date-start;return timeElap>speed?(element.style.left=to+"px",delay&&begin(),options.transitionEnd&&options.transitionEnd.call(event,index,slides[index]),void clearInterval(timer)):void(element.style.left=(to-from)*(Math.floor(timeElap/speed*100)/100)+from+"px")},4)}function begin(){interval=setTimeout(next,delay)}function stop(){delay=options.auto||0,clearTimeout(interval)}var noop=function(){},offloadFn=function(fn){setTimeout(fn||noop,0)},browser={addEventListener:!!window.addEventListener,touch:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,transitions:function(temp){var props=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(var i in props)if(void 0!==temp.style[props[i]])return!0;return!1}(document.createElement("swipe"))},container=options.el;if(container){var slides,slidePos,width,length,element=container.children[0];options=options||{};var index=parseInt(options.startSlide,10)||0,speed=options.speed||300;options.continuous=void 0!==options.continuous?options.continuous:!0;var interval,isScrolling,delay=options.auto||0,start={},delta={},events={handleEvent:function(event){switch(("mousedown"==event.type||"mouseup"==event.type||"mousemove"==event.type)&&(event.touches=[{pageX:event.pageX,pageY:event.pageY}]),event.type){case"mousedown":this.start(event);break;case"touchstart":this.start(event);break;case"touchmove":this.move(event);break;case"mousemove":this.move(event);break;case"touchend":offloadFn(this.end(event));break;case"mouseup":offloadFn(this.end(event));break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":offloadFn(this.transitionEnd(event));break;case"resize":offloadFn(setup)}options.stopPropagation&&event.stopPropagation()},start:function(event){var touches=event.touches[0];start={x:touches.pageX,y:touches.pageY,time:+new Date},isScrolling=void 0,delta={},browser.touch?(element.addEventListener("touchmove",this,!1),element.addEventListener("touchend",this,!1)):(element.addEventListener("mousemove",this,!1),element.addEventListener("mouseup",this,!1),document.addEventListener("mouseup",this,!1))},move:function(event){if(!(event.touches.length>1||event.scale&&1!==event.scale)){options.disableScroll&&event.preventDefault();var touches=event.touches[0];delta={x:touches.pageX-start.x,y:touches.pageY-start.y},"undefined"==typeof isScrolling&&(isScrolling=!!(isScrolling||Math.abs(delta.x)<Math.abs(delta.y))),isScrolling||(event.preventDefault(),stop(),options.continuous?(translate(circle(index-1),delta.x+slidePos[circle(index-1)],0),translate(index,delta.x+slidePos[index],0),translate(circle(index+1),delta.x+slidePos[circle(index+1)],0)):(delta.x=delta.x/(!index&&delta.x>0||index==slides.length-1&&delta.x<0?Math.abs(delta.x)/width+1:1),translate(index-1,delta.x+slidePos[index-1],0),translate(index,delta.x+slidePos[index],0),translate(index+1,delta.x+slidePos[index+1],0)))}},end:function(){var duration=+new Date-start.time,isValidSlide=Number(duration)<250&&Math.abs(delta.x)>20||Math.abs(delta.x)>width/2,isPastBounds=!index&&delta.x>0||index==slides.length-1&&delta.x<0;options.continuous&&(isPastBounds=!1);var direction=delta.x<0;isScrolling||(isValidSlide&&!isPastBounds?(direction?(options.continuous?(move(circle(index-1),-width,0),move(circle(index+2),width,0)):move(index-1,-width,0),move(index,slidePos[index]-width,speed),move(circle(index+1),slidePos[circle(index+1)]-width,speed),index=circle(index+1)):(options.continuous?(move(circle(index+1),width,0),move(circle(index-2),-width,0)):move(index+1,width,0),move(index,slidePos[index]+width,speed),move(circle(index-1),slidePos[circle(index-1)]+width,speed),index=circle(index-1)),options.callback&&options.callback(index,slides[index])):options.continuous?(move(circle(index-1),-width,speed),move(index,0,speed),move(circle(index+1),width,speed)):(move(index-1,-width,speed),move(index,0,speed),move(index+1,width,speed))),browser.touch?(element.removeEventListener("touchmove",events,!1),element.removeEventListener("touchend",events,!1)):(element.removeEventListener("mousemove",events,!1),element.removeEventListener("mouseup",events,!1),document.removeEventListener("mouseup",events,!1))},transitionEnd:function(event){parseInt(event.target.getAttribute("data-index"),10)==index&&(delay&&begin(),options.transitionEnd&&options.transitionEnd.call(event,index,slides[index]))}};this.setup=function(){setup()},this.slide=function(to,speed){stop(),slide(to,speed)},this.prev=function(){stop(),prev()},this.next=function(){stop(),next()},this.stop=function(){stop()},this.currentIndex=function(){return index},this.slidesCount=function(){return length},this.kill=function(){stop(),element.style.width="",element.style.left="";for(var pos=slides.length;pos--;){var slide=slides[pos];slide.style.width="",slide.style.left="",browser.transitions&&translate(pos,0,0)}browser.addEventListener?(element.removeEventListener("touchstart",events,!1),element.removeEventListener("webkitTransitionEnd",events,!1),element.removeEventListener("msTransitionEnd",events,!1),element.removeEventListener("oTransitionEnd",events,!1),element.removeEventListener("otransitionend",events,!1),element.removeEventListener("transitionend",events,!1),window.removeEventListener("resize",events,!1)):window.onresize=null},this.load=function(){setup(),delay&&begin(),browser.addEventListener?(browser.touch?element.addEventListener("touchstart",events,!1):element.addEventListener("mousedown",events,!1),browser.transitions&&(element.addEventListener("webkitTransitionEnd",events,!1),element.addEventListener("msTransitionEnd",events,!1),element.addEventListener("oTransitionEnd",events,!1),element.addEventListener("otransitionend",events,!1),element.addEventListener("transitionend",events,!1)),window.addEventListener("resize",events,!1)):window.onresize=function(){setup()}}}}})}(ionic),function(ionic){"use strict";ionic.views.TabBarItem=ionic.views.View.inherit({initialize:function(el){this.el=el,this._buildItem()},create:function(itemData){var item=document.createElement("a");if(item.className="tab-item",itemData.icon){var icon=document.createElement("i");icon.className=itemData.icon,item.appendChild(icon)}if(itemData.badge){var badge=document.createElement("i");badge.className="badge",badge.innerHTML=itemData.badge,item.appendChild(badge),item.className="tab-item has-badge"}return item.appendChild(document.createTextNode(itemData.title)),new ionic.views.TabBarItem(item)},_buildItem:function(){for(var child,_this=this,children=Array.prototype.slice.call(this.el.children),i=0,j=children.length;j>i;i++)child=children[i],"i"==child.tagName.toLowerCase()&&/icon/.test(child.className)&&(this.icon=child.className),"i"==child.tagName.toLowerCase()&&/badge/.test(child.className)&&(this.badge=child.textContent.trim());for(this.title="",i=0,j=this.el.childNodes.length;j>i;i++)child=this.el.childNodes[i],"#text"===child.nodeName&&(this.title+=child.nodeValue.trim());this._tapHandler=function(e){_this.onTap&&_this.onTap(e)},ionic.on("tap",this._tapHandler,this.el)},onTap:function(){},destroy:function(){ionic.off("tap",this._tapHandler,this.el)},getIcon:function(){return this.icon},getTitle:function(){return this.title},getBadge:function(){return this.badge},setSelected:function(isSelected){this.isSelected=isSelected,isSelected?this.el.classList.add("active"):this.el.classList.remove("active")}}),ionic.views.TabBar=ionic.views.View.inherit({initialize:function(opts){this.el=opts.el,this.items=[],this._buildItems()},getItems:function(){return this.items},addItem:function(item){var tabItem=ionic.views.TabBarItem.prototype.create(item);this.appendItemElement(tabItem),this.items.push(tabItem),this._bindEventsOnItem(tabItem)},appendItemElement:function(item){this.el&&this.el.appendChild(item.el)},removeItem:function(index){var item=this.items[index];item&&(item.onTap=void 0,item.destroy())},_bindEventsOnItem:function(item){var _this=this;this._itemTapHandler||(this._itemTapHandler=function(){_this.trySelectItem(this)}),item.onTap=this._itemTapHandler},getSelectedItem:function(){return this.selectedItem},setSelectedItem:function(index){this.selectedItem=this.items[index];for(var i=0,j=this.items.length;j>i;i+=1)this.items[i].setSelected(!1);this.selectedItem&&this.selectedItem.setSelected(!0)},selectItem:function(item){for(var i=0,j=this.items.length;j>i;i+=1)if(this.items[i]==item)return void this.setSelectedItem(i)},trySelectItem:function(item){for(var i=0,j=this.items.length;j>i;i+=1)if(this.items[i]==item)return void(this.tryTabSelect&&this.tryTabSelect(i))},_buildItems:function(){for(var item,items=Array.prototype.slice.call(this.el.children),i=0,j=items.length;j>i;i+=1)item=new ionic.views.TabBarItem(items[i]),this.items[i]=item,this._bindEventsOnItem(item);this.items.length>0&&(this.selectedItem=this.items[0])},destroy:function(){for(var i=0,j=this.items.length;j>i;i+=1)this.items[i].destroy();this.items.length=0}})}(window.ionic),function(ionic){"use strict";ionic.views.Toggle=ionic.views.View.inherit({initialize:function(opts){var self=this;this.el=opts.el,this.checkbox=opts.checkbox,this.track=opts.track,this.handle=opts.handle,this.openPercent=-1,this.onChange=opts.onChange||function(){},this.triggerThreshold=opts.triggerThreshold||20,this.dragStartHandler=function(e){self.dragStart(e)},this.dragHandler=function(e){self.drag(e)},this.holdHandler=function(e){self.hold(e)},this.releaseHandler=function(e){self.release(e)},this.dragStartGesture=ionic.onGesture("dragstart",this.dragStartHandler,this.el),this.dragGesture=ionic.onGesture("drag",this.dragHandler,this.el),this.dragHoldGesture=ionic.onGesture("hold",this.holdHandler,this.el),this.dragReleaseGesture=ionic.onGesture("release",this.releaseHandler,this.el)},destroy:function(){ionic.offGesture(this.dragStartGesture,"dragstart",this.dragStartGesture),ionic.offGesture(this.dragGesture,"drag",this.dragGesture),ionic.offGesture(this.dragHoldGesture,"hold",this.holdHandler),ionic.offGesture(this.dragReleaseGesture,"release",this.releaseHandler)},tap:function(){"disabled"!==this.el.getAttribute("disabled")&&this.val(!this.checkbox.checked)},dragStart:function(e){this.checkbox.disabled||(this._dragInfo={width:this.el.offsetWidth,left:this.el.offsetLeft,right:this.el.offsetLeft+this.el.offsetWidth,triggerX:this.el.offsetWidth/2,initialState:this.checkbox.checked},e.gesture.srcEvent.preventDefault(),this.hold(e))},drag:function(e){var self=this;this._dragInfo&&(e.gesture.srcEvent.preventDefault(),ionic.requestAnimationFrame(function(){var px=(self.track.offsetLeft+self.handle.offsetWidth/2,self.track.offsetLeft+self.track.offsetWidth-self.handle.offsetWidth/2,e.gesture.deltaX,e.gesture.touches[0].pageX-self._dragInfo.left),mx=self._dragInfo.width-self.triggerThreshold;self._dragInfo.initialState?px<self.triggerThreshold?self.setOpenPercent(0):px>self._dragInfo.triggerX&&self.setOpenPercent(100):px<self._dragInfo.triggerX?self.setOpenPercent(0):px>mx&&self.setOpenPercent(100)}))},endDrag:function(){this._dragInfo=null},hold:function(){this.el.classList.add("dragging")},release:function(e){this.el.classList.remove("dragging"),this.endDrag(e)},setOpenPercent:function(openPercent){if(this.openPercent<0||openPercent<this.openPercent-3||openPercent>this.openPercent+3)if(this.openPercent=openPercent,0===openPercent)this.val(!1);else if(100===openPercent)this.val(!0);else{var openPixel=Math.round(openPercent/100*this.track.offsetWidth-this.handle.offsetWidth);
openPixel=1>openPixel?0:openPixel,this.handle.style[ionic.CSS.TRANSFORM]="translate3d("+openPixel+"px,0,0)"}},val:function(value){return(value===!0||value===!1)&&(""!==this.handle.style[ionic.CSS.TRANSFORM]&&(this.handle.style[ionic.CSS.TRANSFORM]=""),this.checkbox.checked=value,this.openPercent=value?100:0,this.onChange&&this.onChange()),this.checkbox.checked}})}(ionic),function(ionic){"use strict";ionic.controllers.ViewController=function(){this.initialize.apply(this,arguments)},ionic.controllers.ViewController.inherit=ionic.inherit,ionic.extend(ionic.controllers.ViewController.prototype,{initialize:function(){},destroy:function(){}})}(window.ionic),function(ionic){"use strict";ionic.controllers.NavController=ionic.controllers.ViewController.inherit({initialize:function(opts){var _this=this;this.navBar=opts.navBar,this.content=opts.content,this.controllers=opts.controllers||[],this._updateNavBar(),this.navBar.shouldGoBack=function(){_this.pop()}},getControllers:function(){return this.controllers},getTopController:function(){return this.controllers[this.controllers.length-1]},push:function(controller){var last=this.controllers[this.controllers.length-1];this.controllers.push(controller);var shouldSwitch=this.switchingController&&this.switchingController(controller)||!0;if(shouldSwitch!==!1){last&&(last.isVisible=!1,last.visibilityChanged&&last.visibilityChanged("push"));var next=this.controllers[this.controllers.length-1];return next.isVisible=!0,next.visibilityChanged&&next.visibilityChanged(last?"push":"first"),this._updateNavBar(),controller}},pop:function(){var next,last;if(!(this.controllers.length<2))return last=this.controllers.pop(),last&&(last.isVisible=!1,last.visibilityChanged&&last.visibilityChanged("pop")),next=this.controllers[this.controllers.length-1],next.isVisible=!0,next.visibilityChanged&&next.visibilityChanged("pop"),this._updateNavBar(),last},showNavBar:function(){this.navBar&&this.navBar.show()},hideNavBar:function(){this.navBar&&this.navBar.hide()},_updateNavBar:function(){this.getTopController()&&this.navBar&&(this.navBar.setTitle(this.getTopController().title),this.navBar.showBackButton(this.controllers.length>1?!0:!1))}})}(window.ionic),function(ionic){"use strict";ionic.controllers.SideMenuController=ionic.controllers.ViewController.inherit({initialize:function(options){var self=this;this.left=options.left,this.right=options.right,this.content=options.content,this.dragThresholdX=options.dragThresholdX||10,this._rightShowing=!1,this._leftShowing=!1,this._isDragging=!1,this.content&&(this.content.onDrag=function(e){self._handleDrag(e)},this.content.onEndDrag=function(e){self._endDrag(e)})},setContent:function(content){var self=this;this.content=content,this.content.onDrag=function(e){self._handleDrag(e)},this.content.endDrag=function(e){self._endDrag(e)}},toggleLeft:function(){this.content.enableAnimation();var openAmount=this.getOpenAmount();this.openPercentage(openAmount>0?0:100)},toggleRight:function(){this.content.enableAnimation();var openAmount=this.getOpenAmount();this.openPercentage(0>openAmount?0:-100)},close:function(){this.openPercentage(0)},getOpenAmount:function(){return this.content&&this.content.getTranslateX()||0},getOpenRatio:function(){var amount=this.getOpenAmount();return amount>=0?amount/this.left.width:amount/this.right.width},isOpen:function(){return 1==this.getOpenRatio()},getOpenPercentage:function(){return 100*this.getOpenRatio()},openPercentage:function(percentage){var p=percentage/100;if(this.left&&percentage>=0)this.openAmount(this.left.width*p);else if(this.right&&0>percentage){{this.right.width}this.openAmount(this.right.width*p)}},openAmount:function(amount){var maxLeft=this.left&&this.left.width||0,maxRight=this.right&&this.right.width||0;return(this.left&&this.left.isEnabled||!(amount>0))&&(this.right&&this.right.isEnabled||!(0>amount))?this._leftShowing&&amount>maxLeft?void this.content.setTranslateX(maxLeft):this._rightShowing&&-maxRight>amount?void this.content.setTranslateX(-maxRight):(this.content.setTranslateX(amount),void(amount>=0?(this._leftShowing=!0,this._rightShowing=!1,amount>0&&(this.right&&this.right.pushDown&&this.right.pushDown(),this.left&&this.left.bringUp&&this.left.bringUp())):(this._rightShowing=!0,this._leftShowing=!1,this.right&&this.right.bringUp&&this.right.bringUp(),this.left&&this.left.pushDown&&this.left.pushDown()))):void this.content.setTranslateX(0)},snapToRest:function(e){this.content.enableAnimation(),this._isDragging=!1;var ratio=this.getOpenRatio();if(0===ratio)return void this.openPercentage(0);var velocityThreshold=.3,velocityX=e.gesture.velocityX,direction=e.gesture.direction;this.openPercentage(ratio>0&&.5>ratio&&"right"==direction&&velocityThreshold>velocityX?0:ratio>.5&&"left"==direction&&velocityThreshold>velocityX?100:0>ratio&&ratio>-.5&&"left"==direction&&velocityThreshold>velocityX?0:.5>ratio&&"right"==direction&&velocityThreshold>velocityX?-100:"right"==direction&&ratio>=0&&(ratio>=.5||velocityX>velocityThreshold)?100:"left"==direction&&0>=ratio&&(-.5>=ratio||velocityX>velocityThreshold)?-100:0)},_endDrag:function(e){this._isDragging&&this.snapToRest(e),this._startX=null,this._lastX=null,this._offsetX=null},_handleDrag:function(e){this._startX?this._lastX=e.gesture.touches[0].pageX:(this._startX=e.gesture.touches[0].pageX,this._lastX=this._startX),!this._isDragging&&Math.abs(this._lastX-this._startX)>this.dragThresholdX&&(this._startX=this._lastX,this._isDragging=!0,this.content.disableAnimation(),this._offsetX=this.getOpenAmount()),this._isDragging&&this.openAmount(this._offsetX+(this._lastX-this._startX))}})}(ionic),function(ionic){"use strict";ionic.controllers.TabBarController=ionic.controllers.ViewController.inherit({initialize:function(options){this.tabBar=options.tabBar,this._bindEvents(),this.controllers=[];for(var controllers=options.controllers||[],i=0;i<controllers.length;i++)this.addController(controllers[i]);this.controllerWillChange=options.controllerWillChange||function(){},this.controllerChanged=options.controllerChanged||function(){},this.setSelectedController(0)},_bindEvents:function(){var _this=this;this.tabBar.tryTabSelect=function(index){_this.setSelectedController(index)}},selectController:function(index){var shouldChange=!0;this.controllerWillChange&&this.controllerWillChange(this.controllers[index],index)===!1&&(shouldChange=!1),shouldChange&&this.setSelectedController(index)},setSelectedController:function(index){if(!(index>=this.controllers.length)){var lastController=this.selectedController,lastIndex=this.selectedIndex;this.selectedController=this.controllers[index],this.selectedIndex=index,this._showController(index),this.tabBar.setSelectedItem(index),this.controllerChanged&&this.controllerChanged(lastController,lastIndex,this.selectedController,this.selectedIndex)}},_showController:function(index){for(var c,i=0,j=this.controllers.length;j>i;i++)c=this.controllers[i],c.isVisible=!1,c.visibilityChanged&&c.visibilityChanged();c=this.controllers[index],c.isVisible=!0,c.visibilityChanged&&c.visibilityChanged()},_clearSelected:function(){this.selectedController=null,this.selectedIndex=-1},getController:function(index){return this.controllers[index]},getControllers:function(){return this.controllers},getSelectedController:function(){return this.selectedController},getSelectedControllerIndex:function(){return this.selectedIndex},addController:function(controller){this.controllers.push(controller),this.tabBar.addItem({title:controller.title,icon:controller.icon,badge:controller.badge}),this.selectedController||this.setSelectedController(0)},setControllers:function(controllers){this.controllers=controllers,this._clearSelected(),this.selectController(0)}})}(window.ionic),angular.module("ionic.service",["ionic.service.bind","ionic.service.platform","ionic.service.actionSheet","ionic.service.gesture","ionic.service.loading","ionic.service.modal","ionic.service.popup","ionic.service.templateLoad","ionic.service.view","ionic.decorator.location"]),angular.module("ionic.ui.service",["ionic.ui.service.scrollDelegate","ionic.ui.service.slideBoxDelegate","ionic.ui.service.sideMenuDelegate"]),angular.module("ionic.ui",["ionic.ui.content","ionic.ui.scroll","ionic.ui.tabs","ionic.ui.viewState","ionic.ui.header","ionic.ui.sideMenu","ionic.ui.slideBox","ionic.ui.list","ionic.ui.checkbox","ionic.ui.toggle","ionic.ui.radio","ionic.ui.touch","ionic.ui.popup"]),angular.module("ionic",["ionic.service","ionic.ui.service","ionic.ui","ngAnimate","ngSanitize","ui.router"]),angular.element.prototype.addClass=function(cssClasses){var x,y,cssClass,el,splitClasses,existingClasses;if(cssClasses&&"ng-scope"!=cssClasses&&"ng-isolate-scope"!=cssClasses)for(x=0;x<this.length;x++)if(el=this[x],el.setAttribute)if(cssClasses.indexOf(" ")<0)el.classList.add(cssClasses);else{for(existingClasses=(" "+(el.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),splitClasses=cssClasses.split(" "),y=0;y<splitClasses.length;y++)cssClass=splitClasses[y].trim(),-1===existingClasses.indexOf(" "+cssClass+" ")&&(existingClasses+=cssClass+" ");el.setAttribute("class",existingClasses.trim())}return this},angular.element.prototype.removeClass=function(cssClasses){var x,y,splitClasses,cssClass,el;if(cssClasses)for(x=0;x<this.length;x++)if(el=this[x],el.getAttribute)if(cssClasses.indexOf(" ")<0)el.classList.remove(cssClasses);else for(splitClasses=cssClasses.split(" "),y=0;y<splitClasses.length;y++)cssClass=splitClasses[y],el.setAttribute("class",(" "+(el.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+cssClass.trim()+" "," ").trim());return this},angular.module("ionic.service.actionSheet",["ionic.service.templateLoad","ionic.service.platform","ionic.ui.actionSheet","ngAnimate"]).factory("$ionicActionSheet",["$rootScope","$document","$compile","$animate","$timeout","$ionicTemplateLoader","$ionicPlatform",function($rootScope,$document,$compile,$animate,$timeout,$ionicTemplateLoader,$ionicPlatform){return{show:function(opts){var scope=$rootScope.$new(!0);angular.extend(scope,opts);var element=$compile('<ion-action-sheet buttons="buttons"></ion-action-sheet>')(scope),sheetEl=angular.element(element[0].querySelector(".action-sheet-wrapper")),hideSheet=function(didCancel){sheetEl.removeClass("action-sheet-up"),didCancel&&$timeout(function(){opts.cancel()},200),$animate.removeClass(element,"active",function(){scope.$destroy()}),$document[0].body.classList.remove("action-sheet-open"),scope.$deregisterBackButton&&scope.$deregisterBackButton()};scope.$deregisterBackButton=$ionicPlatform.registerBackButtonAction(function(){hideSheet()},300),scope.cancel=function(){hideSheet(!0)},scope.buttonClicked=function(index){(opts.buttonClicked&&opts.buttonClicked(index))===!0&&hideSheet(!1)},scope.destructiveButtonClicked=function(){(opts.destructiveButtonClicked&&opts.destructiveButtonClicked())===!0&&hideSheet(!1)},$document[0].body.appendChild(element[0]),$document[0].body.classList.add("action-sheet-open");var sheet=new ionic.views.ActionSheet({el:element[0]});return scope.sheet=sheet,$animate.addClass(element,"active"),$timeout(function(){sheetEl.addClass("action-sheet-up")},20),sheet}}}]),angular.module("ionic.service.bind",[]).factory("$ionicBind",["$parse","$interpolate",function($parse,$interpolate){var LOCAL_REGEXP=/^\s*([@=&])(\??)\s*(\w*)\s*$/;return function(scope,attrs,bindDefinition){angular.forEach(bindDefinition||{},function(definition,scopeName){var parentGet,unwatch,match=definition.match(LOCAL_REGEXP)||[],attrName=match[3]||scopeName,mode=match[1];switch(mode){case"@":if(!attrs[attrName])return;attrs.$observe(attrName,function(value){scope[scopeName]=value}),attrs[attrName]&&(scope[scopeName]=$interpolate(attrs[attrName])(scope));break;case"=":if(!attrs[attrName])return;unwatch=scope.$watch(attrs[attrName],function(value){scope[scopeName]=value}),scope.$on("$destroy",unwatch);break;case"&":if(attrs[attrName]&&attrs[attrName].match(RegExp(scopeName+"(.*?)")))throw new Error('& expression binding "'+scopeName+'" looks like it will recursively call "'+attrs[attrName]+'" and cause a stack overflow! Please choose a different scopeName.');parentGet=$parse(attrs[attrName]),scope[scopeName]=function(locals){return parentGet(scope,locals)}}})}}]),angular.module("ionic.service.gesture",[]).factory("$ionicGesture",[function(){return{on:function(eventType,cb,$element){return window.ionic.onGesture(eventType,cb,$element[0])},off:function(gesture,eventType,cb){return window.ionic.offGesture(gesture,eventType,cb)}}}]),angular.module("ionic.service.loading",["ionic.ui.loading"]).factory("$ionicLoading",["$rootScope","$document","$compile",function($rootScope,$document,$compile){return{show:function(opts){var defaults={content:"",animation:"fade-in",showBackdrop:!0,maxWidth:200,showDelay:0};opts=angular.extend(defaults,opts);var scope=$rootScope.$new(!0);angular.extend(scope,opts);var existing=angular.element($document[0].querySelector(".loading-backdrop"));existing.length&&existing.remove();var element=$compile("<ion-loading>"+opts.content+"</ion-loading>")(scope);$document[0].body.appendChild(element[0]);var loading=new ionic.views.Loading({el:element[0],maxWidth:opts.maxWidth,showDelay:opts.showDelay});return loading.show(),scope.loading=loading,loading}}}]),angular.module("ionic.service.modal",["ionic.service.templateLoad","ionic.service.platform","ionic.ui.modal"]).factory("$ionicModal",["$rootScope","$document","$compile","$timeout","$ionicPlatform","$ionicTemplateLoader",function($rootScope,$document,$compile,$timeout,$ionicPlatform,$ionicTemplateLoader){var ModalView=ionic.views.Modal.inherit({initialize:function(opts){ionic.views.Modal.prototype.initialize.call(this,opts),this.animation=opts.animation||"slide-in-up"},show:function(){var self=this,modalEl=angular.element(self.modalEl);self.el.classList.remove("hide"),$document[0].body.classList.add("modal-open"),self._isShown=!0,self.el.parentElement||(modalEl.addClass(self.animation),$document[0].body.appendChild(self.el)),modalEl.addClass("ng-enter active").removeClass("ng-leave ng-leave-active"),$timeout(function(){modalEl.addClass("ng-enter-active"),self.scope.$parent&&self.scope.$parent.$broadcast("modal.shown"),self.el.classList.add("active")},20),self._deregisterBackButton=$ionicPlatform.registerBackButtonAction(function(){self.hide()},200),ionic.views.Modal.prototype.show.call(self)},hide:function(){var self=this;self._isShown=!1;var modalEl=angular.element(self.modalEl);self.el.classList.remove("active"),modalEl.addClass("ng-leave"),$timeout(function(){modalEl.addClass("ng-leave-active").removeClass("ng-enter ng-enter-active active")},20),$timeout(function(){$document[0].body.classList.remove("modal-open"),self.el.classList.add("hide")},350),ionic.views.Modal.prototype.hide.call(self),self.scope.$parent&&self.scope.$parent.$broadcast("modal.hidden"),self._deregisterBackButton&&self._deregisterBackButton()},remove:function(){var self=this;self.hide(),self.scope.$parent&&self.scope.$parent.$broadcast("modal.removed"),$timeout(function(){self.scope.$destroy(),self.el&&self.el.parentElement&&self.el.parentElement.removeChild(self.el)},750)},isShown:function(){return!!this._isShown}}),createModal=function(templateString,options){var scope=options.scope&&options.scope.$new()||$rootScope.$new(!0),element=$compile("<ion-modal>"+templateString+"</ion-modal>")(scope);options.el=element[0],options.modalEl=options.el.querySelector(".modal");var modal=new ModalView(options);return modal.scope=scope,options.scope||(scope.modal=modal),modal};return{fromTemplate:function(templateString,options){var modal=createModal(templateString,options||{});return modal},fromTemplateUrl:function(url,options,_){var cb;return angular.isFunction(options)&&(cb=options,options=_),$ionicTemplateLoader.load(url).then(function(templateString){var modal=createModal(templateString,options||{});return cb&&cb(modal),modal})}}}]),function(ionic){"use strict";angular.module("ionic.service.platform",[]).provider("$ionicPlatform",function(){return{$get:["$q","$rootScope",function($q,$rootScope){return{onHardwareBackButton:function(cb){ionic.Platform.ready(function(){document.addEventListener("backbutton",cb,!1)})},offHardwareBackButton:function(fn){ionic.Platform.ready(function(){document.removeEventListener("backbutton",fn)})},registerBackButtonAction:function(fn,priority,actionId){var self=this;self._hasBackButtonHandler||($rootScope.$backButtonActions={},self.onHardwareBackButton(self.hardwareBackButtonClick),self._hasBackButtonHandler=!0);var action={id:actionId?actionId:ionic.Utils.nextUid(),priority:priority?priority:0,fn:fn};return $rootScope.$backButtonActions[action.id]=action,function(){delete $rootScope.$backButtonActions[action.id]}},hardwareBackButtonClick:function(e){var priorityAction,actionId;for(actionId in $rootScope.$backButtonActions)(!priorityAction||$rootScope.$backButtonActions[actionId].priority>=priorityAction.priority)&&(priorityAction=$rootScope.$backButtonActions[actionId]);return priorityAction?(priorityAction.fn(e),priorityAction):void 0},is:function(type){return ionic.Platform.is(type)},ready:function(cb){var q=$q.defer();return ionic.Platform.ready(function(){q.resolve(),cb()}),q.promise}}}]}})}(ionic),function(ionic){"use strict";angular.module("ionic.service.popup",["ionic.service.templateLoad"]).factory("$ionicPopup",["$rootScope","$q","$document","$compile","$timeout","$ionicTemplateLoader",function($rootScope,$q,$document,$compile,$timeout,$ionicTemplateLoader){var popupOptions={stackPushDelay:50},positionPopup=function(popup){popup.el.style.marginLeft=-popup.el.offsetWidth/2+"px",popup.el.style.marginTop=-popup.el.offsetHeight/2+"px"},hideBody=function(popup){var bodyEl=popup.el.querySelector(".popup-body");bodyEl&&""==bodyEl.innerHTML.trim()&&(bodyEl.style.display="none")},showSinglePopup=function(popup){ionic.requestAnimationFrame(function(){hideBody(popup),positionPopup(popup),popup.el.classList.remove("popup-hidden"),popup.el.classList.add("popup-showing"),popup.el.classList.add("active")})},reshowSinglePopup=function(popup){ionic.requestAnimationFrame(function(){popup.el.classList.remove("popup-hidden"),popup.el.classList.add("popup-showing"),popup.el.classList.add("active")})},hideSinglePopup=function(popup){ionic.requestAnimationFrame(function(){popup.el.classList.remove("active"),popup.el.classList.add("popup-hidden")})},removeSinglePopup=function(popup){popup.el.offsetWidth,popup.el.classList.remove("active"),popup.el.classList.add("popup-hidden"),$timeout(function(){popup.el.remove()},400)},popupStack=[],backdropEl=null,showBackdrop=function(){var el=$compile("<ion-popup-backdrop></ion-popup-backdrop>")($rootScope.$new(!0));$document[0].body.appendChild(el[0]),backdropEl=el},removeBackdrop=function(){backdropEl.remove()},pushAndShow=function(popup){var lastPopup=popupStack[popupStack.length-1];popupStack.push(popup),1==popupStack.length&&showBackdrop(),lastPopup?(hideSinglePopup(lastPopup),$timeout(function(){showSinglePopup(popup)},popupOptions.stackPushDelay)):showSinglePopup(popup)},popAndRemove=function(){var lastPopup=popupStack.pop(),nextPopup=popupStack[popupStack.length-1];removeSinglePopup(lastPopup),nextPopup?reshowSinglePopup(nextPopup):removeBackdrop()},constructPopupOnScope=function(element,scope){var popup={el:element[0],scope:scope};return scope.popup=popup,popup},buildPopupTemplate=function(opts,content){return'<ion-popup title="'+opts.title+'" buttons="buttons" on-button-tap="onButtonTap(button, event)" on-close="onClose(button, result, event)">'+(content||"")+"</ion-popup>"},createPopup=function(opts,responseDeferred){var q=$q.defer(),defaults={title:"",animation:"fade-in"};opts=angular.extend(defaults,opts);var scope=opts.scope&&opts.scope.$new()||$rootScope.$new(!0);if(angular.extend(scope,opts),scope.onClose=function(button,result){popAndRemove(scope.popup),responseDeferred.resolve(result)},opts.templateUrl)$ionicTemplateLoader.load(opts.templateUrl).then(function(templateString){var popupTemplate=buildPopupTemplate(opts,templateString),element=$compile(popupTemplate)(scope);$document[0].body.appendChild(element[0]),q.resolve(constructPopupOnScope(element,scope))},function(err){q.reject(err)});else{var popupTemplate=buildPopupTemplate(opts,opts.content),element=$compile(popupTemplate)(scope);$document[0].body.appendChild(element[0]),q.resolve(constructPopupOnScope(element,scope))}return q.promise};return{showPopup:function(data){var q=$q.defer();return createPopup(data,q).then(function(popup){pushAndShow(popup,data)},function(err){}),q.promise},show:function(data){return this.showPopup(data)},alert:function(opts){return this.showPopup({content:opts.content||"",title:opts.title||"",buttons:[{text:opts.okText||"OK",type:opts.okType||"button-positive",onTap:function(){return!0}}]})},confirm:function(opts){return this.showPopup({content:opts.content||"",title:opts.title||"",buttons:[{text:opts.cancelText||"Cancel",type:opts.cancelType||"button-default",onTap:function(e){e.preventDefault()}},{text:opts.okText||"OK",type:opts.okType||"button-positive",onTap:function(){return!0}}]})},prompt:function(opts){var scope=$rootScope.$new(!0);return scope.data={},this.showPopup({content:opts.content||'<input ng-model="data.response" type="'+(opts.inputType||"text")+'" placeholder="'+(opts.inputPlaceholder||"")+'">',title:opts.title||"",subTitle:opts.subTitle||"",scope:scope,buttons:[{text:opts.cancelText||"Cancel",type:opts.cancelType||"button-default",onTap:function(e){e.preventDefault()}},{text:opts.okText||"OK",type:opts.okType||"button-positive",onTap:function(){return scope.data.response}}]})}}}])}(ionic),angular.module("ionic.service.templateLoad",[]).factory("$ionicTemplateLoader",["$q","$http","$templateCache",function($q,$http,$templateCache){return{load:function(url){return $http.get(url,{cache:$templateCache}).then(function(response){return response.data&&response.data.trim()})}}}]),angular.module("ionic.service.view",["ui.router","ionic.service.platform"]).run(["$rootScope","$state","$location","$document","$animate","$ionicPlatform",function($rootScope,$state,$location,$document,$animate,$ionicPlatform){function onHardwareBackButton(e){return $rootScope.$viewHistory.backView?$rootScope.$viewHistory.backView.go():ionic.Platform.exitApp(),e.preventDefault(),!1}$rootScope.$viewHistory={histories:{root:{historyId:"root",parentHistoryId:null,stack:[],cursor:-1}},views:{},backView:null,forwardView:null,currentView:null,disabledRegistrableTagNames:[]},$rootScope.$on("viewState.changeHistory",function(e,data){if(data){var hist=data.historyId?$rootScope.$viewHistory.histories[data.historyId]:null;if(hist&&hist.cursor>-1&&hist.cursor<hist.stack.length){var view=hist.stack[hist.cursor];return view.go(data)}!data.url&&data.uiSref&&(data.url=$state.href(data.uiSref)),data.url&&(0===data.url.indexOf("#")&&(data.url=data.url.replace("#","")),data.url!==$location.url()&&$location.url(data.url))}}),$rootScope.$on("viewState.viewEnter",function(e,data){data&&data.title&&($document[0].title=data.title)}),$ionicPlatform.registerBackButtonAction(onHardwareBackButton,100)}]).factory("$ionicViewService",["$rootScope","$state","$location","$window","$injector",function($rootScope,$state,$location,$window,$injector){function createViewId(){return ionic.Utils.nextUid()}var $animate=$injector.has("$animate")?$injector.get("$animate"):!1,View=function(){};return View.prototype.initialize=function(data){if(data){for(var name in data)this[name]=data[name];return this}return null},View.prototype.go=function(){return this.stateName?$state.go(this.stateName,this.stateParams):this.url&&this.url!==$location.url()?$rootScope.$viewHistory.backView===this?$window.history.go(-1):$rootScope.$viewHistory.forwardView===this?$window.history.go(1):void $location.url(this.url):null},View.prototype.destroy=function(){this.scope&&(this.scope.$destroy&&this.scope.$destroy(),this.scope=null)},{register:function(containerScope,element){var viewHistory=$rootScope.$viewHistory,currentStateId=this.getCurrentStateId(),hist=this._getHistory(containerScope),currentView=viewHistory.currentView,backView=viewHistory.backView,forwardView=viewHistory.forwardView,rsp={viewId:null,navAction:null,navDirection:null,historyId:hist.historyId};if(element&&!this.isTagNameRegistrable(element))return rsp.navAction="disabledByTagName",rsp;if(currentView&&currentView.stateId===currentStateId&&currentView.historyId===hist.historyId)return rsp.navAction="noChange",rsp;if(viewHistory.forcedNav)ionic.Utils.extend(rsp,viewHistory.forcedNav),$rootScope.$viewHistory.forcedNav=null;else if(backView&&backView.stateId===currentStateId)rsp.viewId=backView.viewId,rsp.navAction="moveBack",currentView.scrollValues={},backView.historyId===currentView.historyId&&(rsp.navDirection="back");else if(forwardView&&forwardView.stateId===currentStateId){rsp.viewId=forwardView.viewId,rsp.navAction="moveForward",forwardView.historyId===currentView.historyId&&(rsp.navDirection="forward");var parentHistory=this._getParentHistoryObj(containerScope);forwardView.historyId&&parentHistory.scope&&(parentHistory.scope.$historyId=forwardView.historyId,rsp.historyId=forwardView.historyId)}else if(currentView&&currentView.historyId!==hist.historyId&&hist.cursor>-1&&hist.stack.length>0&&hist.cursor<hist.stack.length&&hist.stack[hist.cursor].stateId===currentStateId)rsp.viewId=hist.stack[hist.cursor].viewId,rsp.navAction="moveBack";else{if(rsp.viewId=createViewId(currentStateId),currentView){if(currentView.forwardViewId=rsp.viewId,hist.historyId===currentView.historyId&&(rsp.navDirection="forward"),rsp.navAction="newView",forwardView&&currentView.stateId!==forwardView.stateId){var forwardsHistory=this._getHistoryById(forwardView.historyId);if(forwardsHistory)for(var x=forwardsHistory.stack.length-1;x>=forwardView.index;x--)forwardsHistory.stack[x].destroy(),forwardsHistory.stack.splice(x)}}else rsp.navAction="initialView";viewHistory.views[rsp.viewId]=this.createView({viewId:rsp.viewId,index:hist.stack.length,historyId:hist.historyId,backViewId:currentView&&currentView.viewId?currentView.viewId:null,forwardViewId:null,stateId:currentStateId,stateName:this.getCurrentStateName(),stateParams:this.getCurrentStateParams(),url:$location.url(),scrollValues:null}),hist.stack.push(viewHistory.views[rsp.viewId])}return this.setNavViews(rsp.viewId),hist.cursor=viewHistory.currentView.index,rsp},setNavViews:function(viewId){var viewHistory=$rootScope.$viewHistory;viewHistory.currentView=this._getViewById(viewId),viewHistory.backView=this._getBackView(viewHistory.currentView),viewHistory.forwardView=this._getForwardView(viewHistory.currentView),$rootScope.$broadcast("$viewHistory.historyChange",{showBack:viewHistory.backView&&viewHistory.backView.historyId===viewHistory.currentView.historyId})},registerHistory:function(scope){scope.$historyId=ionic.Utils.nextUid()},createView:function(data){var newView=new View;return newView.initialize(data)},getCurrentView:function(){return $rootScope.$viewHistory.currentView},getBackView:function(){return $rootScope.$viewHistory.backView},getForwardView:function(){return $rootScope.$viewHistory.forwardView},getNavDirection:function(){return $rootScope.$viewHistory.navDirection},getCurrentStateName:function(){return $state&&$state.current?$state.current.name:null},isCurrentStateNavView:function(navView){return $state&&$state.current&&$state.current.views&&$state.current.views[navView]?!0:!1},getCurrentStateParams:function(){var rtn;if($state&&$state.params)for(var key in $state.params)$state.params.hasOwnProperty(key)&&(rtn=rtn||{},rtn[key]=$state.params[key]);return rtn},getCurrentStateId:function(){var id;if($state&&$state.current&&$state.current.name){if(id=$state.current.name,$state.params)for(var key in $state.params)$state.params.hasOwnProperty(key)&&$state.params[key]&&(id+="_"+key+"="+$state.params[key]);return id}return ionic.Utils.nextUid()},goToHistoryRoot:function(historyId){if(historyId){var hist=$rootScope.$viewHistory.histories[historyId];if(hist&&hist.stack.length){if($rootScope.$viewHistory.currentView&&$rootScope.$viewHistory.currentView.viewId===hist.stack[0].viewId)return;$rootScope.$viewHistory.forcedNav={viewId:hist.stack[0].viewId,navAction:"moveBack",navDirection:"back"},hist.stack[0].go()}}},_getViewById:function(viewId){return viewId?$rootScope.$viewHistory.views[viewId]:null},_getBackView:function(view){return view?this._getViewById(view.backViewId):null},_getForwardView:function(view){return view?this._getViewById(view.forwardViewId):null},_getHistoryById:function(historyId){return historyId?$rootScope.$viewHistory.histories[historyId]:null},_getHistory:function(scope){var histObj=this._getParentHistoryObj(scope);return $rootScope.$viewHistory.histories[histObj.historyId]||($rootScope.$viewHistory.histories[histObj.historyId]={historyId:histObj.historyId,parentHistoryId:this._getParentHistoryObj(histObj.scope.$parent).historyId,stack:[],cursor:-1}),$rootScope.$viewHistory.histories[histObj.historyId]},_getParentHistoryObj:function(scope){for(var parentScope=scope;parentScope;){if(parentScope.hasOwnProperty("$historyId"))return{historyId:parentScope.$historyId,scope:parentScope};parentScope=parentScope.$parent}return{historyId:"root",scope:$rootScope}},getRenderer:function(navViewElement,navViewAttrs,navViewScope){function getParentAnimationClass(el){for(var className="";!className&&el;)className=el.getAttribute("animation"),el=el.parentElement;return className}function setAnimationClass(){animationClass&&navViewElement[0].classList.add(animationClass),"back"===registerData.navDirection?navViewElement[0].classList.add("reverse"):navViewElement[0].classList.remove("reverse")}var registerData,doAnimation,service=this,animationClass=angular.isDefined(navViewScope.$nextAnimation)?navViewScope.$nextAnimation:getParentAnimationClass(navViewElement[0]);return navViewScope.$nextAnimation=void 0,function(shouldAnimate){return{enter:function(element){return doAnimation&&shouldAnimate?(setAnimationClass(),element.addClass("ng-enter"),document.body.classList.add("disable-pointer-events"),void $animate.enter(element,navViewElement,null,function(){document.body.classList.remove("disable-pointer-events"),animationClass&&navViewElement[0].classList.remove(animationClass)})):void navViewElement.append(element)},leave:function(){var element=navViewElement.contents();return doAnimation&&shouldAnimate?(setAnimationClass(),void $animate.leave(element,function(){element.remove()})):void element.remove()},register:function(element){return registerData=service.register(navViewScope,element),doAnimation=null!==animationClass&&null!==registerData.navDirection,registerData}}}},disableRegisterByTagName:function(tagName){$rootScope.$viewHistory.disabledRegistrableTagNames.push(tagName.toUpperCase())},isTagNameRegistrable:function(element){var x,y,disabledTags=$rootScope.$viewHistory.disabledRegistrableTagNames;for(x=0;x<element.length;x++)if(1===element[x].nodeType)for(y=0;y<disabledTags.length;y++)if(element[x].tagName===disabledTags[y])return!1;return!0},clearHistory:function(){var histories=$rootScope.$viewHistory.histories,currentView=$rootScope.$viewHistory.currentView;for(var historyId in histories)histories[historyId].stack&&(histories[historyId].stack=[],histories[historyId].cursor=-1),currentView.historyId===historyId?(currentView.backViewId=null,currentView.forwardViewId=null,histories[historyId].stack.push(currentView)):histories[historyId].destroy&&histories[historyId].destroy();for(var viewId in $rootScope.$viewHistory.views)viewId!==currentView.viewId&&delete $rootScope.$viewHistory.views[viewId];this.setNavViews(currentView.viewId)}}}]),angular.module("ionic.decorator.location",[]).config(["$provide",function($provide){$provide.decorator("$location",["$delegate","$timeout",$LocationDecorator])}]),function(){"use strict";angular.module("ionic.ui.service.scrollDelegate",[]).factory("$ionicScrollDelegate",["$rootScope","$timeout","$q","$anchorScroll","$location","$document",function($rootScope,$timeout,$q,$anchorScroll,$location){return{scrollTop:function(animate){$rootScope.$broadcast("scroll.scrollTop",animate)
},scrollBottom:function(animate){$rootScope.$broadcast("scroll.scrollBottom",animate)},scrollTo:function(left,top,animate){$rootScope.$broadcast("scroll.scrollTo",left,top,animate)},anchorScroll:function(animate){$rootScope.$broadcast("scroll.anchorScroll",animate)},resize:function(){$rootScope.$broadcast("scroll.resize")},tapScrollToTop:function(element,animate){var _this=this;angular.isDefined(animate)||(animate=!0),ionic.on("tap",function(e){var target=e.target;if(!ionic.DomUtil.getParentOrSelfWithClass(target,"button")){var el=element[0],bounds=el.getBoundingClientRect();ionic.DomUtil.rectContains(e.gesture.touches[0].pageX,e.gesture.touches[0].pageY,bounds.left,bounds.top,bounds.left+bounds.width,bounds.top+20)&&_this.scrollTop(animate)}},element[0])},finishRefreshing:function($scope){$scope.$broadcast("scroll.refreshComplete")},getScrollView:function($scope){return $scope.scrollView},register:function($scope,$element,scrollView){function scrollViewResize(){return $timeout(function(){scrollView.resize()})}var scrollEl=$element[0];$element.on("scroll",function(e){var detail=(e.originalEvent||e).detail||{};$scope.$onScroll&&$scope.$onScroll({event:e,scrollTop:detail.scrollTop||0,scrollLeft:detail.scrollLeft||0})}),$scope.$parent.$on("scroll.resize",scrollViewResize),$scope.$parent.$on("scroll.refreshComplete",function(){scrollView.finishPullToRefresh()}),$scope.$parent.$on("scroll.anchorScroll",function(e,animate){scrollViewResize().then(function(){var elm,hash=$location.hash();if(hash&&(elm=document.getElementById(hash))){var scroll=ionic.DomUtil.getPositionInParent(elm,scrollEl);scrollView.scrollTo(scroll.left,scroll.top,!!animate)}else scrollView.scrollTo(0,0,!!animate)})}),$scope.$parent.$on("scroll.scrollTo",function(e,left,top,animate){scrollViewResize().then(function(){scrollView.scrollTo(left,top,!!animate)})}),$scope.$parent.$on("scroll.scrollTop",function(e,animate){scrollViewResize().then(function(){scrollView.scrollTo(0,0,!!animate)})}),$scope.$parent.$on("scroll.scrollBottom",function(e,animate){scrollViewResize().then(function(){var sv=scrollView;if(sv){var max=sv.getScrollMax();sv.scrollTo(max.left,max.top,!!animate)}})})}}}])}(ionic),function(){"use strict";angular.module("ionic.ui.service.sideMenuDelegate",[]).factory("$ionicSideMenuDelegate",["$rootScope","$timeout","$q",function(){return{getSideMenuController:function($scope){return $scope.sideMenuController},close:function($scope){$scope.sideMenuController&&$scope.sideMenuController.close()},toggleLeft:function($scope){$scope.sideMenuController&&$scope.sideMenuController.toggleLeft()},toggleRight:function($scope){$scope.sideMenuController&&$scope.sideMenuController.toggleRight()},openLeft:function($scope){$scope.sideMenuController&&$scope.sideMenuController.openPercentage(100)},openRight:function($scope){$scope.sideMenuController&&$scope.sideMenuController.openPercentage(-100)}}}])}(),function(){"use strict";angular.module("ionic.ui.service.slideBoxDelegate",[]).factory("$ionicSlideBoxDelegate",["$rootScope","$timeout",function($rootScope,$timeout){return{update:function(){$rootScope.$broadcast("slideBox.update")},register:function($scope){$scope.$parent.$on("slideBox.update",function(e){e.defaultPrevented||($timeout(function(){$scope.$parent.slideBoxController.setup()}),e.preventDefault())})}}}])}(ionic),function(){"use strict";angular.module("ionic.ui.actionSheet",[]).directive("ionActionSheet",["$document",function($document){return{restrict:"E",scope:!0,replace:!0,link:function($scope,$element){var keyUp=function(e){27==e.which&&($scope.cancel(),$scope.$apply())},backdropClick=function(e){e.target==$element[0]&&($scope.cancel(),$scope.$apply())};$scope.$on("$destroy",function(){$element.remove(),$document.unbind("keyup",keyUp)}),$document.bind("keyup",keyUp),$element.bind("click",backdropClick)},template:'<div class="action-sheet-backdrop"><div class="action-sheet-wrapper"><div class="action-sheet"><div class="action-sheet-group"><div class="action-sheet-title" ng-if="titleText">{{titleText}}</div><button class="button" ng-click="buttonClicked($index)" ng-repeat="button in buttons">{{button.text}}</button></div><div class="action-sheet-group" ng-if="destructiveText"><button class="button destructive" ng-click="destructiveButtonClicked()">{{destructiveText}}</button></div><div class="action-sheet-group" ng-if="cancelText"><button class="button" ng-click="cancel()">{{cancelText}}</button></div></div></div></div>'}}])}(),function(ionic){"use strict";angular.module("ionic.ui.header",["ngAnimate","ngSanitize"]).directive("barHeader",["$ionicScrollDelegate",function($ionicScrollDelegate){return{restrict:"C",link:function($scope,$element){$ionicScrollDelegate.tapScrollToTop($element)}}}]).directive("ionHeaderBar",["$ionicScrollDelegate",function(){return{restrict:"E",replace:!0,transclude:!0,template:'<header class="bar bar-header">                <div class="buttons">                  <button ng-repeat="button in leftButtons" class="button no-animation" ng-class="button.type" ng-click="button.tap($event, $index)" ng-bind-html="button.content">                  </button>                </div>                <h1 class="title" ng-bind-html="title"></h1>                <div class="buttons">                  <button ng-repeat="button in rightButtons" class="button no-animation" ng-class="button.type" ng-click="button.tap($event, $index)" ng-bind-html="button.content">                  </button>                </div>              </header>',scope:{leftButtons:"=",rightButtons:"=",title:"@",type:"@",alignTitle:"@"},link:function($scope,$element){var hb=new ionic.views.HeaderBar({el:$element[0],alignTitle:$scope.alignTitle||"center"});$element.addClass($scope.type),$scope.headerBarView=hb,$scope.$watchCollection("leftButtons",function(){hb.align()}),$scope.$watchCollection("rightButtons",function(){hb.align()}),$scope.$watch("title",function(){hb.align()})}}}]).directive("ionFooterBar",function(){return{restrict:"E",replace:!0,transclude:!0,template:'<footer class="bar bar-footer" ng-transclude>              </footer>',scope:{type:"@"},link:function($scope,$element){$element.addClass($scope.type)}}})}(ionic),function(){"use strict";angular.module("ionic.ui.checkbox",[]).directive("ionCheckbox",function(){return{restrict:"E",replace:!0,require:"?ngModel",scope:{ngModel:"=?",ngValue:"=?",ngChecked:"=?",ngChange:"&"},transclude:!0,template:'<div class="item item-checkbox disable-pointer-events"><label class="checkbox enable-pointer-events"><input type="checkbox" ng-model="ngModel" ng-value="ngValue" ng-change="ngChange()"></label><div class="item-content" ng-transclude></div></div>',compile:function(element,attr){var input=element.find("input");attr.name&&input.attr("name",attr.name),attr.ngChecked&&input.attr("ng-checked","ngChecked"),attr.ngTrueValue&&input.attr("ng-true-value",attr.ngTrueValue),attr.ngFalseValue&&input.attr("ng-false-value",attr.ngFalseValue)}}})}(),function(){"use strict";angular.module("ionic.ui.content",["ionic.ui.service","ionic.ui.scroll"]).directive("ionPane",function(){return{restrict:"E",link:function(scope,element){element.addClass("pane")}}}).directive("ionContent",["$parse","$timeout","$ionicScrollDelegate","$controller","$ionicBind",function($parse,$timeout,$ionicScrollDelegate,$controller,$ionicBind){return{restrict:"E",replace:!0,transclude:!0,require:"^?ionNavView",scope:!0,template:'<div class="scroll-content"><div class="scroll"></div></div>',compile:function(element,attr,transclude){function prelink($scope,$element,$attr){var scrollView,scrollCtrl,scrollContent=angular.element($element[0].querySelector(".scroll"));$ionicBind($scope,$attr,{$onScroll:"&onScroll",$onScrollComplete:"&onScrollComplete",hasBouncing:"@",scroll:"@",padding:"@",hasScrollX:"@",hasScrollY:"@",scrollbarX:"@",scrollbarY:"@",startX:"@",startY:"@",scrollEventInterval:"@"}),"false"===$scope.scroll||("true"===attr.overflowScroll?$element.addClass("overflow-scroll"):(scrollCtrl=$controller("$ionicScroll",{$scope:$scope,scrollViewOptions:{el:$element[0],bouncing:$scope.$eval($scope.hasBouncing),startX:$scope.$eval($scope.startX)||0,startY:$scope.$eval($scope.startY)||0,scrollbarX:$scope.$eval($scope.scrollbarX)!==!1,scrollbarY:$scope.$eval($scope.scrollbarY)!==!1,scrollingX:$scope.$eval($scope.hasScrollX)===!0,scrollingY:$scope.$eval($scope.hasScrollY)!==!1,scrollEventInterval:parseInt($scope.scrollEventInterval,10)||20,scrollingComplete:function(){$scope.$onScrollComplete({scrollTop:this.__scrollTop,scrollLeft:this.__scrollLeft})}}}),scrollView=$scope.$parent.scrollView=scrollCtrl.scrollView,$scope.$on("$viewContentLoaded",function(e,viewHistoryData){viewHistoryData||(viewHistoryData={});var scroll=viewHistoryData.scrollValues;scroll&&$timeout(function(){scrollView.scrollTo(+scroll.left||null,+scroll.top||null)},0),$scope.$on("$destroy",function(){viewHistoryData.scrollValues=scrollView.getValues()})}))),transclude($scope,function(clone){scrollCtrl&&clone.data("$$ionicScrollController",scrollCtrl),scrollContent.append(clone)})}return"true"==attr.hasHeader&&element.addClass("has-header"),"true"==attr.hasSubheader&&element.addClass("has-subheader"),"true"==attr.hasFooter&&element.addClass("has-footer"),"true"==attr.hasTabs&&element.addClass("has-tabs"),"true"==attr.padding&&element.find("div").addClass("padding"),{pre:prelink}}}}]).directive("ionRefresher",["$ionicBind",function($ionicBind){return{restrict:"E",replace:!0,require:"^$ionicScroll",template:'<div class="scroll-refresher"><div class="ionic-refresher-content"><i class="icon {{pullingIcon}} icon-pulling"></i><span class="icon-pulling" ng-bind-html="pullingText"></span><i class="icon {{refreshingIcon}} icon-refreshing"></i><span class="icon-refreshing" ng-bind-html="refreshingText"></span></div></div>',compile:function($element,$attrs){return angular.isUndefined($attrs.pullingIcon)&&$attrs.$set("pullingIcon","ion-arrow-down-c"),angular.isUndefined($attrs.refreshingIcon)&&$attrs.$set("refreshingIcon","ion-loading-d"),function($scope,$element,$attrs,scrollCtrl){$ionicBind($scope,$attrs,{pullingIcon:"@",pullingText:"@",refreshingIcon:"@",refreshingText:"@",$onRefresh:"&onRefresh",$onPulling:"&onPulling"}),scrollCtrl.setRefresher($scope,$element[0]),$scope.$on("scroll.refreshComplete",function(){$element[0].classList.remove("active"),scrollCtrl.scrollView.finishPullToRefresh()})}}}}]).directive("ionInfiniteScroll",["$timeout",function($timeout){return{restrict:"E",require:["^$ionicScroll","ionInfiniteScroll"],template:'<div class="scroll-infinite"><div class="scroll-infinite-content"><i class="icon {{icon()}} icon-refreshing"></i></div></div>',scope:!0,controller:["$scope","$attrs",function($scope,$attrs){this.isLoading=!1,this.scrollView=null,this.getMaxScroll=function(){var dist=$attrs.distance||"1%";return dist.indexOf("%")>-1?this.scrollView.getScrollMax().top*(1-parseInt(dist,10)/100):this.scrollView.getScrollMax().top-parseInt(dist,10)}}],link:function($scope,$element,$attrs,ctrls){var scrollCtrl=ctrls[0],infiniteScrollCtrl=ctrls[1],scrollView=infiniteScrollCtrl.scrollView=scrollCtrl.scrollView;$scope.icon=function(){return angular.isDefined($attrs.icon)?$attrs.icon:"ion-loading-d"},$scope.$on("scroll.infiniteScrollComplete",function(){$element[0].classList.remove("active"),$timeout(function(){scrollView.resize()},0,!1),infiniteScrollCtrl.isLoading=!1}),scrollCtrl.$element.on("scroll",ionic.animationFrameThrottle(function(){!infiniteScrollCtrl.isLoading&&scrollView.getValues().top>=infiniteScrollCtrl.getMaxScroll()&&($element[0].classList.add("active"),infiniteScrollCtrl.isLoading=!0,$scope.$parent.$apply($attrs.onInfinite||""))}))}}}])}(),function(){"use strict";angular.module("ionic.ui.list",["ngAnimate"]).directive("ionItem",["$timeout","$parse",function(){return{restrict:"E",require:"?^ionList",replace:!0,transclude:!0,scope:{item:"=",itemType:"@",canDelete:"@",canReorder:"@",canSwipe:"@",onDelete:"&",optionButtons:"&",deleteIcon:"@",reorderIcon:"@"},template:'<div class="item item-complex">            <div class="item-edit" ng-if="deleteClick !== undefined">              <button class="button button-icon icon" ng-class="deleteIconClass" ng-click="deleteClick()" ion-stop-event="click"></button>            </div>            <a class="item-content" ng-href="{{ href }}" ng-transclude></a>            <div class="item-drag" ng-if="reorderIconClass !== undefined">              <button data-ionic-action="reorder" class="button button-icon icon" ng-class="reorderIconClass"></button>            </div>            <div class="item-options" ng-if="itemOptionButtons">             <button ng-click="b.onTap(item, b)" ion-stop-event="click" class="button" ng-class="b.type" ng-repeat="b in itemOptionButtons" ng-bind="b.text"></button>           </div>          </div>',link:function($scope,$element,$attr,list){if(list){var $parentScope=list.scope,$parentAttrs=list.attrs;$attr.$observe("href",function(value){value&&($scope.href=value.trim())}),$scope.itemType||($scope.itemType=$parentScope.itemType),$element.addClass($scope.itemType||$parentScope.itemType),$scope.itemClass=$scope.itemType,"false"!==($attr.canDelete?$scope.canDelete:$parentScope.canDelete)&&($attr.onDelete||$parentAttrs.onDelete)&&($scope.deleteClick=function(){$attr.onDelete?$scope.onDelete({item:$scope.item}):$parentAttrs.onDelete&&$parentScope.onDelete({item:$scope.item})},$scope.deleteIconClass=$scope.deleteIcon||$parentScope.deleteIcon||"ion-minus-circled"),"true"===($attr.canReorder?$scope.canReorder:$parentScope.canReorder)&&($scope.reorderIconClass=$scope.reorderIcon||$parentScope.reorderIcon||"ion-navicon"),"false"!==($attr.canSwipe?$scope.canSwipe:$parentScope.canSwipe)&&($scope.itemOptionButtons=$scope.optionButtons(),"undefined"==typeof $scope.itemOptionButtons&&($scope.itemOptionButtons=$parentScope.optionButtons()))}}}}]).directive("ionList",["$timeout",function($timeout){return{restrict:"E",replace:!0,transclude:!0,require:"^?$ionicScroll",scope:{itemType:"@",canDelete:"@",canReorder:"@",canSwipe:"@",showDelete:"=",showReorder:"=",onDelete:"&",onReorder:"&",optionButtons:"&",deleteIcon:"@",reorderIcon:"@"},template:"<div class=\"list\" ng-class=\"{'list-editing': showDelete, 'list-reordering': showReorder}\" ng-transclude></div>",controller:["$scope","$attrs",function($scope,$attrs){this.scope=$scope,this.attrs=$attrs}],link:function($scope,$element,$attr,ionicScrollCtrl){$scope.listView=new ionic.views.ListView({el:$element[0],listEl:$element[0].children[0],scrollEl:ionicScrollCtrl&&ionicScrollCtrl.element,scrollView:ionicScrollCtrl&&ionicScrollCtrl.scrollView,onReorder:function(el,oldIndex,newIndex){$scope.$apply(function(){$scope.onReorder({el:el,start:oldIndex,end:newIndex})})}}),$attr.animation&&$element[0].classList.add($attr.animation);var destroyShowReorderWatch=$scope.$watch("showReorder",function(val){val?$element[0].classList.add("item-options-hide"):val===!1&&$timeout(function(){$element[0].classList.remove("item-options-hide")},250)});$scope.$on("$destroy",function(){destroyShowReorderWatch()})}}}])}(),function(){"use strict";angular.module("ionic.ui.loading",[]).directive("ionLoading",function(){return{restrict:"E",replace:!0,transclude:!0,link:function($scope,$element){$element.addClass($scope.animation||"")},template:'<div class="loading-backdrop" ng-class="{enabled: showBackdrop}"><div class="loading" ng-transclude></div></div>'}})}(),function(){"use strict";angular.module("ionic.ui.modal",[]).directive("ionModal",[function(){return{restrict:"E",transclude:!0,replace:!0,template:'<div class="modal-backdrop"><div class="modal-wrapper" ng-transclude></div></div>'}}])}(),function(){angular.module("ionic.ui.navAnimation",[]).directive("ionNavAnimation",function(){return{restrict:"A",require:"^?ionNavView",link:function($scope,$element,$attrs,navViewCtrl){navViewCtrl&&ionic.on("tap",function(){navViewCtrl.setNextAnimation($attrs.ionNavAnimation)},$element[0])}}})}(),function(){"use strict";angular.module("ionic.ui.popup",[]).directive("ionPopupBackdrop",function(){return{restrict:"E",replace:!0,template:'<div class="popup-backdrop"></div>'}}).directive("ionPopup",["$ionicBind",function($ionicBind){return{restrict:"E",replace:!0,transclude:!0,scope:!0,link:function($scope,$element,$attr){$ionicBind($scope,$attr,{title:"@",buttons:"=",$onButtonTap:"&onButtonTap",$onClose:"&onClose"}),$scope._buttonTapped=function(button,event){var result=button.onTap&&button.onTap(event);return event.defaultPrevented?$scope.$onClose({button:button,result:!1,event:event}):result?$scope.$onClose({button:button,result:result,event:event}):void $scope.$onButtonTap({button:button,event:event})}},template:'<div class="popup"><div class="popup-head"><h3 class="popup-title" ng-bind-html="title"></h3><h5 class="popup-sub-title" ng-bind-html="subTitle" ng-if="subTitle"></h5></div><div class="popup-body" ng-transclude></div><div class="popup-buttons row"><button ng-repeat="button in buttons" ng-click="_buttonTapped(button, $event)" class="button col" ng-class="button.type || \'button-default\'" ng-bind-html="button.text"></button></div></div>'}}])}(),function(ionic){"use strict";angular.module("ionic.ui.radio",[]).directive("ionRadio",function(){return{restrict:"E",replace:!0,require:"?ngModel",scope:{ngModel:"=?",ngValue:"=?",ngChange:"&",icon:"@"},transclude:!0,template:'<label class="item item-radio"><input type="radio" name="radio-group" ng-model="ngModel" ng-value="ngValue" ng-change="ngChange()"><div class="item-content disable-pointer-events" ng-transclude></div><i class="radio-icon disable-pointer-events icon ion-checkmark"></i></label>',compile:function(element,attr){attr.name&&element.children().eq(0).attr("name",attr.name),attr.icon&&element.children().eq(2).removeClass("ion-checkmark").addClass(attr.icon)}}}).directive("ionRadioButtons",function(){return{restrict:"E",replace:!0,require:"?ngModel",scope:{value:"@"},transclude:!0,template:'<div class="button-bar button-bar-inline" ng-transclude></div>',controller:["$scope","$element",function($scope,$element){this.select=function(element){for(var c,children=$element.children(),i=0;i<children.length;i++)c=children[i],c!=element[0]&&c.classList.remove("active")}}],link:function($scope,$element,$attr,ngModel){ngModel&&(ngModel.$render=function(){for(var children=$element.children(),i=0;i<children.length;i++)children[i].classList.remove("active");$scope.$parent.$broadcast("radioButton.select",ngModel.$viewValue)})}}}).directive("ionButtonRadio",function(){return{restrict:"CA",require:["?^ngModel","?^ionRadioButtons"],link:function($scope,$element,$attr,ctrls){var ngModel=ctrls[0],radioButtons=ctrls[1];if(ngModel&&radioButtons){var setIt=function(){$element.addClass("active"),ngModel.$setViewValue($scope.$eval($attr.ngValue)),radioButtons.select($element)},clickHandler=function(){setIt()};$scope.$on("radioButton.select",function(e,val){val==$scope.$eval($attr.ngValue)&&$element.addClass("active")}),ionic.on("tap",clickHandler,$element[0]),$scope.$on("$destroy",function(){ionic.off("tap",clickHandler)})}}}})}(window.ionic),function(){"use strict";angular.module("ionic.ui.scroll",[]).directive("ionScroll",["$parse","$timeout","$controller",function($parse,$timeout,$controller){return{restrict:"E",replace:!0,template:'<div class="scroll-view"><div class="scroll" ng-transclude></div></div>',transclude:!0,scope:{direction:"@",paging:"@",onRefresh:"&",onScroll:"&",scroll:"@",scrollbarX:"@",scrollbarY:"@"},controller:function(){},compile:function(element,attr){function prelink($scope,$element){var scrollView,scrollCtrl,sc=$element[0].children[0];"true"==attr.padding&&sc.classList.add("padding"),$scope.$eval($scope.paging)===!0&&sc.classList.add("scroll-paging"),$scope.direction||($scope.direction="y");var isPaging=$scope.$eval($scope.paging)===!0,scrollViewOptions={el:$element[0],paging:isPaging,scrollbarX:$scope.$eval($scope.scrollbarX)!==!1,scrollbarY:$scope.$eval($scope.scrollbarY)!==!1,scrollingX:$scope.direction.indexOf("x")>=0,scrollingY:$scope.direction.indexOf("y")>=0};isPaging&&(scrollViewOptions.speedMultiplier=.8,scrollViewOptions.bouncing=!1),scrollCtrl=$controller("$ionicScroll",{$scope:$scope,scrollViewOptions:scrollViewOptions}),scrollView=$scope.$parent.scrollView=scrollCtrl.scrollView}return{pre:prelink}}}}])}(),function(){"use strict";angular.module("ionic.ui.sideMenu",["ionic.service.gesture","ionic.service.view"]).run(["$ionicViewService",function($ionicViewService){$ionicViewService.disableRegisterByTagName("ion-side-menus")}]).directive("ionSideMenus",function(){return{restrict:"ECA",controller:["$scope","$attrs","$parse",function($scope,$attrs,$parse){angular.extend(this,ionic.controllers.SideMenuController.prototype),ionic.controllers.SideMenuController.call(this,{left:{width:275},right:{width:275}}),$scope.sideMenuContentTranslateX=0,$parse($attrs.model||"sideMenuController").assign($scope,this)}],replace:!0,transclude:!0,template:'<div class="view" ng-transclude></div>'}}).directive("ionSideMenuContent",["$timeout","$ionicGesture",function($timeout,$ionicGesture){return{restrict:"AC",require:"^ionSideMenus",scope:!0,compile:function(element,attr){return function($scope,$element,$attr,sideMenuCtrl){function contentTap(e){0!==sideMenuCtrl.getOpenAmount()&&(sideMenuCtrl.close(),e.gesture.srcEvent.preventDefault())}$element.addClass("menu-content"),angular.isDefined(attr.dragContent)?$scope.$watch(attr.dragContent,function(value){$scope.dragContent=value}):$scope.dragContent=!0;var defaultPrevented=!1,isDragging=!1;ionic.on("tap",contentTap,$element[0]);var dragFn=function(e){if($scope.dragContent){if(defaultPrevented||e.gesture.srcEvent.defaultPrevented)return;isDragging=!0,sideMenuCtrl._handleDrag(e),e.gesture.srcEvent.preventDefault()}},dragVertFn=function(e){isDragging&&e.gesture.srcEvent.preventDefault()},dragRightGesture=$ionicGesture.on("dragright",dragFn,$element),dragLeftGesture=$ionicGesture.on("dragleft",dragFn,$element),dragUpGesture=$ionicGesture.on("dragup",dragVertFn,$element),dragDownGesture=$ionicGesture.on("dragdown",dragVertFn,$element),dragReleaseFn=function(e){isDragging=!1,defaultPrevented||sideMenuCtrl._endDrag(e),defaultPrevented=!1},releaseGesture=$ionicGesture.on("release",dragReleaseFn,$element);sideMenuCtrl.setContent({onDrag:function(){},endDrag:function(){},getTranslateX:function(){return $scope.sideMenuContentTranslateX||0},setTranslateX:ionic.animationFrameThrottle(function(amount){$element[0].style[ionic.CSS.TRANSFORM]="translate3d("+amount+"px, 0, 0)",$timeout(function(){$scope.sideMenuContentTranslateX=amount})}),enableAnimation:function(){$scope.animationEnabled=!0,$element[0].classList.add("menu-animated")},disableAnimation:function(){$scope.animationEnabled=!1,$element[0].classList.remove("menu-animated")}}),$scope.$on("$destroy",function(){$ionicGesture.off(dragLeftGesture,"dragleft",dragFn),$ionicGesture.off(dragRightGesture,"dragright",dragFn),$ionicGesture.off(dragUpGesture,"dragup",dragFn),$ionicGesture.off(dragDownGesture,"dragdown",dragFn),$ionicGesture.off(releaseGesture,"release",dragReleaseFn),ionic.off("tap",contentTap,$element[0])})}}}}]).directive("ionSideMenu",function(){return{restrict:"E",require:"^ionSideMenus",replace:!0,transclude:!0,scope:!0,template:'<div class="menu menu-{{side}}"></div>',compile:function(element,attr,transclude){return angular.isUndefined(attr.isEnabled)&&attr.$set("isEnabled","true"),angular.isUndefined(attr.width)&&attr.$set("width","275"),function($scope,$element,$attr,sideMenuCtrl){$scope.side=$attr.side||"left";var sideMenu=sideMenuCtrl[$scope.side]=new ionic.views.SideMenu({width:275,el:$element[0],isEnabled:!0});$scope.$watch($attr.width,function(val){var numberVal=+val;numberVal&&numberVal==val&&sideMenu.setWidth(+val)}),$scope.$watch($attr.isEnabled,function(val){sideMenu.setIsEnabled(!!val)}),transclude($scope,function(clone){$element.append(clone)})}}}})}(),function(){"use strict";angular.module("ionic.ui.slideBox",[]).directive("ionSlideBox",["$timeout","$compile","$ionicSlideBoxDelegate",function($timeout,$compile,$ionicSlideBoxDelegate){return{restrict:"E",replace:!0,transclude:!0,scope:{doesContinue:"@",slideInterval:"@",showPager:"@",disableScroll:"@",onSlideChanged:"&",activeSlide:"=?"},controller:["$scope","$element","$attrs","$parse",function($scope,$element,$attrs,$parse){var continuous=$scope.$eval($scope.doesContinue)===!0,slideInterval=continuous?$scope.$eval($scope.slideInterval)||4e3:0,slider=new ionic.views.Slider({el:$element[0],auto:slideInterval,disableScroll:$scope.$eval($scope.disableScroll)===!0||!1,continuous:continuous,startSlide:$scope.activeSlide,slidesChanged:function(){$scope.currentSlide=slider.currentIndex(),$timeout(function(){})},callback:function(slideIndex){$scope.currentSlide=slideIndex,$scope.onSlideChanged({index:$scope.currentSlide}),$scope.$parent.$broadcast("slideBox.slideChanged",slideIndex),$scope.activeSlide=slideIndex,$timeout(function(){})}});$scope.$watch("activeSlide",function(nv){angular.isDefined(nv)&&slider.slide(nv)}),$scope.$on("slideBox.nextSlide",function(){slider.next()}),$scope.$on("slideBox.prevSlide",function(){slider.prev()}),$scope.$on("slideBox.setSlide",function(e,index){slider.slide(index)}),$parse($attrs.model||"slideBoxController").assign($scope.$parent,slider),$ionicSlideBoxDelegate.register($scope,$element),this.slidesCount=function(){return slider.slidesCount()},$timeout(function(){slider.load()})}],template:'<div class="slider">            <div class="slider-slides" ng-transclude>            </div>          </div>',link:function($scope,$element){if($scope.$eval($scope.showPager)!==!1){var childScope=$scope.$new(),pager=angular.element("<ion-pager></ion-pager>");$element.append(pager),$compile(pager)(childScope)}}}}]).directive("ionSlide",function(){return{restrict:"E",require:"^ionSlideBox",compile:function(element){return element.addClass("slider-slide"),function(){}}}}).directive("ionPager",function(){return{restrict:"E",replace:!0,require:"^ionSlideBox",template:'<div class="slider-pager"><span class="slider-pager-page" ng-repeat="slide in numSlides() track by $index" ng-class="{active: $index == currentSlide}"><i class="icon ion-record"></i></span></div>',link:function($scope,$element,$attr,slideBox){var selectPage=function(index){for(var children=$element[0].children,length=children.length,i=0;length>i;i++)i==index?children[i].classList.add("active"):children[i].classList.remove("active")};$scope.numSlides=function(){return new Array(slideBox.slidesCount())},$scope.$watch("currentSlide",function(v){selectPage(v)})}}})}(),angular.module("ionic.ui.tabs",["ionic.service.view"]).run(["$ionicViewService",function($ionicViewService){$ionicViewService.disableRegisterByTagName("ion-tabs")}]).controller("ionicTabs",["$scope","$ionicViewService","$element",function($scope,$ionicViewService){var _selectedTab=null,self=this;self.tabs=[],self.selectedTabIndex=function(){return self.tabs.indexOf(_selectedTab)},self.selectedTab=function(){return _selectedTab},self.add=function(tab){$ionicViewService.registerHistory(tab),self.tabs.push(tab),1===self.tabs.length&&self.select(tab)},self.remove=function(tab){var tabIndex=self.tabs.indexOf(tab);if(-1!==tabIndex){if(tab.$tabSelected)if(self.deselect(tab),1===self.tabs.length);else{var newTabIndex=tabIndex===self.tabs.length-1?tabIndex-1:tabIndex+1;self.select(self.tabs[newTabIndex])}self.tabs.splice(tabIndex,1)}},self.deselect=function(tab){tab.$tabSelected&&(_selectedTab=null,tab.$tabSelected=!1,(tab.onDeselect||angular.noop)())},self.select=function(tab,shouldEmitEvent){var tabIndex;if(angular.isNumber(tab)?(tabIndex=tab,tab=self.tabs[tabIndex]):tabIndex=self.tabs.indexOf(tab),!tab||-1==tabIndex)throw new Error('Cannot select tab "'+tabIndex+'"!');if(_selectedTab&&_selectedTab.$historyId==tab.$historyId)shouldEmitEvent&&$ionicViewService.goToHistoryRoot(tab.$historyId);else if(angular.forEach(self.tabs,function(tab){self.deselect(tab)}),_selectedTab=tab,tab.$tabSelected=!0,(tab.onSelect||angular.noop)(),shouldEmitEvent){var viewData={type:"tab",tabIndex:tabIndex,historyId:tab.$historyId,navViewName:tab.navViewName,hasNavView:!!tab.navViewName,title:tab.title,url:tab.href,uiSref:tab.uiSref};$scope.$emit("viewState.changeHistory",viewData)}}}]).directive("ionTabs",["$ionicViewService","$ionicBind","$parse",function($ionicViewService,$ionicBind,$parse){return{restrict:"E",replace:!0,scope:!0,transclude:!0,controller:"ionicTabs",template:'<div class="view {{$animation}}"><div class="tabs {{$tabsStyle}} {{$tabsType}}"></div></div>',compile:function(element,attr,transclude){return angular.isUndefined(attr.tabsType)&&attr.$set("tabsType","tabs-positive"),function($scope,$element,$attr,tabsCtrl){$ionicBind($scope,$attr,{$animation:"@animation",$tabsStyle:"@tabsStyle",$tabsType:"@tabsType"}),$parse(attr.model||"tabsController").assign($scope,tabsCtrl),tabsCtrl.$scope=$scope,tabsCtrl.$element=$element,tabsCtrl.$tabsElement=angular.element($element[0].querySelector(".tabs")),transclude($scope,function(clone){$element.append(clone)})}}}}]).controller("ionicTab",["$scope","$ionicViewService","$rootScope","$element",function($scope){this.$scope=$scope}]).directive("ionTab",["$rootScope","$animate","$ionicBind","$compile","$ionicViewService",function($rootScope,$animate,$ionicBind,$compile,$ionicViewService){function attrStr(k,v){return angular.isDefined(v)?" "+k+'="'+v+'"':""}return{restrict:"E",require:["^ionTabs","ionTab"],replace:!0,controller:"ionicTab",scope:!0,compile:function(element,attr){var navView=element[0].querySelector("ion-nav-view")||element[0].querySelector("data-ion-nav-view"),navViewName=navView&&navView.getAttribute("name"),tabContent=angular.element('<div class="pane">').append(element.contents().remove());return function($scope,$element,$attr,ctrls){function selectTabIfMatchesState(){$ionicViewService.isCurrentStateNavView($scope.navViewName)&&tabsCtrl.select($scope)}var childScope,childElement,tabNavElement;tabsCtrl=ctrls[0],tabCtrl=ctrls[1],$ionicBind($scope,$attr,{animate:"=",onSelect:"&",onDeselect:"&",title:"@",uiSref:"@",href:"@"}),tabsCtrl.add($scope),$scope.$on("$destroy",function(){tabsCtrl.remove($scope),tabNavElement.isolateScope().$destroy(),tabNavElement.remove()}),navViewName&&($scope.navViewName=navViewName,$scope.$on("$stateChangeSuccess",selectTabIfMatchesState),selectTabIfMatchesState()),tabNavElement=angular.element("<ion-tab-nav"+attrStr("ng-click",attr.ngClick)+attrStr("title",attr.title)+attrStr("icon",attr.icon)+attrStr("icon-on",attr.iconOn)+attrStr("icon-off",attr.iconOff)+attrStr("badge",attr.badge)+attrStr("badge-style",attr.badgeStyle)+"></ion-tab-nav>"),tabNavElement.data("$ionTabsController",tabsCtrl),tabNavElement.data("$ionTabController",tabCtrl),tabsCtrl.$tabsElement.append($compile(tabNavElement)($scope)),$scope.$watch("$tabSelected",function(value){value||$scope.$broadcast("tab.hidden",$scope),childScope&&childScope.$destroy(),childScope=null,childElement&&$animate.leave(childElement),childElement=null,value&&(childScope=$scope.$new(),childElement=tabContent.clone(),$animate.enter(childElement,tabsCtrl.$element),$compile(childElement)(childScope),$scope.$broadcast("tab.shown",$scope))})}}}}]).directive("ionTabNav",["$ionicNgClick",function($ionicNgClick){return{restrict:"E",replace:!0,require:["^ionTabs","^ionTab"],template:'<a ng-class="{active: isTabActive(), \'has-badge\':badge}"  class="tab-item"><span class="badge {{badgeStyle}}" ng-if="badge">{{badge}}</span><i class="icon {{getIconOn()}}" ng-if="getIconOn() && isTabActive()"></i><i class="icon {{getIconOff()}}" ng-if="getIconOff() && !isTabActive()"></i><span class="tab-title" ng-bind-html="title"></span></a>',scope:{title:"@",icon:"@",iconOn:"@",iconOff:"@",badge:"=",badgeStyle:"@"},compile:function(){return function($scope,$element,$attrs,ctrls){var tabsCtrl=ctrls[0],tabCtrl=ctrls[1];$scope.selectTab=function(e){e.preventDefault(),tabsCtrl.select(tabCtrl.$scope,!0)
},$attrs.ngClick||$ionicNgClick($scope,$element,"selectTab($event)"),$scope.getIconOn=function(){return $scope.iconOn||$scope.icon},$scope.getIconOff=function(){return $scope.iconOff||$scope.icon},$scope.isTabActive=function(){return tabsCtrl.selectedTab()===tabCtrl.$scope}}}}}]),function(ionic){"use strict";angular.module("ionic.ui.toggle",[]).directive("ionToggle",["$ionicGesture","$timeout",function(){return{restrict:"E",replace:!0,require:"?ngModel",scope:{ngModel:"=?",ngValue:"=?",ngChecked:"=?",ngChange:"&",ngDisabled:"=?"},transclude:!0,template:'<div class="item item-toggle disable-pointer-events"><div ng-transclude></div><label class="toggle enable-pointer-events"><input type="checkbox" ng-model="ngModel" ng-value="ngValue" ng-change="ngChange()" ng-disabled="ngDisabled"><div class="track disable-pointer-events"><div class="handle"></div></div></label></div>',compile:function(element,attr){var input=element.find("input");return attr.name&&input.attr("name",attr.name),attr.ngChecked&&input.attr("ng-checked","ngChecked"),attr.ngTrueValue&&input.attr("ng-true-value",attr.ngTrueValue),attr.ngFalseValue&&input.attr("ng-false-value",attr.ngFalseValue),function($scope,$element){var el,checkbox,track,handle;el=$element[0].getElementsByTagName("label")[0],checkbox=el.children[0],track=el.children[1],handle=track.children[0];var ngModelController=angular.element(checkbox).controller("ngModel");$scope.toggle=new ionic.views.Toggle({el:el,track:track,checkbox:checkbox,handle:handle,onChange:function(){ngModelController.$setViewValue(checkbox.checked?!0:!1),$scope.$apply()}}),$scope.$on("$destroy",function(){$scope.toggle.destroy()})}}}}])}(window.ionic),function(angular,ionic){"use strict";angular.module("ionic.ui.touch",[]).config(["$provide",function($provide){$provide.decorator("ngClickDirective",["$delegate",function($delegate){return $delegate.shift(),$delegate}])}]).factory("$ionicNgClick",["$parse",function($parse){function onTap(e){ionic.tapElement(e.target,e)}return function(scope,element,clickExpr){var clickHandler=$parse(clickExpr);element.on("click",function(event){scope.$apply(function(){clickHandler(scope,{$event:event})})}),ionic.on("tap",onTap,element[0]),element.onclick=function(){},scope.$on("$destroy",function(){ionic.off("tap",onTap,element[0])})}}]).directive("ngClick",["$ionicNgClick",function($ionicNgClick){return function(scope,element,attr){$ionicNgClick(scope,element,attr.ngClick)}}]).directive("ionStopEvent",function(){function stopEvent(e){e.stopPropagation()}return{restrict:"A",link:function(scope,element,attr){element.bind(attr.ionStopEvent,stopEvent)}}})}(window.angular,window.ionic),function(){"use strict";angular.module("ionic.ui.viewState",["ionic.service.view","ionic.service.gesture","ngSanitize"]).directive("ionNavBar",["$ionicViewService","$rootScope","$animate","$compile",function($ionicViewService,$rootScope,$animate,$compile){return{restrict:"E",replace:!0,scope:{animation:"@",type:"@",backType:"@backButtonType",backLabel:"@backButtonLabel",backIcon:"@backButtonIcon",alignTitle:"@"},controller:function(){},template:'<header class="bar bar-header nav-bar{{navBarClass()}}"><ion-nav-back-button ng-if="(backType || backLabel || backIcon)" type="backType" label="backLabel" icon="backIcon" class="hide" ng-class="{\'hide\': !backButtonEnabled}"></ion-nav-back-button><div class="buttons left-buttons"> <button ng-click="button.tap($event)" ng-repeat="button in leftButtons" class="button no-animation {{button.type}}" ng-bind-html="button.content"></button></div><h1 ng-bind-html="title" class="title"></h1><div class="buttons right-buttons"> <button ng-click="button.tap($event)" ng-repeat="button in rightButtons" class="button no-animation {{button.type}}" ng-bind-html="button.content"></button></div></header>',compile:function(){return function($scope,$element){function updateHeaderData(data){angular.isDefined(data.hideBackButton)&&($scope.backButtonEnabled=!!data.hideBackButton),$scope.isReverse="back"==data.navDirection,$scope.animateEnabled=!(!data.navDirection||data.animate===!1),$scope.leftButtons=data.leftButtons,$scope.rightButtons=data.rightButtons,$scope.oldTitle=$scope.title,$scope.title=data&&data.title||"",$scope.oldTitle!==$scope.title&&($scope.animateEnabled?animateTitles():hb.align())}function animateTitles(){var oldTitleEl,newTitleEl,currentTitles;currentTitles=$element[0].querySelectorAll(".title"),currentTitles.length&&(oldTitleEl=$compile('<h1 class="title" ng-bind-html="oldTitle"></h1>')($scope),angular.element(currentTitles[0]).replaceWith(oldTitleEl)),newTitleEl=$compile('<h1 class="title invisible" ng-bind-html="title"></h1>')($scope),ionic.requestAnimationFrame(function(){oldTitleEl&&$animate.leave(angular.element(oldTitleEl));var insert=oldTitleEl&&angular.element(oldTitleEl)||null;$animate.enter(newTitleEl,$element,insert,function(){hb.align()}),angular.forEach(currentTitles,function(el){el&&el.parentNode&&angular.element(el).remove()}),$scope.$digest(),ionic.requestAnimationFrame(function(){newTitleEl[0].classList.remove("invisible")})})}$scope.backButtonEnabled=!1,$scope.animateEnabled=!0,$scope.isReverse=!1,$scope.isInvisible=!0,$scope.navBarClass=function(){return($scope.type?" "+$scope.type:"")+($scope.isReverse?" reverse":"")+($scope.isInvisible?" invisible":"")+(!$scope.animationDisabled&&$scope.animation?" "+$scope.animation:"")};var hb=new ionic.views.HeaderBar({el:$element[0],alignTitle:$scope.alignTitle||"center"});$scope.headerBarView=hb,$scope.$on("viewState.viewEnter",function(e,data){updateHeaderData(data)}),$scope.$on("viewState.showNavBar",function(e,showNavBar){$scope.isInvisible=!showNavBar});var unregisterEventListeners=[$scope.$parent.$on("$viewHistory.historyChange",function(e,data){$scope.backButtonEnabled=!!data.showBack}),$scope.$parent.$on("viewState.leftButtonsChanged",function(e,data){$scope.leftButtons=data}),$scope.$parent.$on("viewState.rightButtonsChanged",function(e,data){$scope.rightButtons=data}),$scope.$parent.$on("viewState.showBackButton",function(e,data){$scope.backButtonEnabled=!!data}),$scope.$parent.$on("viewState.titleUpdated",function(e,data){$scope.title=data&&data.title||""})];$scope.$on("$destroy",function(){for(var i=0;i<unregisterEventListeners.length;i++)unregisterEventListeners[i]()})}}}}]).directive("ionView",["$ionicViewService","$rootScope","$animate",function($ionicViewService,$rootScope){return{restrict:"EA",priority:1e3,scope:{leftButtons:"=",rightButtons:"=",title:"@",hideBackButton:"@",hideNavBar:"@"},compile:function(tElement){return tElement.addClass("pane"),tElement[0].removeAttribute("title"),function($scope){$rootScope.$broadcast("viewState.viewEnter",{title:$scope.title,navDirection:$scope.$navDirection||$scope.$parent.$navDirection}),$scope.hideBackButton=$scope.$eval($scope.hideBackButton),$scope.hideBackButton&&$rootScope.$broadcast("viewState.showBackButton",!1),$rootScope.$broadcast("viewState.showNavBar","true"!==$scope.hideNavBar),$scope.$watch("leftButtons",function(){$scope.$emit("viewState.leftButtonsChanged",$scope.leftButtons)}),$scope.$watch("rightButtons",function(){$scope.$emit("viewState.rightButtonsChanged",$scope.rightButtons)}),$scope.$watch("title",function(){$scope.$emit("viewState.titleUpdated",$scope)})}}}}]).directive("ionNavBackButton",["$ionicViewService","$rootScope",function($ionicViewService){function goBack(e){var backView=$ionicViewService.getBackView();return backView&&backView.go(),e.alreadyHandled=!0,!1}return{restrict:"E",scope:{type:"=",label:"=",icon:"="},replace:!0,template:'<button ng-click="goBack($event)" class="button back-button {{type}} {{(icon && !label) ? \'icon \' + icon : \'\'}}"><i ng-if="icon && label" class="icon {{icon}}"></i> {{label}}</button>',link:function($scope){$scope.goBack=goBack}}}]).directive("ionNavView",["$ionicViewService","$state","$compile","$controller","$animate",function($ionicViewService,$state,$compile,$controller,$animate){var viewIsUpdating=!1,directive={restrict:"E",terminal:!0,priority:2e3,transclude:!0,controller:["$scope",function($scope){this.setNextAnimation=function(anim){$scope.$nextAnimation=anim}}],compile:function(element,attr,transclude){return function(scope,element,attr){function updateView(doAnimate){$animate.enabled()===!1&&(doAnimate=!1);var locals=$state.$current&&$state.$current.locals[name];if(locals!==viewLocals){var renderer=$ionicViewService.getRenderer(element,attr,scope);if(viewScope&&(viewScope.$destroy(),viewScope=null),!locals)return viewLocals=null,view.state=null,element.append(initialView);var newElement=angular.element("<div></div>").html(locals.$template).contents(),viewRegisterData=renderer().register(newElement);renderer(doAnimate).leave(),viewLocals=locals,view.state=locals.$$state,renderer(doAnimate).enter(newElement);var link=$compile(newElement);if(viewScope=scope.$new(),viewScope.$navDirection=viewRegisterData.navDirection,locals.$$controller){locals.$scope=viewScope;var controller=$controller(locals.$$controller,locals);element.children().data("$ngControllerController",controller)}link(viewScope);var viewHistoryData=$ionicViewService._getViewById(viewRegisterData.viewId)||{};viewScope.$broadcast("$viewContentLoaded",viewHistoryData),onloadExp&&viewScope.$eval(onloadExp),newElement=null}}var viewScope,viewLocals,name=attr[directive.name]||attr.name||"",onloadExp=attr.onload||"",initialView=transclude(scope);element.append(initialView);var parent=element.parent().inheritedData("$uiView");name.indexOf("@")<0&&(name=name+"@"+(parent?parent.state.name:""));var view={name:name,state:null};element.data("$uiView",view);var eventHook=function(){if(!viewIsUpdating){viewIsUpdating=!0;try{updateView(!0)}catch(e){throw viewIsUpdating=!1,e}viewIsUpdating=!1}};scope.$on("$stateChangeSuccess",eventHook),scope.$on("$viewContentLoading",eventHook),updateView(!1)}}};return directive}])}(),function(){"use strict";angular.module("ionic.ui.virtRepeat",[]).directive("ionVirtRepeat",function(){return{require:["?ngModel","^virtualList"],transclude:"element",priority:1e3,terminal:!0,compile:function(){return function($scope,$element,$attr,ctrls){var virtualList=ctrls[1];virtualList.listView.renderViewport=function(){}}}}})}(ionic),function(){"use strict";function parseRepeatExpression(expression){var match=expression.match(/^\s*([\$\w]+)\s+in\s+(\S*)\s*$/);if(!match)throw new Error("Expected sfVirtualRepeat in form of '_item_ in _collection_' but got '"+expression+"'.");return{value:match[1],collection:match[2]}}function setViewportCss(viewport){var viewportCss={overflow:"auto"},style=window.getComputedStyle?window.getComputedStyle(viewport[0]):viewport[0].currentStyle,maxHeight=style&&style.getPropertyValue("max-height"),height=style&&style.getPropertyValue("height");maxHeight&&"0px"!==maxHeight?viewportCss.maxHeight=maxHeight:viewportCss.height=height&&"0px"!==height?height:window.innerHeight,viewport.css(viewportCss)}function setContentCss(content){var contentCss={margin:0,padding:0,border:0,"box-sizing":"border-box"};content.css(contentCss)}function computeRowHeight(element){var style=window.getComputedStyle?window.getComputedStyle(element):element.currentStyle,maxHeight=style&&style.getPropertyValue("max-height"),height=style&&style.getPropertyValue("height");if(height&&"0px"!==height&&"auto"!==height)$log.info('Row height is "%s" from css height',height);else if(maxHeight&&"0px"!==maxHeight&&"none"!==maxHeight)height=maxHeight,$log.info('Row height is "%s" from css max-height',height);else{if(!element.clientHeight)throw new Error("Unable to compute height of row");height=element.clientHeight+"px",$log.info('Row height is "%s" from client height',height)}return angular.element(element).css("height",height),parseInt(height,10)}angular.module("ionic.ui.virtualRepeat",[]).directive("ionVirtualRepeat",["$log",function($log){return{require:["?ngModel, ^virtualList"],transclude:"element",priority:1e3,terminal:!0,compile:function(element,attr){var ident=parseRepeatExpression(attr.sfVirtualRepeat);return function(scope,iterStartElement,attrs,ctrls){function makeNewScope(idx,collection,containerScope){var childScope=containerScope.$new();return childScope[ident.value]=collection[idx],childScope.$index=idx,childScope.$first=0===idx,childScope.$last=idx===collection.length-1,childScope.$middle=!(childScope.$first||childScope.$last),childScope.$watch(function(){childScope[ident.value]=collection[idx]}),childScope}function addElements(start,end,collection,containerScope,insPoint){var element,idx,childScope,frag=document.createDocumentFragment(),newElements=[];for(idx=start;idx!==end;idx++)childScope=makeNewScope(idx,collection,containerScope),element=linker(childScope,angular.noop),newElements.push(element),frag.appendChild(element[0]);return insPoint.after(frag),newElements}function recomputeActive(){var start=clip(state.firstActive,state.firstVisible-state.lowWater,state.firstVisible-state.highWater),end=clip(state.firstActive+state.active,state.firstVisible+state.visible+state.lowWater,state.firstVisible+state.visible+state.highWater);state.firstActive=Math.max(0,start),state.active=Math.min(end,state.total)-state.firstActive}function sfVirtualRepeatOnScroll(evt){rowHeight&&scope.$apply(function(){state.firstVisible=Math.floor(evt.target.scrollTop/rowHeight),state.visible=Math.ceil(dom.viewport[0].clientHeight/rowHeight),$log.log("scroll to row %o",state.firstVisible),sticky=evt.target.scrollTop+evt.target.clientHeight>=evt.target.scrollHeight,recomputeActive(),$log.log(" state is now %o",state),$log.log(" sticky = %o",sticky)})}function sfVirtualRepeatWatchExpression(scope){var coll=scope.$eval(ident.collection);return coll.length!==state.total&&(state.total=coll.length,recomputeActive()),{start:state.firstActive,active:state.active,len:coll.length}}function destroyActiveElements(action,count){var dead,ii,remover=Array.prototype[action];for(ii=0;count>ii;ii++)dead=remover.call(rendered),dead.scope().$destroy(),dead.remove()}function sfVirtualRepeatListener(newValue,oldValue,scope){var newElements,oldEnd=oldValue.start+oldValue.active,collection=scope.$eval(ident.collection);if(newValue===oldValue)$log.info("initial listen"),newElements=addElements(newValue.start,oldEnd,collection,scope,iterStartElement),rendered=newElements,rendered.length&&(rowHeight=computeRowHeight(newElements[0][0]));else{var newEnd=newValue.start+newValue.active,forward=newValue.start>=oldValue.start,delta=forward?newValue.start-oldValue.start:oldValue.start-newValue.start,endDelta=newEnd>=oldEnd?newEnd-oldEnd:oldEnd-newEnd,contiguous=delta<(forward?oldValue.active:newValue.active);if($log.info("change by %o,%o rows %s",delta,endDelta,forward?"forward":"backward"),contiguous){if(forward?($log.info("need to remove from the top"),destroyActiveElements("shift",delta)):delta&&($log.info("need to add at the top"),newElements=addElements(newValue.start,oldValue.start,collection,scope,iterStartElement),rendered=newElements.concat(rendered)),oldEnd>newEnd)$log.info("need to remove from the bottom"),destroyActiveElements("pop",oldEnd-newEnd);else if(endDelta){var lastElement=rendered[rendered.length-1];$log.info("need to add to the bottom"),newElements=addElements(oldEnd,newEnd,collection,scope,lastElement),rendered=rendered.concat(newElements)}}else $log.info("non-contiguous change"),destroyActiveElements("pop",rendered.length),rendered=addElements(newValue.start,newEnd,collection,scope,iterStartElement);!rowHeight&&rendered.length&&(rowHeight=computeRowHeight(rendered[0][0])),dom.content.css({"padding-top":newValue.start*rowHeight+"px"})}dom.content.css({height:newValue.len*rowHeight+"px"}),sticky&&(dom.viewport[0].scrollTop=dom.viewport[0].clientHeight+dom.viewport[0].scrollHeight)}var virtualList=ctrls[1],rendered=[],rowHeight=0,sticky=!1,dom=virtualList.element,state="ngModel"in attrs?scope.$eval(attrs.ngModel):{};state.firstActive=0,state.firstVisible=0,state.visible=0,state.active=0,state.total=0,state.lowWater=state.lowWater||100,state.highWater=state.highWater||300,setContentCss(dom.content),setViewportCss(dom.viewport),dom.bind("momentumScrolled",sfVirtualRepeatOnScroll),scope.$on("$destroy",function(){dom.unbind("momentumScrolled",sfVirtualRepeatOnScroll)}),scope.$watch(sfVirtualRepeatWatchExpression,sfVirtualRepeatListener,!0)}}}}])}(ionic),function(){"use strict";angular.module("ionic.ui.scroll").controller("$ionicScroll",["$scope","scrollViewOptions","$timeout","$ionicScrollDelegate","$window",function($scope,scrollViewOptions,$timeout,$ionicScrollDelegate,$window){function resize(){scrollView.resize()}var self=this,element=this.element=scrollViewOptions.el,scrollView=this.scrollView=new ionic.views.Scroll(scrollViewOptions);angular.isDefined(scrollViewOptions.bouncing)||ionic.Platform.ready(function(){scrollView.options.bouncing=!ionic.Platform.isAndroid()});var $element=this.$element=angular.element(element);$element.data("$$ionicScrollController",this),$ionicScrollDelegate.register($scope,$element,scrollView),$window.addEventListener("resize",resize),$scope.$on("$destroy",function(){$window.removeEventListener("resize",resize)}),this.setRefresher=function(refresherScope,refresherElement){var refresher=this.refresher=refresherElement,refresherHeight=self.refresher.clientHeight||0;scrollView.activatePullToRefresh(refresherHeight,function(){refresher.classList.add("active"),refresherScope.$onPulling()},function(){refresher.classList.remove("refreshing"),refresher.classList.remove("active")},function(){refresher.classList.add("refreshing"),refresherScope.$onRefresh()})},$timeout(function(){scrollView.run()})}])}(),function(){angular.module("ngCordova",["ngCordova.plugins"]),angular.module("ngCordova.plugins.actionSheet",[]).factory("$cordovaActionSheet",["$q","$window",function($q,$window){return{show:function(options){var q=$q.defer();return $window.plugins.actionsheet.show(options,function(result){q.resolve(result)}),q.promise},hide:function(){return $window.plugins.actionsheet.hide()}}}]),angular.module("ngCordova.plugins.adMob",[]).factory("$cordovaAdMob",["$q","$window",function($q,$window){return{createBannerView:function(options){var d=$q.defer();return $window.plugins.AdMob.createBannerView(options,function(){d.resolve()},function(){d.reject()}),d.promise},createInterstitialView:function(options){var d=$q.defer();return $window.plugins.AdMob.createInterstitialView(options,function(){d.resolve()},function(){d.reject()}),d.promise},requestAd:function(options){var d=$q.defer();return $window.plugins.AdMob.requestAd(options,function(){d.resolve()},function(){d.reject()}),d.promise},showAd:function(options){var d=$q.defer();return $window.plugins.AdMob.showAd(options,function(){d.resolve()},function(){d.reject()}),d.promise},requestInterstitialAd:function(options){var d=$q.defer();return $window.plugins.AdMob.requestInterstitialAd(options,function(){d.resolve()},function(){d.reject()}),d.promise}}}]),angular.module("ngCordova.plugins.appAvailability",[]).factory("$cordovaAppAvailability",["$q",function($q){return{check:function(urlScheme){var q=$q.defer();return appAvailability.check(urlScheme,function(result){q.resolve(result)},function(err){q.reject(err)}),q.promise}}}]),angular.module("ngCordova.plugins.appRate",[]).provider("$cordovaAppRate",[function(){this.setPreferences=function(defaults){defaults&&angular.isObject(defaults)&&(AppRate.preferences.useLanguage=defaults.language||null,AppRate.preferences.displayAppName=defaults.appName||"",AppRate.preferences.promptAgainForEachNewVersion=defaults.promptForNewVersion||!0,AppRate.preferences.openStoreInApp=defaults.openStoreInApp||!1,AppRate.preferences.usesUntilPrompt=defaults.usesUntilPrompt||3,AppRate.preferences.useCustomRateDialog=defaults.useCustomRateDialog||!1,AppRate.preferences.storeAppURL.ios=defaults.iosURL||null,AppRate.preferences.storeAppURL.android=defaults.androidURL||null,AppRate.preferences.storeAppURL.blackberry=defaults.blackberryURL||null,AppRate.preferences.storeAppURL.windows8=defaults.windowsURL||null)},this.setCustomLocale=function(customObj){var strings={title:"Rate %@",message:"If you enjoy using %@, would you mind taking a moment to rate it? It wont take more than a minute. Thanks for your support!",cancelButtonLabel:"No, Thanks",laterButtonLabel:"Remind Me Later",rateButtonLabel:"Rate It Now"};strings=angular.extend(strings,customObj),AppRate.preferences.customLocale=strings},this.$get=["$q",function($q){return{promptForRating:function(immediate){var q=$q.defer(),prompt=AppRate.promptForRating(immediate);return q.resolve(prompt),q.promise},onButtonClicked:function(cb){AppRate.onButtonClicked=function(buttonIndex){cb.call(this,buttonIndex)}},onRateDialogShow:function(cb){AppRate.onRateDialogShow=cb()}}}]}]),angular.module("ngCordova.plugins.appVersion",[]).factory("$cordovaAppVersion",["$q",function($q){return{getAppVersion:function(){var q=$q.defer();return cordova.getAppVersion(function(version){q.resolve(version)}),q.promise}}}]),angular.module("ngCordova.plugins.backgroundGeolocation",[]).factory("$cordovaBackgroundGeolocation",["$q","$window",function($q,$window){return{init:function(){$window.navigator.geolocation.getCurrentPosition(function(location){return location})},configure:function(options){this.init();var q=$q.defer();return $window.plugins.backgroundGeoLocation.configure(function(result){q.notify(result),$window.plugins.backgroundGeoLocation.finish()},function(err){q.reject(err)},options),this.start(),q.promise},start:function(){var q=$q.defer();return $window.plugins.backgroundGeoLocation.start(function(result){q.resolve(result)},function(err){q.reject(err)}),q.promise},stop:function(){var q=$q.defer();return $window.plugins.backgroundGeoLocation.stop(function(result){q.resolve(result)},function(err){q.reject(err)}),q.promise}}}]),angular.module("ngCordova.plugins.badge",[]).factory("$cordovaBadge",["$q",function($q){return{hasPermission:function(){var q=$q.defer();return cordova.plugins.notification.badge.hasPermission(function(permission){permission?q.resolve(!0):q.reject("You do not have permission")}),q.promise},promptForPermission:function(){return cordova.plugins.notification.badge.promptForPermission()},set:function(number){var q=$q.defer();return cordova.plugins.notification.badge.hasPermission(function(permission){permission?q.resolve(cordova.plugins.notification.badge.set(number)):q.reject("You do not have permission to set Badge")}),q.promise},get:function(){var q=$q.defer();return cordova.plugins.notification.badge.hasPermission(function(permission){permission?cordova.plugins.notification.badge.get(function(badge){q.resolve(badge)}):q.reject("You do not have permission to get Badge")}),q.promise},clear:function(){var q=$q.defer();return cordova.plugins.notification.badge.hasPermission(function(permission){permission?q.resolve(cordova.plugins.notification.badge.clear()):q.reject("You do not have permission to clear Badge")}),q.promise},configure:function(config){return cordova.plugins.notification.badge.configure(config)}}}]),angular.module("ngCordova.plugins.barcodeScanner",[]).factory("$cordovaBarcodeScanner",["$q",function($q){return{scan:function(){var q=$q.defer();return cordova.plugins.barcodeScanner.scan(function(result){q.resolve(result)},function(err){q.reject(err)}),q.promise},encode:function(type,data){var q=$q.defer();return type=type||"TEXT_TYPE",cordova.plugins.barcodeScanner.encode(type,data,function(result){q.resolve(result)},function(err){q.reject(err)}),q.promise}}}]),angular.module("ngCordova.plugins.batteryStatus",[]).factory("$cordovaBatteryStatus",["$rootScope","$window","$timeout",function($rootScope,$window,$timeout){var batteryStatus=function(status){$timeout(function(){$rootScope.$broadcast("$cordovaBatteryStatus:status",status)})},batteryCritical=function(status){$timeout(function(){$rootScope.$broadcast("$cordovaBatteryStatus:critical",status)})},batteryLow=function(status){$timeout(function(){$rootScope.$broadcast("$cordovaBatteryStatus:low",status)})};return document.addEventListener("deviceready",function(){navigator.battery&&($window.addEventListener("batterystatus",batteryStatus,!1),$window.addEventListener("batterycritical",batteryCritical,!1),$window.addEventListener("batterylow",batteryLow,!1))},!1),!0}]).run(["$cordovaBatteryStatus",function(){}]),angular.module("ngCordova.plugins.ble",[]).factory("$cordovaBLE",["$q",function($q){return{scan:function(services,seconds){var q=$q.defer();return ble.scan(services,seconds,function(result){q.resolve(result)},function(error){q.reject(error)}),q.promise},connect:function(deviceID){var q=$q.defer();return ble.connect(deviceID,function(result){q.resolve(result)},function(error){q.reject(error)}),q.promise},disconnect:function(deviceID){var q=$q.defer();return ble.disconnect(deviceID,function(result){q.resolve(result)},function(error){q.reject(error)}),q.promise},read:function(deviceID,serviceUUID,characteristicUUID){var q=$q.defer();return ble.read(deviceID,serviceUUID,characteristicUUID,function(result){q.resolve(result)},function(error){q.reject(error)}),q.promise},write:function(deviceID,serviceUUID,characteristicUUID,data){var q=$q.defer();return ble.write(deviceID,serviceUUID,characteristicUUID,data,function(result){q.resolve(result)},function(error){q.reject(error)}),q.promise},writeCommand:function(deviceID,serviceUUID,characteristicUUID,data){var q=$q.defer();return ble.writeCommand(deviceID,serviceUUID,characteristicUUID,data,function(result){q.resolve(result)},function(error){q.reject(error)}),q.promise},notify:function(deviceID,serviceUUID,characteristicUUID){var q=$q.defer();return ble.notify(deviceID,serviceUUID,characteristicUUID,function(result){q.resolve(result)},function(error){q.reject(error)}),q.promise},indicate:function(deviceID,serviceUUID,characteristicUUID){var q=$q.defer();return ble.indicate(deviceID,serviceUUID,characteristicUUID,function(result){q.resolve(result)},function(error){q.reject(error)}),q.promise},isConnected:function(deviceID){var q=$q.defer();return ble.isConnected(deviceID,function(result){q.resolve(result)},function(error){q.reject(error)}),q.promise},isEnabled:function(){var q=$q.defer();return ble.isEnabled(function(result){q.resolve(result)},function(error){q.reject(error)}),q.promise}}}]),angular.module("ngCordova.plugins.bluetoothSerial",[]).factory("$cordovaBluetoothSerial",["$q","$window",function($q,$window){return{connect:function(address){var q=$q.defer();return $window.bluetoothSerial.connect(address,function(){q.resolve()},function(error){q.reject(error)}),q.promise},connectInsecure:function(address){var q=$q.defer();return $window.bluetoothSerial.connectInsecure(address,function(){q.resolve()},function(error){q.reject(error)}),q.promise},disconnect:function(){var q=$q.defer();return $window.bluetoothSerial.disconnect(function(){q.resolve()},function(error){q.reject(error)}),q.promise},list:function(){var q=$q.defer();return $window.bluetoothSerial.list(function(data){q.resolve(data)},function(error){q.reject(error)}),q.promise},isEnabled:function(){var q=$q.defer();return $window.bluetoothSerial.isEnabled(function(){q.resolve()},function(){q.reject()}),q.promise},isConnected:function(){var q=$q.defer();return $window.bluetoothSerial.isConnected(function(){q.resolve()},function(){q.reject()}),q.promise},available:function(){var q=$q.defer();return $window.bluetoothSerial.available(function(data){q.resolve(data)},function(error){q.reject(error)}),q.promise},read:function(){var q=$q.defer();return $window.bluetoothSerial.read(function(data){q.resolve(data)},function(error){q.reject(error)}),q.promise},readUntil:function(delimiter){var q=$q.defer();return $window.bluetoothSerial.readUntil(delimiter,function(data){q.resolve(data)},function(error){q.reject(error)}),q.promise},write:function(data){var q=$q.defer();return $window.bluetoothSerial.write(data,function(){q.resolve()},function(error){q.reject(error)}),q.promise},subscribe:function(delimiter){var q=$q.defer();return $window.bluetoothSerial.subscribe(delimiter,function(data){q.notify(data)},function(error){q.reject(error)}),q.promise},subscribeRawData:function(){var q=$q.defer();return $window.bluetoothSerial.subscribeRawData(function(data){q.notify(data)},function(error){q.reject(error)}),q.promise},unsubscribe:function(){var q=$q.defer();return $window.bluetoothSerial.unsubscribe(function(){q.resolve()},function(error){q.reject(error)}),q.promise},unsubscribeRawData:function(){var q=$q.defer();return $window.bluetoothSerial.unsubscribeRawData(function(){q.resolve()},function(error){q.reject(error)}),q.promise},clear:function(){var q=$q.defer();return $window.bluetoothSerial.clear(function(){q.resolve()},function(error){q.reject(error)}),q.promise},readRSSI:function(){var q=$q.defer();return $window.bluetoothSerial.readRSSI(function(data){q.resolve(data)},function(error){q.reject(error)}),q.promise}}}]),angular.module("ngCordova.plugins.brightness",[]).factory("$cordovaBrightness",["$q","$window",function($q,$window){return{get:function(){var q=$q.defer();return $window.cordova.plugins.brightness.getBrightness(function(result){q.resolve(result)},function(err){q.reject(err)}),q.promise},set:function(data){var q=$q.defer();return $window.cordova.plugins.brightness.setBrightness(data,function(result){q.resolve(result)},function(err){q.reject(err)}),q.promise},setKeepScreenOn:function(bool){var q=$q.defer();return $window.cordova.plugins.brightness.setKeepScreenOn(bool,function(result){q.resolve(result)},function(err){q.reject(err)}),q.promise}}}]),angular.module("ngCordova.plugins.calendar",[]).factory("$cordovaCalendar",["$q","$window",function($q,$window){return{createCalendar:function(options){var d=$q.defer(),createCalOptions=$window.plugins.calendar.getCreateCalendarOptions();return"string"==typeof options?createCalOptions.calendarName=options:createCalOptions=angular.extend(createCalOptions,options),$window.plugins.calendar.createCalendar(createCalOptions,function(message){d.resolve(message)},function(error){d.reject(error)}),d.promise},deleteCalendar:function(calendarName){var d=$q.defer();return $window.plugins.calendar.deleteCalendar(calendarName,function(message){d.resolve(message)},function(error){d.reject(error)}),d.promise},createEvent:function(options){var d=$q.defer(),defaultOptions={title:null,location:null,notes:null,startDate:null,endDate:null};return defaultOptions=angular.extend(defaultOptions,options),$window.plugins.calendar.createEvent(defaultOptions.title,defaultOptions.location,defaultOptions.notes,new Date(defaultOptions.startDate),new Date(defaultOptions.endDate),function(message){d.resolve(message)},function(error){d.reject(error)}),d.promise},createEventWithOptions:function(options){var d=$q.defer(),defaultOptionKeys=[],calOptions=window.plugins.calendar.getCalendarOptions(),defaultOptions={title:null,location:null,notes:null,startDate:null,endDate:null};defaultOptionKeys=Object.keys(defaultOptions);for(var key in options)-1===defaultOptionKeys.indexOf(key)?calOptions[key]=options[key]:defaultOptions[key]=options[key];return $window.plugins.calendar.createEventWithOptions(defaultOptions.title,defaultOptions.location,defaultOptions.notes,new Date(defaultOptions.startDate),new Date(defaultOptions.endDate),calOptions,function(message){d.resolve(message)},function(error){d.reject(error)}),d.promise},createEventInteractively:function(options){var d=$q.defer(),defaultOptions={title:null,location:null,notes:null,startDate:null,endDate:null};return defaultOptions=angular.extend(defaultOptions,options),$window.plugins.calendar.createEventInteractively(defaultOptions.title,defaultOptions.location,defaultOptions.notes,new Date(defaultOptions.startDate),new Date(defaultOptions.endDate),function(message){d.resolve(message)},function(error){d.reject(error)}),d.promise},createEventInNamedCalendar:function(options){var d=$q.defer(),defaultOptions={title:null,location:null,notes:null,startDate:null,endDate:null,calendarName:null};
return defaultOptions=angular.extend(defaultOptions,options),$window.plugins.calendar.createEventInNamedCalendar(defaultOptions.title,defaultOptions.location,defaultOptions.notes,new Date(defaultOptions.startDate),new Date(defaultOptions.endDate),defaultOptions.calendarName,function(message){d.resolve(message)},function(error){d.reject(error)}),d.promise},findEvent:function(options){var d=$q.defer(),defaultOptions={title:null,location:null,notes:null,startDate:null,endDate:null};return defaultOptions=angular.extend(defaultOptions,options),$window.plugins.calendar.findEvent(defaultOptions.title,defaultOptions.location,defaultOptions.notes,new Date(defaultOptions.startDate),new Date(defaultOptions.endDate),function(foundEvent){d.resolve(foundEvent)},function(error){d.reject(error)}),d.promise},listEventsInRange:function(startDate,endDate){var d=$q.defer();return $window.plugins.calendar.listEventsInRange(startDate,endDate,function(events){d.resolve(events)},function(error){d.reject(error)}),d.promise},listCalendars:function(){var d=$q.defer();return $window.plugins.calendar.listCalendars(function(calendars){d.resolve(calendars)},function(error){d.reject(error)}),d.promise},findAllEventsInNamedCalendar:function(calendarName){var d=$q.defer();return $window.plugins.calendar.findAllEventsInNamedCalendar(calendarName,function(events){d.resolve(events)},function(error){d.reject(error)}),d.promise},modifyEvent:function(options){var d=$q.defer(),defaultOptions={title:null,location:null,notes:null,startDate:null,endDate:null,newTitle:null,newLocation:null,newNotes:null,newStartDate:null,newEndDate:null};return defaultOptions=angular.extend(defaultOptions,options),$window.plugins.calendar.modifyEvent(defaultOptions.title,defaultOptions.location,defaultOptions.notes,new Date(defaultOptions.startDate),new Date(defaultOptions.endDate),defaultOptions.newTitle,defaultOptions.newLocation,defaultOptions.newNotes,new Date(defaultOptions.newStartDate),new Date(defaultOptions.newEndDate),function(message){d.resolve(message)},function(error){d.reject(error)}),d.promise},deleteEvent:function(options){var d=$q.defer(),defaultOptions={newTitle:null,location:null,notes:null,startDate:null,endDate:null};return defaultOptions=angular.extend(defaultOptions,options),$window.plugins.calendar.deleteEvent(defaultOptions.newTitle,defaultOptions.location,defaultOptions.notes,new Date(defaultOptions.startDate),new Date(defaultOptions.endDate),function(message){d.resolve(message)},function(error){d.reject(error)}),d.promise}}}]),angular.module("ngCordova.plugins.camera",[]).factory("$cordovaCamera",["$q",function($q){return{getPicture:function(options){var q=$q.defer();return navigator.camera?(navigator.camera.getPicture(function(imageData){q.resolve(imageData)},function(err){q.reject(err)},options),q.promise):(q.resolve(null),q.promise)},cleanup:function(){var q=$q.defer();return navigator.camera.cleanup(function(){q.resolve()},function(err){q.reject(err)}),q.promise}}}]),angular.module("ngCordova.plugins.capture",[]).factory("$cordovaCapture",["$q",function($q){return{captureAudio:function(options){var q=$q.defer();return navigator.device.capture?(navigator.device.capture.captureAudio(function(audioData){q.resolve(audioData)},function(err){q.reject(err)},options),q.promise):(q.resolve(null),q.promise)},captureImage:function(options){var q=$q.defer();return navigator.device.capture?(navigator.device.capture.captureImage(function(imageData){q.resolve(imageData)},function(err){q.reject(err)},options),q.promise):(q.resolve(null),q.promise)},captureVideo:function(options){var q=$q.defer();return navigator.device.capture?(navigator.device.capture.captureVideo(function(videoData){q.resolve(videoData)},function(err){q.reject(err)},options),q.promise):(q.resolve(null),q.promise)}}}]),angular.module("ngCordova.plugins.clipboard",[]).factory("$cordovaClipboard",["$q","$window",function($q,$window){return{copy:function(text){var q=$q.defer();return $window.cordova.plugins.clipboard.copy(text,function(){q.resolve()},function(){q.reject()}),q.promise},paste:function(){var q=$q.defer();return $window.cordova.plugins.clipboard.paste(function(text){q.resolve(text)},function(){q.reject()}),q.promise}}}]),angular.module("ngCordova.plugins.contacts",[]).factory("$cordovaContacts",["$q",function($q){return{save:function(contact){var q=$q.defer(),deviceContact=navigator.contacts.create(contact);return deviceContact.save(function(result){q.resolve(result)},function(err){q.reject(err)}),q.promise},remove:function(contact){var q=$q.defer(),deviceContact=navigator.contacts.create(contact);return deviceContact.remove(function(result){q.resolve(result)},function(err){q.reject(err)}),q.promise},clone:function(contact){var deviceContact=navigator.contacts.create(contact);return deviceContact.clone(contact)},find:function(options){var q=$q.defer(),fields=options.fields||["id","displayName"];return delete options.fields,navigator.contacts.find(fields,function(results){q.resolve(results)},function(err){q.reject(err)},options),q.promise},pickContact:function(){var q=$q.defer();return navigator.contacts.pickContact(function(contact){q.resolve(contact)},function(err){q.reject(err)}),q.promise}}}]),angular.module("ngCordova.plugins.datePicker",[]).factory("$cordovaDatePicker",["$window","$q",function($window,$q){return{show:function(options){var q=$q.defer();return options=options||{date:new Date,mode:"date"},$window.datePicker.show(options,function(date){q.resolve(date)}),q.promise}}}]),angular.module("ngCordova.plugins.device",[]).factory("$cordovaDevice",[function(){return{getDevice:function(){return device},getCordova:function(){return device.cordova},getModel:function(){return device.model},getName:function(){return device.name},getPlatform:function(){return device.platform},getUUID:function(){return device.uuid},getVersion:function(){return device.version}}}]),angular.module("ngCordova.plugins.deviceMotion",[]).factory("$cordovaDeviceMotion",["$q",function($q){return{getCurrentAcceleration:function(){var q=$q.defer();return navigator.accelerometer.getCurrentAcceleration(function(result){q.resolve(result)},function(err){q.reject(err)}),q.promise},watchAcceleration:function(options){var q=$q.defer(),watchID=navigator.accelerometer.watchAcceleration(function(result){q.notify(result)},function(err){q.reject(err)},options);return q.promise.cancel=function(){navigator.accelerometer.clearWatch(watchID)},q.promise.clearWatch=function(id){navigator.accelerometer.clearWatch(id||watchID)},q.promise.watchID=watchID,q.promise},clearWatch:function(watchID){return navigator.accelerometer.clearWatch(watchID)}}}]),angular.module("ngCordova.plugins.deviceOrientation",[]).factory("$cordovaDeviceOrientation",["$q",function($q){return{getCurrentHeading:function(){var q=$q.defer();return navigator.compass.getCurrentHeading(function(result){q.resolve(result)},function(err){q.reject(err)}),q.promise},watchHeading:function(options){var q=$q.defer(),watchID=navigator.compass.watchHeading(function(result){q.notify(result)},function(err){q.reject(err)},options);return q.promise.cancel=function(){navigator.compass.clearWatch(watchID)},q.promise.clearWatch=function(id){navigator.compass.clearWatch(id||watchID)},q.promise.watchID=watchID,q.promise},clearWatch:function(watchID){return navigator.compass.clearWatch(watchID)}}}]),angular.module("ngCordova.plugins.dialogs",[]).factory("$cordovaDialogs",["$q","$window",function($q,$window){return{alert:function(message,title,buttonName){var q=$q.defer();return $window.navigator.notification?navigator.notification.alert(message,function(){q.resolve()},title,buttonName):($window.alert(message),q.resolve()),q.promise},confirm:function(message,title,buttonLabels){var q=$q.defer();return $window.navigator.notification?navigator.notification.confirm(message,function(buttonIndex){q.resolve(buttonIndex)},title,buttonLabels):q.resolve($window.confirm(message)?1:2),q.promise},prompt:function(message,title,buttonLabels,defaultText){var q=$q.defer();if($window.navigator.notification)navigator.notification.prompt(message,function(result){q.resolve(result)},title,buttonLabels,defaultText);else{var res=$window.prompt(message,defaultText);q.resolve(null!==res?{input1:res,buttonIndex:1}:{input1:res,buttonIndex:2})}return q.promise},beep:function(times){return navigator.notification.beep(times)}}}]),angular.module("ngCordova.plugins.emailComposer",[]).factory("$cordovaEmailComposer",["$q",function($q){return{isAvailable:function(){var q=$q.defer();return cordova.plugins.email.isAvailable(function(isAvailable){isAvailable?q.resolve():q.reject()}),q.promise},open:function(properties){var q=$q.defer();return cordova.plugins.email.open(properties,function(){q.reject()}),q.promise},addAlias:function(app,schema){cordova.plugins.email.addAlias(app,schema)}}}]),angular.module("ngCordova.plugins.facebook",[]).provider("$cordovaFacebook",[function(){this.browserInit=function(id,version){this.appID=id,this.appVersion=version||"v2.0",facebookConnectPlugin.browserInit(this.appID,this.appVersion)},this.$get=["$q",function($q){return{login:function(permissions){var q=$q.defer();return facebookConnectPlugin.login(permissions,function(res){q.resolve(res)},function(res){q.reject(res)}),q.promise},showDialog:function(options){var q=$q.defer();return facebookConnectPlugin.showDialog(options,function(res){q.resolve(res)},function(err){q.reject(err)}),q.promise},api:function(path,permissions){var q=$q.defer();return facebookConnectPlugin.api(path,permissions,function(res){q.resolve(res)},function(err){q.reject(err)}),q.promise},getAccessToken:function(){var q=$q.defer();return facebookConnectPlugin.getAccessToken(function(res){q.resolve(res)},function(err){q.reject(err)}),q.promise},getLoginStatus:function(){var q=$q.defer();return facebookConnectPlugin.getLoginStatus(function(res){q.resolve(res)},function(err){q.reject(err)}),q.promise},logout:function(){var q=$q.defer();return facebookConnectPlugin.logout(function(res){q.resolve(res)},function(err){q.reject(err)}),q.promise}}}]}]),angular.module("ngCordova.plugins.facebookAds",[]).factory("$cordovaFacebookAds",["$q","$window",function($q,$window){return{setOptions:function(options){var d=$q.defer();return $window.FacebookAds.setOptions(options,function(){d.resolve()},function(){d.reject()}),d.promise},createBanner:function(options){var d=$q.defer();return $window.FacebookAds.createBanner(options,function(){d.resolve()},function(){d.reject()}),d.promise},removeBanner:function(){var d=$q.defer();return $window.FacebookAds.removeBanner(function(){d.resolve()},function(){d.reject()}),d.promise},showBanner:function(position){var d=$q.defer();return $window.FacebookAds.showBanner(position,function(){d.resolve()},function(){d.reject()}),d.promise},showBannerAtXY:function(x,y){var d=$q.defer();return $window.FacebookAds.showBannerAtXY(x,y,function(){d.resolve()},function(){d.reject()}),d.promise},hideBanner:function(){var d=$q.defer();return $window.FacebookAds.hideBanner(function(){d.resolve()},function(){d.reject()}),d.promise},prepareInterstitial:function(options){var d=$q.defer();return $window.FacebookAds.prepareInterstitial(options,function(){d.resolve()},function(){d.reject()}),d.promise},showInterstitial:function(){var d=$q.defer();return $window.FacebookAds.showInterstitial(function(){d.resolve()},function(){d.reject()}),d.promise}}}]),angular.module("ngCordova.plugins.file",[]).factory("$cordovaFile",["$q","$window","$log","$timeout",function($q,$window,$log,$timeout){function getPromisedFileReader(deferred){var reader=new FileReader;return reader.onloadend=function(){this.error?deferred.reject(this.error):deferred.resolve(this.result)},reader}function getFile(path,options){var q=$q.defer();return getFileEntry(path,options).then(function(fileEntry){fileEntry.file(q.resolve,q.reject)},q.reject),q.promise}function getFileWriter(path,options){var q=$q.defer();return getFileEntry(path,options).then(function(fileEntry){fileEntry.createWriter(q.resolve,q.reject)},q.reject),q.promise}function getFileEntry(path,options){var q=$q.defer();return getFilesystem().then(function(filesystem){filesystem.root.getFile(path,options,q.resolve,q.reject)},q.reject),q.promise}function getAbsoluteFile(path){var q=$q.defer();return $window.resolveLocalFileSystemURL(path,function(fileEntry){fileEntry.file(q.resolve,q.reject)},q.reject),q.promise}function getDirectory(dir,options){var q=$q.defer();return getFilesystem().then(function(filesystem){filesystem.root.getDirectory(dir,options,q.resolve,q.reject)},q.reject),q.promise}function getFilesystem(){var q=$q.defer();try{$window.requestFileSystem($window.PERSISTENT,1048576,q.resolve,q.reject)}catch(err){q.reject(err)}return q.promise}return{checkDir:function(dir){return getDirectory(dir,{create:!1})},createDir:function(dir,replaceBOOL){return getDirectory(dir,{create:!0,exclusive:replaceBOOL})},listDir:function(filePath){var q=$q.defer();return getDirectory(filePath,{create:!1}).then(function(parent){var reader=parent.createReader();reader.readEntries(function(entries){q.resolve(entries)},function(){q.reject("DIR_READ_ERROR : "+filePath)})},function(){q.reject("DIR_NOT_FOUND : "+filePath)}),q.promise},checkFile:function(filePath){return 2==arguments.length&&(filePath="/"+filePath+"/"+arguments[1]),getFileEntry(filePath,{create:!1})},createFile:function(filePath,replaceBOOL){return 3==arguments.length&&(filePath="/"+filePath+"/"+arguments[1],replaceBOOL=arguments[2]),getFileEntry(filePath,{create:!0,exclusive:replaceBOOL})},removeFile:function(filePath){var q=$q.defer();return 2==arguments.length&&(filePath="/"+filePath+"/"+arguments[1]),getFileEntry(filePath,{create:!1}).then(function(fileEntry){fileEntry.remove(q.resolve,q.reject)},q.reject),q.promise},writeFile:function(filePath,data,options){var q=$q.defer();return getFileWriter(filePath,{create:!0}).then(function(fileWriter){options&&options.append===!0&&fileWriter.seek(fileWriter.length),fileWriter.onwriteend=function(evt){this.error?q.reject(this.error):q.resolve(evt)},fileWriter.write(data)},q.reject),q.promise},readFile:function(filePath){return $log.log("readFile is now deprecated as of v0.1.4-alpha, use readAsText instead"),this.readAsText(filePath)},readAsText:function(filePath){var q=$q.defer();return 2==arguments.length&&(filePath="/"+filePath+"/"+arguments[1]),getFile(filePath,{create:!1}).then(function(file){getPromisedFileReader(q).readAsText(file)},q.reject),q.promise},readAsDataURL:function(filePath){var q=$q.defer();return 2==arguments.length&&(filePath="/"+filePath+"/"+arguments[1]),getFile(filePath,{create:!1}).then(function(file){getPromisedFileReader(q).readAsDataURL(file)},q.reject),q.promise},readAsBinaryString:function(filePath){var q=$q.defer();return 2==arguments.length&&(filePath="/"+filePath+"/"+arguments[1]),getFile(filePath,{create:!1}).then(function(file){getPromisedFileReader(q).readAsBinaryString(file)},q.reject),q.promise},readAsArrayBuffer:function(filePath){var q=$q.defer();return 2==arguments.length&&(filePath="/"+filePath+"/"+arguments[1]),getFile(filePath,{create:!1}).then(function(file){getPromisedFileReader(q).readAsArrayBuffer(file)},q.reject),q.promise},readFileMetadata:function(filePath){return getFile(filePath,{create:!1})},readFileAbsolute:function(filePath){var q=$q.defer();return getAbsoluteFile(filePath).then(function(file){getPromisedFileReader(q).readAsText(file)},q.reject),q.promise},readFileMetadataAbsolute:function(filePath){return getAbsoluteFile(filePath)},downloadFile:function(source,filePath,options,trustAllHosts){var q=$q.defer(),ft=new FileTransfer,uri=encodeURI(source);return options&&void 0!==options.timeout&&null!==options.timeout&&($timeout(function(){ft.abort()},options.timeout),options.timeout=null),ft.onprogress=function(progress){q.notify(progress)},ft.download(uri,filePath,q.resolve,q.reject,trustAllHosts,options),q.promise},uploadFile:function(server,filePath,options,trustAllHosts){var q=$q.defer(),ft=new FileTransfer,uri=encodeURI(server);return options&&void 0!==options.timeout&&null!==options.timeout&&($timeout(function(){ft.abort()},options.timeout),options.timeout=null),ft.onprogress=function(progress){q.notify(progress)},q.promise.abort=function(){ft.abort()},ft.upload(filePath,uri,q.resolve,q.reject,options,trustAllHosts),q.promise}}}]),angular.module("ngCordova.plugins.fileOpener2",[]).factory("$cordovaFileOpener2",["$q",function($q){return{open:function(file,type){var q=$q.defer();return cordova.plugins.fileOpener2.open(file,type,{error:function(e){q.reject(e)},success:function(){q.resolve()}}),q.promise},uninstall:function(pack){var q=$q.defer();return cordova.plugins.fileOpener2.uninstall(pack,{error:function(e){q.reject(e)},success:function(){q.resolve()}}),q.promise},appIsInstalled:function(pack){var q=$q.defer();return cordova.plugins.fileOpener2.appIsInstalled(pack,{success:function(res){q.resolve(res)}}),q.promise}}}]),angular.module("ngCordova.plugins.fileTransfer",[]).factory("$cordovaFileTransfer",["$q","$timeout",function($q,$timeout){return{download:function(source,filePath,options,trustAllHosts){var q=$q.defer(),ft=new FileTransfer,uri=options&&options.encodeURI===!1?source:encodeURI(source);return options&&void 0!==options.timeout&&null!==options.timeout&&($timeout(function(){ft.abort()},options.timeout),options.timeout=null),ft.onprogress=function(progress){q.notify(progress)},ft.download(uri,filePath,q.resolve,q.reject,trustAllHosts,options),q.promise},upload:function(server,filePath,options,trustAllHosts){var q=$q.defer(),ft=new FileTransfer,uri=options&&options.encodeURI===!1?server:encodeURI(server);return options&&void 0!==options.timeout&&null!==options.timeout&&($timeout(function(){ft.abort()},options.timeout),options.timeout=null),ft.onprogress=function(progress){q.notify(progress)},q.promise.abort=function(){ft.abort()},ft.upload(filePath,uri,q.resolve,q.reject,options,trustAllHosts),q.promise}}}]),angular.module("ngCordova.plugins.flashlight",[]).factory("$cordovaFlashlight",["$q","$window",function($q,$window){return{available:function(){var q=$q.defer();return $window.plugins.flashlight.available(function(isAvailable){q.resolve(isAvailable)}),q.promise},switchOn:function(){var q=$q.defer();return $window.plugins.flashlight.switchOn(function(response){q.resolve(response)},function(error){q.reject(error)}),q.promise},switchOff:function(){var q=$q.defer();return $window.plugins.flashlight.switchOff(function(response){q.resolve(response)},function(error){q.reject(error)}),q.promise},toggle:function(){var q=$q.defer();return $window.plugins.flashlight.toggle(function(response){q.resolve(response)},function(error){q.reject(error)}),q.promise}}}]),angular.module("ngCordova.plugins.flurryAds",[]).factory("$cordovaFlurryAds",["$q","$window",function($q,$window){return{setOptions:function(options){var d=$q.defer();return $window.FlurryAds.setOptions(options,function(){d.resolve()},function(){d.reject()}),d.promise},createBanner:function(options){var d=$q.defer();return $window.FlurryAds.createBanner(options,function(){d.resolve()},function(){d.reject()}),d.promise},removeBanner:function(){var d=$q.defer();return $window.FlurryAds.removeBanner(function(){d.resolve()},function(){d.reject()}),d.promise},showBanner:function(position){var d=$q.defer();return $window.FlurryAds.showBanner(position,function(){d.resolve()},function(){d.reject()}),d.promise},showBannerAtXY:function(x,y){var d=$q.defer();return $window.FlurryAds.showBannerAtXY(x,y,function(){d.resolve()},function(){d.reject()}),d.promise},hideBanner:function(){var d=$q.defer();return $window.FlurryAds.hideBanner(function(){d.resolve()},function(){d.reject()}),d.promise},prepareInterstitial:function(options){var d=$q.defer();return $window.FlurryAds.prepareInterstitial(options,function(){d.resolve()},function(){d.reject()}),d.promise},showInterstitial:function(){var d=$q.defer();return $window.FlurryAds.showInterstitial(function(){d.resolve()},function(){d.reject()}),d.promise}}}]),angular.module("ngCordova.plugins.ga",[]).factory("$cordovaGA",["$q","$window",function($q,$window){return{init:function(id,mingap){var q=$q.defer();return mingap=mingap>=0?mingap:10,$window.plugins.gaPlugin.init(function(result){q.resolve(result)},function(error){q.reject(error)},id,mingap),q.promise},trackEvent:function(success,fail,category,eventAction,eventLabel,eventValue){var q=$q.defer();return $window.plugins.gaPlugin.trackEvent(function(result){q.resolve(result)},function(error){q.reject(error)},category,eventAction,eventLabel,eventValue),q.promise},trackPage:function(success,fail,pageURL){var q=$q.defer();return $window.plugins.gaPlugin.trackPage(function(result){q.resolve(result)},function(error){q.reject(error)},pageURL),q.promise},setVariable:function(success,fail,index,value){var q=$q.defer();return $window.plugins.gaPlugin.setVariable(function(result){q.resolve(result)},function(error){q.reject(error)},index,value),q.promise},exit:function(){var q=$q.defer();return $window.plugins.gaPlugin.exit(function(result){q.resolve(result)},function(error){q.reject(error)}),q.promise}}}]),angular.module("ngCordova.plugins.geolocation",[]).factory("$cordovaGeolocation",["$q",function($q){return{getCurrentPosition:function(options){var q=$q.defer();return navigator.geolocation.getCurrentPosition(function(result){q.resolve(result)},function(err){q.reject(err)},options),q.promise},watchPosition:function(options){var q=$q.defer(),watchID=navigator.geolocation.watchPosition(function(result){q.notify(result)},function(err){q.reject(err)},options);return q.promise.cancel=function(){navigator.geolocation.clearWatch(watchID)},q.promise.clearWatch=function(id){navigator.geolocation.clearWatch(id||watchID)},q.promise.watchID=watchID,q.promise},clearWatch:function(watchID){return navigator.geolocation.clearWatch(watchID)}}}]),angular.module("ngCordova.plugins.globalization",[]).factory("$cordovaGlobalization",["$q",function($q){return{getPreferredLanguage:function(){var q=$q.defer();return navigator.globalization.getPreferredLanguage(function(result){q.resolve(result)},function(err){q.reject(err)}),q.promise},getLocaleName:function(){var q=$q.defer();return navigator.globalization.getLocaleName(function(result){q.resolve(result)},function(err){q.reject(err)}),q.promise},getFirstDayOfWeek:function(){var q=$q.defer();return navigator.globalization.getFirstDayOfWeek(function(result){q.resolve(result)},function(err){q.reject(err)}),q.promise},dateToString:function(date,options){var q=$q.defer();return navigator.globalization.dateToString(date,function(result){q.resolve(result)},function(err){q.reject(err)},options),q.promise},stringToDate:function(dateString,options){var q=$q.defer();return navigator.globalization.stringToDate(dateString,function(result){q.resolve(result)},function(err){q.reject(err)},options),q.promise},getDatePattern:function(options){var q=$q.defer();return navigator.globalization.getDatePattern(function(result){q.resolve(result)},function(err){q.reject(err)},options),q.promise},getDateNames:function(options){var q=$q.defer();return navigator.globalization.getDateNames(function(result){q.resolve(result)},function(err){q.reject(err)},options),q.promise},isDayLightSavingsTime:function(date){var q=$q.defer();return navigator.globalization.isDayLightSavingsTime(date,function(result){q.resolve(result)},function(err){q.reject(err)}),q.promise},numberToString:function(number,options){var q=$q.defer();return navigator.globalization.numberToString(number,function(result){q.resolve(result)},function(err){q.reject(err)},options),q.promise},stringToNumber:function(numberString,options){var q=$q.defer();return navigator.globalization.stringToNumber(numberString,function(result){q.resolve(result)},function(err){q.reject(err)},options),q.promise},getNumberPattern:function(options){var q=$q.defer();return navigator.globalization.getNumberPattern(function(result){q.resolve(result)},function(err){q.reject(err)},options),q.promise},getCurrencyPattern:function(currencyCode){var q=$q.defer();return navigator.globalization.getCurrencyPattern(currencyCode,function(result){q.resolve(result)},function(err){q.reject(err)}),q.promise}}}]),angular.module("ngCordova.plugins.googleAds",[]).factory("$cordovaGoogleAds",["$q","$window",function($q,$window){return{setOptions:function(options){var d=$q.defer();return $window.AdMob.setOptions(options,function(){d.resolve()},function(){d.reject()}),d.promise},createBanner:function(options){var d=$q.defer();return $window.AdMob.createBanner(options,function(){d.resolve()},function(){d.reject()}),d.promise},removeBanner:function(){var d=$q.defer();return $window.AdMob.removeBanner(function(){d.resolve()},function(){d.reject()}),d.promise},showBanner:function(position){var d=$q.defer();return $window.AdMob.showBanner(position,function(){d.resolve()},function(){d.reject()}),d.promise},showBannerAtXY:function(x,y){var d=$q.defer();return $window.AdMob.showBannerAtXY(x,y,function(){d.resolve()},function(){d.reject()}),d.promise},hideBanner:function(){var d=$q.defer();return $window.AdMob.hideBanner(function(){d.resolve()},function(){d.reject()}),d.promise},prepareInterstitial:function(options){var d=$q.defer();return $window.AdMob.prepareInterstitial(options,function(){d.resolve()},function(){d.reject()}),d.promise},showInterstitial:function(){var d=$q.defer();return $window.AdMob.showInterstitial(function(){d.resolve()},function(){d.reject()}),d.promise}}}]),angular.module("ngCordova.plugins.googleAnalytics",[]).factory("$cordovaGoogleAnalytics",["$q","$window",function($q,$window){return{startTrackerWithId:function(id){var d=$q.defer();return $window.analytics.startTrackerWithId(id,function(response){d.resolve(response)},function(error){d.reject(error)}),d.promise},setUserId:function(id){var d=$q.defer();return $window.analytics.setUserId(id,function(response){d.resolve(response)},function(error){d.reject(error)}),d.promise},debugMode:function(){var d=$q.defer();return $window.analytics.debugMode(function(response){d.resolve(response)},function(){d.reject()}),d.promise},trackView:function(screenName){var d=$q.defer();return $window.analytics.trackView(screenName,function(response){d.resolve(response)},function(error){d.reject(error)}),d.promise},addCustomDimension:function(key,value){var d=$q.defer();return $window.analytics.addCustomDimension(key,value,function(){d.resolve()},function(error){d.reject(error)}),d.promise},trackEvent:function(category,action,label,value){var d=$q.defer();return $window.analytics.trackEvent(category,action,label,value,function(response){d.resolve(response)},function(error){d.reject(error)}),d.promise},addTransaction:function(transactionId,affiliation,revenue,tax,shipping,currencyCode){var d=$q.defer();return $window.analytics.addTransaction(transactionId,affiliation,revenue,tax,shipping,currencyCode,function(response){d.resolve(response)},function(error){d.reject(error)}),d.promise},addTransactionItem:function(transactionId,name,sku,category,price,quantity,currencyCode){var d=$q.defer();return $window.analytics.addTransactionItem(transactionId,name,sku,category,price,quantity,currencyCode,function(response){d.resolve(response)},function(error){d.reject(error)}),d.promise}}}]),angular.module("ngCordova.plugins.googleMap",[]).factory("$cordovaGoogleMap",["$q","$window",function($q,$window){var map=null;return{getMap:function(options){var q=$q.defer();if($window.plugin.google.maps){var div=document.getElementById("map_canvas");map=$window.plugin.google.maps.Map.getMap(options),map.setDiv(div),q.resolve(map)}else q.reject(null);return q.promise},isMapLoaded:function(){return!!map},addMarker:function(markerOptions){var q=$q.defer();return map.addMarker(markerOptions,function(marker){q.resolve(marker)}),q.promise},getMapTypeIds:function(){return $window.plugin.google.maps.mapTypeId},setVisible:function(isVisible){var q=$q.defer();return map.setVisible(isVisible),q.promise},cleanup:function(){map=null}}}]),angular.module("ngCordova.plugins.healthKit",[]).factory("$cordovaHealthKit",["$q","$window",function($q,$window){return{isAvailable:function(){var q=$q.defer();return $window.plugins.healthkit.available(function(success){q.resolve(success)},function(err){q.reject(err)}),q.promise},requestAuthorization:function(readTypes,writeTypes){var q=$q.defer();return readTypes=readTypes||["HKCharacteristicTypeIdentifierDateOfBirth","HKQuantityTypeIdentifierActiveEnergyBurned","HKQuantityTypeIdentifierHeight"],writeTypes=writeTypes||["HKQuantityTypeIdentifierActiveEnergyBurned","HKQuantityTypeIdentifierHeight","HKQuantityTypeIdentifierDistanceCycling"],$window.plugins.healthkit.requestAuthorization({readTypes:readTypes,writeTypes:writeTypes},function(success){q.resolve(success)},function(err){q.reject(err)}),q.promise},readDateOfBirth:function(){var q=$q.defer();return $window.plugins.healthkit.readDateOfBirth(function(success){q.resolve(success)},function(err){q.resolve(err)}),q.promise},readGender:function(){var q=$q.defer();return $window.plugins.healthkit.readGender(function(success){q.resolve(success)},function(err){q.resolve(err)}),q.promise},saveWeight:function(value,units,date){var q=$q.defer();return $window.plugins.healthkit.saveWeight({unit:units||"lb",amount:value,date:date||new Date},function(success){q.resolve(success)},function(err){q.resolve(err)}),q.promise},readWeight:function(units){var q=$q.defer();return $window.plugins.healthkit.readWeight({unit:units||"lb"},function(success){q.resolve(success)},function(err){q.resolve(err)}),q.promise},saveHeight:function(value,units,date){var q=$q.defer();return $window.plugins.healthkit.saveHeight({unit:units||"in",amount:value,date:date||new Date},function(success){q.resolve(success)},function(err){q.resolve(err)}),q.promise},readHeight:function(units){var q=$q.defer();return $window.plugins.healthkit.readHeight({unit:units||"in"},function(success){q.resolve(success)},function(err){q.resolve(err)}),q.promise},findWorkouts:function(){var q=$q.defer();return $window.plugins.healthkit.findWorkouts({},function(success){q.resolve(success)},function(err){q.resolve(err)}),q.promise},saveWorkout:function(workout){var q=$q.defer();return $window.plugins.healthkit.saveWorkout(workout,function(success){q.resolve(success)},function(err){q.resolve(err)}),q.promise},querySampleType:function(sampleQuery){var q=$q.defer();return $window.plugins.healthkit.querySampleType(sampleQuery,function(success){q.resolve(success)},function(err){q.resolve(err)}),q.promise}}}]),angular.module("ngCordova.plugins.httpd",[]).factory("$cordovaHttpd",["$q",function($q){return{startServer:function(options){var d=$q.defer();return cordova.plugins.CorHttpd.startServer(options,function(){d.resolve()},function(){d.reject()}),d.promise},stopServer:function(){var d=$q.defer();return cordova.plugins.CorHttpd.stopServer(function(){d.resolve()},function(){d.reject()}),d.promise},getURL:function(){var d=$q.defer();return cordova.plugins.CorHttpd.getURL(function(url){d.resolve(url)},function(){d.reject()}),d.promise},getLocalPath:function(){var d=$q.defer();return cordova.plugins.CorHttpd.getLocalPath(function(path){d.resolve(path)},function(){d.reject()}),d.promise}}}]),angular.module("ngCordova.plugins.iAd",[]).factory("$cordovaiAd",["$q","$window",function($q,$window){return{setOptions:function(options){var d=$q.defer();return $window.iAd.setOptions(options,function(){d.resolve()},function(){d.reject()}),d.promise},createBanner:function(options){var d=$q.defer();return $window.iAd.createBanner(options,function(){d.resolve()},function(){d.reject()}),d.promise},removeBanner:function(){var d=$q.defer();return $window.iAd.removeBanner(function(){d.resolve()},function(){d.reject()}),d.promise},showBanner:function(position){var d=$q.defer();return $window.iAd.showBanner(position,function(){d.resolve()},function(){d.reject()}),d.promise},showBannerAtXY:function(x,y){var d=$q.defer();
return $window.iAd.showBannerAtXY(x,y,function(){d.resolve()},function(){d.reject()}),d.promise},hideBanner:function(){var d=$q.defer();return $window.iAd.hideBanner(function(){d.resolve()},function(){d.reject()}),d.promise},prepareInterstitial:function(options){var d=$q.defer();return $window.iAd.prepareInterstitial(options,function(){d.resolve()},function(){d.reject()}),d.promise},showInterstitial:function(){var d=$q.defer();return $window.iAd.showInterstitial(function(){d.resolve()},function(){d.reject()}),d.promise}}}]),angular.module("ngCordova.plugins.imagePicker",[]).factory("$cordovaImagePicker",["$q","$window",function($q,$window){return{getPictures:function(options){var q=$q.defer();return $window.imagePicker.getPictures(function(results){q.resolve(results)},function(error){q.reject(error)},options),q.promise}}}]),angular.module("ngCordova.plugins.inAppBrowser",[]).provider("$cordovaInAppBrowser",[function(){var ref,defaultOptions=this.defaultOptions={};this.setDefaultOptions=function(config){defaultOptions=angular.extend(defaultOptions,config)},this.$get=["$rootScope","$q","$window","$timeout",function($rootScope,$q,$window,$timeout){return{open:function(url,target,requestOptions){var q=$q.defer();if(requestOptions&&!angular.isObject(requestOptions))return q.reject("options must be an object"),q.promise;var options=angular.extend({},defaultOptions,requestOptions),opt=[];angular.forEach(options,function(value,key){opt.push(key+"="+value)});var optionsString=opt.join();return ref=$window.open(url,target,optionsString),ref.addEventListener("loadstart",function(event){$timeout(function(){$rootScope.$broadcast("$cordovaInAppBrowser:loadstart",event)})},!1),ref.addEventListener("loadstop",function(event){q.resolve(event),$timeout(function(){$rootScope.$broadcast("$cordovaInAppBrowser:loadstop",event)})},!1),ref.addEventListener("loaderror",function(event){q.reject(event),$timeout(function(){$rootScope.$broadcast("$cordovaInAppBrowser:loaderror",event)})},!1),ref.addEventListener("exit",function(event){$timeout(function(){$rootScope.$broadcast("$cordovaInAppBrowser:exit",event)})},!1),q.promise},close:function(){ref.close(),ref=null},show:function(){ref.show()},executeScript:function(details){var q=$q.defer();return ref.executeScript(details,function(result){q.resolve(result)}),q.promise},insertCSS:function(details){var q=$q.defer();return ref.insertCSS(details,function(result){q.resolve(result)}),q.promise}}}]}]),angular.module("ngCordova.plugins.keyboard",[]).factory("$cordovaKeyboard",[function(){return{hideAccessoryBar:function(bool){return cordova.plugins.Keyboard.hideKeyboardAccessoryBar(bool)},close:function(){return cordova.plugins.Keyboard.close()},disableScroll:function(bool){return cordova.plugins.Keyboard.disableScroll(bool)},isVisible:function(){return cordova.plugins.Keyboard.isVisible}}}]),angular.module("ngCordova.plugins.keychain",[]).factory("$cordovaKeychain",["$q","$window",function($q,$window){if("Keychain"in $window)var kc=new Keychain;return{getForKey:function(key,serviceName){var defer=$q.defer();return kc.getForKey(defer.resolve,defer.reject,key,serviceName),defer.promise},setForKey:function(key,serviceName,value){var defer=$q.defer();return kc.setForKey(defer.resolve,defer.reject,key,serviceName,value),defer.promise},removeForKey:function(key,serviceName){var defer=$q.defer();return kc.removeForKey(defer.resolve,defer.reject,key,serviceName),defer.promise}}}]),angular.module("ngCordova.plugins.localNotification",[]).factory("$cordovaLocalNotification",["$q","$window","$rootScope","$timeout",function($q,$window,$rootScope,$timeout){return $window.plugin&&$window.plugin.notification&&($window.plugin.notification.local.oncancel=function(id,state,json){var notification={id:id,state:state,json:json};$timeout(function(){$rootScope.$broadcast("$cordovaLocalNotification:canceled",notification)})},$window.plugin.notification.local.onclick=function(id,state,json){var notification={id:id,state:state,json:json};$timeout(function(){$rootScope.$broadcast("$cordovaLocalNotification:clicked",notification)})},$window.plugin.notification.local.ontrigger=function(id,state,json){var notification={id:id,state:state,json:json};$timeout(function(){$rootScope.$broadcast("$cordovaLocalNotification:triggered",notification)})},$window.plugin.notification.local.onadd=function(id,state,json){var notification={id:id,state:state,json:json};$timeout(function(){$rootScope.$broadcast("$cordovaLocalNotification:added",notification)})}),{add:function(options,scope){var q=$q.defer();return scope=scope||null,$window.plugin.notification.local.add(options,function(result){q.resolve(result)},scope),q.promise},cancel:function(id,scope){var q=$q.defer();return scope=scope||null,$window.plugin.notification.local.cancel(id,function(result){q.resolve(result)},scope),q.promise},cancelAll:function(scope){var q=$q.defer();return scope=scope||null,$window.plugin.notification.local.cancelAll(function(result){q.resolve(result)},scope),q.promise},isScheduled:function(id,scope){var q=$q.defer();return scope=scope||null,$window.plugin.notification.local.isScheduled(id,function(result){q.resolve(result)},scope),q.promise},hasPermission:function(scope){var q=$q.defer();return $window.plugin.notification.local.hasPermission(function(result){result?q.resolve():q.reject()},scope),q.promise},promptForPermission:function(){$window.plugin.notification.local.promptForPermission()},registerPermission:function(){var q=$q.defer();return $window.plugin.notification.local.registerPermission(function(result){result?q.resolve():q.reject()}),q.promise},getScheduledIds:function(scope){var q=$q.defer();return $window.plugin.notification.local.getScheduledIds(function(result){q.resolve(result)},scope),q.promise},isTriggered:function(id,scope){var q=$q.defer();return $window.plugin.notification.local.isTriggered(id,function(result){q.resolve(result)},scope),q.promise},getTriggeredIds:function(scope){var q=$q.defer();return $window.plugin.notification.local.getTriggeredIds(function(result){q.resolve(result)},scope),q.promise},getDefaults:function(){return $window.plugin.notification.local.getDefaults()},setDefaults:function(Object){$window.plugin.notification.local.setDefaults(Object)}}}]),angular.module("ngCordova.plugins.mMediaAds",[]).factory("$cordovaMMediaAds",["$q","$window",function($q,$window){return{setOptions:function(options){var d=$q.defer();return $window.mMedia.setOptions(options,function(){d.resolve()},function(){d.reject()}),d.promise},createBanner:function(options){var d=$q.defer();return $window.mMedia.createBanner(options,function(){d.resolve()},function(){d.reject()}),d.promise},removeBanner:function(){var d=$q.defer();return $window.mMedia.removeBanner(function(){d.resolve()},function(){d.reject()}),d.promise},showBanner:function(position){var d=$q.defer();return $window.mMedia.showBanner(position,function(){d.resolve()},function(){d.reject()}),d.promise},showBannerAtXY:function(x,y){var d=$q.defer();return $window.mMedia.showBannerAtXY(x,y,function(){d.resolve()},function(){d.reject()}),d.promise},hideBanner:function(){var d=$q.defer();return $window.mMedia.hideBanner(function(){d.resolve()},function(){d.reject()}),d.promise},prepareInterstitial:function(options){var d=$q.defer();return $window.mMedia.prepareInterstitial(options,function(){d.resolve()},function(){d.reject()}),d.promise},showInterstitial:function(){var d=$q.defer();return $window.mMedia.showInterstitial(function(){d.resolve()},function(){d.reject()}),d.promise}}}]),angular.module("ngCordova.plugins.media",[]).factory("$cordovaMedia",["$q",function($q){return{newMedia:function(src){var media,q=$q.defer(),mediaStatus=null;return media=new Media(src,function(success){q.resolve(success)},function(error){q.reject(error)},function(status){mediaStatus=status}),q.promise.getCurrentPosition=function(){media.getCurrentPosition(function(){},function(){})},q.promise.getDuration=function(){media.getDuration()},q.promise.play=function(options){"object"!=typeof options&&(options={}),media.play(options)},q.promise.pause=function(){media.pause()},q.promise.stop=function(){media.stop()},q.promise.release=function(){media.release()},q.promise.seekTo=function(timing){media.seekTo(timing)},q.promise.setVolume=function(volume){media.setVolume(volume)},q.promise.startRecord=function(){media.startRecord()},q.promise.stopRecord=function(){media.stopRecord()},q.promise}}}]),angular.module("ngCordova.plugins.mobfoxAds",[]).factory("$cordovaMobFoxAds",["$q","$window",function($q,$window){return{setOptions:function(options){var d=$q.defer();return $window.MobFox.setOptions(options,function(){d.resolve()},function(){d.reject()}),d.promise},createBanner:function(options){var d=$q.defer();return $window.MobFox.createBanner(options,function(){d.resolve()},function(){d.reject()}),d.promise},removeBanner:function(){var d=$q.defer();return $window.MobFox.removeBanner(function(){d.resolve()},function(){d.reject()}),d.promise},showBanner:function(position){var d=$q.defer();return $window.MobFox.showBanner(position,function(){d.resolve()},function(){d.reject()}),d.promise},showBannerAtXY:function(x,y){var d=$q.defer();return $window.MobFox.showBannerAtXY(x,y,function(){d.resolve()},function(){d.reject()}),d.promise},hideBanner:function(){var d=$q.defer();return $window.MobFox.hideBanner(function(){d.resolve()},function(){d.reject()}),d.promise},prepareInterstitial:function(options){var d=$q.defer();return $window.MobFox.prepareInterstitial(options,function(){d.resolve()},function(){d.reject()}),d.promise},showInterstitial:function(){var d=$q.defer();return $window.MobFox.showInterstitial(function(){d.resolve()},function(){d.reject()}),d.promise}}}]),angular.module("ngCordova.plugins",["ngCordova.plugins.actionSheet","ngCordova.plugins.adMob","ngCordova.plugins.appAvailability","ngCordova.plugins.appRate","ngCordova.plugins.appVersion","ngCordova.plugins.backgroundGeolocation","ngCordova.plugins.badge","ngCordova.plugins.barcodeScanner","ngCordova.plugins.batteryStatus","ngCordova.plugins.ble","ngCordova.plugins.bluetoothSerial","ngCordova.plugins.brightness","ngCordova.plugins.calendar","ngCordova.plugins.camera","ngCordova.plugins.capture","ngCordova.plugins.clipboard","ngCordova.plugins.contacts","ngCordova.plugins.datePicker","ngCordova.plugins.device","ngCordova.plugins.deviceMotion","ngCordova.plugins.deviceOrientation","ngCordova.plugins.dialogs","ngCordova.plugins.emailComposer","ngCordova.plugins.facebook","ngCordova.plugins.facebookAds","ngCordova.plugins.file","ngCordova.plugins.fileTransfer","ngCordova.plugins.fileOpener2","ngCordova.plugins.flashlight","ngCordova.plugins.flurryAds","ngCordova.plugins.ga","ngCordova.plugins.geolocation","ngCordova.plugins.globalization","ngCordova.plugins.googleAds","ngCordova.plugins.googleAnalytics","ngCordova.plugins.googleMap","ngCordova.plugins.healthKit","ngCordova.plugins.httpd","ngCordova.plugins.iAd","ngCordova.plugins.imagePicker","ngCordova.plugins.inAppBrowser","ngCordova.plugins.keyboard","ngCordova.plugins.keychain","ngCordova.plugins.localNotification","ngCordova.plugins.media","ngCordova.plugins.mMediaAds","ngCordova.plugins.mobfoxAds","ngCordova.plugins.mopubAds","ngCordova.plugins.nativeAudio","ngCordova.plugins.network","ngCordova.plugins.oauth","ngCordova.plugins.oauthUtility","ngCordova.plugins.pinDialog","ngCordova.plugins.prefs","ngCordova.plugins.printer","ngCordova.plugins.progressIndicator","ngCordova.plugins.push","ngCordova.plugins.sms","ngCordova.plugins.socialSharing","ngCordova.plugins.spinnerDialog","ngCordova.plugins.splashscreen","ngCordova.plugins.sqlite","ngCordova.plugins.statusbar","ngCordova.plugins.toast","ngCordova.plugins.touchid","ngCordova.plugins.vibration","ngCordova.plugins.videoCapturePlus","ngCordova.plugins.zip"]),angular.module("ngCordova.plugins.mopubAds",[]).factory("$cordovaMoPubAds",["$q","$window",function($q,$window){return{setOptions:function(options){var d=$q.defer();return $window.MoPub.setOptions(options,function(){d.resolve()},function(){d.reject()}),d.promise},createBanner:function(options){var d=$q.defer();return $window.MoPub.createBanner(options,function(){d.resolve()},function(){d.reject()}),d.promise},removeBanner:function(){var d=$q.defer();return $window.MoPub.removeBanner(function(){d.resolve()},function(){d.reject()}),d.promise},showBanner:function(position){var d=$q.defer();return $window.MoPub.showBanner(position,function(){d.resolve()},function(){d.reject()}),d.promise},showBannerAtXY:function(x,y){var d=$q.defer();return $window.MoPub.showBannerAtXY(x,y,function(){d.resolve()},function(){d.reject()}),d.promise},hideBanner:function(){var d=$q.defer();return $window.MoPub.hideBanner(function(){d.resolve()},function(){d.reject()}),d.promise},prepareInterstitial:function(options){var d=$q.defer();return $window.MoPub.prepareInterstitial(options,function(){d.resolve()},function(){d.reject()}),d.promise},showInterstitial:function(){var d=$q.defer();return $window.MoPub.showInterstitial(function(){d.resolve()},function(){d.reject()}),d.promise}}}]),angular.module("ngCordova.plugins.nativeAudio",[]).factory("$cordovaNativeAudio",["$q","$window",function($q,$window){return{preloadSimple:function(id,assetPath){var q=$q.defer();return $window.plugins.NativeAudio.preloadSimple(id,assetPath,function(result){q.resolve(result)},function(err){q.reject(err)}),q.promise},preloadComplex:function(id,assetPath,volume,voices){var q=$q.defer();return $window.plugins.NativeAudio.preloadComplex(id,assetPath,volume,voices,function(result){q.resolve(result)},function(err){q.reject(err)}),q.promise},play:function(id,completeCallback){var q=$q.defer();return $window.plugins.NativeAudio.play(id,completeCallback,function(result){q.resolve(result)},function(err){q.reject(err)}),q.promise},stop:function(id){var q=$q.defer();return $window.plugins.NativeAudio.stop(id,function(result){q.resolve(result)},function(err){q.reject(err)}),q.promise},loop:function(id){var q=$q.defer();return $window.plugins.NativeAudio.loop(id,function(result){q.resolve(result)},function(err){q.reject(err)}),q.promise},unload:function(id){var q=$q.defer();return $window.plugins.NativeAudio.unload(id,function(result){q.resolve(result)},function(err){q.reject(err)}),q.promise},setVolumeForComplexAsset:function(id,volume){var q=$q.defer();return $window.plugins.NativeAudio.setVolumeForComplexAsset(id,volume,function(result){q.resolve(result)},function(err){q.reject(err)}),q.promise}}}]),angular.module("ngCordova.plugins.network",[]).factory("$cordovaNetwork",["$rootScope","$timeout",function($rootScope,$timeout){var offlineEvent=function(){var networkState=navigator.connection.type;$timeout(function(){$rootScope.$broadcast("$cordovaNetwork:offline",networkState)})},onlineEvent=function(){var networkState=navigator.connection.type;$timeout(function(){$rootScope.$broadcast("$cordovaNetwork:online",networkState)})};return document.addEventListener("deviceready",function(){navigator.connection&&(document.addEventListener("offline",offlineEvent,!1),document.addEventListener("online",onlineEvent,!1))}),{getNetwork:function(){return navigator.connection.type},isOnline:function(){var networkState=navigator.connection.type;return networkState!==Connection.UNKNOWN&&networkState!==Connection.NONE},isOffline:function(){var networkState=navigator.connection.type;return networkState===Connection.UNKNOWN||networkState===Connection.NONE},clearOfflineWatch:function(){document.removeEventListener("offline",offlineEvent),$rootScope.$$listeners["$cordovaNetwork:offline"]=[]},clearOnlineWatch:function(){document.removeEventListener("online",offlineEvent),$rootScope.$$listeners["$cordovaNetwork:online"]=[]}}}]).run(["$cordovaNetwork",function(){}]),angular.module("ngCordova.plugins.oauth",["ngCordova.plugins.oauthUtility"]).factory("$cordovaOauth",["$q","$http","$cordovaOauthUtility",function($q,$http,$cordovaOauthUtility){return{adfs:function(clientId,adfsServer,relyingPartyId){var deferred=$q.defer();if(window.cordova){var cordovaMetadata=cordova.require("cordova/plugin_list").metadata;if(cordovaMetadata.hasOwnProperty("org.apache.cordova.inappbrowser")===!0){var browserRef=window.open(adfsServer+"/adfs/oauth2/authorize?response_type=code&client_id="+clientId+"&redirect_uri=http://localhost/callback&resource="+relyingPartyId,"_blank","location=no");browserRef.addEventListener("loadstart",function(event){if(0===event.url.indexOf("http://localhost/callback")){var requestToken=event.url.split("code=")[1];$http.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",$http({method:"post",url:adfsServer+"/adfs/oauth2/token",data:"client_id="+clientId+"&code="+requestToken+"&redirect_uri=http://localhost/callback&grant_type=authorization_code"}).success(function(data){deferred.resolve(data)}).error(function(){deferred.reject("Problem authenticating")})["finally"](function(){setTimeout(function(){browserRef.close()},10)})}}),browserRef.addEventListener("exit",function(){deferred.reject("The sign in flow was canceled")})}else deferred.reject("Could not find InAppBrowser plugin")}else deferred.reject("Cannot authenticate via a web browser");return deferred.promise},dropbox:function(appKey){var deferred=$q.defer();if(window.cordova){var cordovaMetadata=cordova.require("cordova/plugin_list").metadata;if(cordovaMetadata.hasOwnProperty("org.apache.cordova.inappbrowser")===!0){var browserRef=window.open("https://www.dropbox.com/1/oauth2/authorize?client_id="+appKey+"&redirect_uri=http://localhost/callback&response_type=token","_blank","location=no,clearsessioncache=yes,clearcache=yes");browserRef.addEventListener("loadstart",function(event){if(0===event.url.indexOf("http://localhost/callback")){for(var callbackResponse=event.url.split("#")[1],responseParameters=callbackResponse.split("&"),parameterMap=[],i=0;i<responseParameters.length;i++)parameterMap[responseParameters[i].split("=")[0]]=responseParameters[i].split("=")[1];void 0!==parameterMap.access_token&&null!==parameterMap.access_token?deferred.resolve({access_token:parameterMap.access_token,token_type:parameterMap.token_type,uid:parameterMap.uid}):deferred.reject("Problem authenticating"),setTimeout(function(){browserRef.close()},10)}}),browserRef.addEventListener("exit",function(){deferred.reject("The sign in flow was canceled")})}else deferred.reject("Could not find InAppBrowser plugin")}else deferred.reject("Cannot authenticate via a web browser");return deferred.promise},digitalOcean:function(clientId,clientSecret){var deferred=$q.defer();if(window.cordova){var cordovaMetadata=cordova.require("cordova/plugin_list").metadata;if(cordovaMetadata.hasOwnProperty("org.apache.cordova.inappbrowser")===!0){var browserRef=window.open("https://cloud.digitalocean.com/v1/oauth/authorize?client_id="+clientId+"&redirect_uri=http://localhost/callback&response_type=code&scope=read%20write","_blank","location=no,clearsessioncache=yes,clearcache=yes");browserRef.addEventListener("loadstart",function(event){if(0===event.url.indexOf("http://localhost/callback")){var requestToken=event.url.split("code=")[1];$http.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",$http({method:"post",url:"https://cloud.digitalocean.com/v1/oauth/token",data:"client_id="+clientId+"&client_secret="+clientSecret+"&redirect_uri=http://localhost/callback&grant_type=authorization_code&code="+requestToken}).success(function(data){deferred.resolve(data)}).error(function(){deferred.reject("Problem authenticating")})["finally"](function(){setTimeout(function(){browserRef.close()},10)})}}),browserRef.addEventListener("exit",function(){deferred.reject("The sign in flow was canceled")})}else deferred.reject("Could not find InAppBrowser plugin")}else deferred.reject("Cannot authenticate via a web browser");return deferred.promise},google:function(clientId,appScope){var deferred=$q.defer();if(window.cordova){var cordovaMetadata=cordova.require("cordova/plugin_list").metadata;if(cordovaMetadata.hasOwnProperty("org.apache.cordova.inappbrowser")===!0){var browserRef=window.open("https://accounts.google.com/o/oauth2/auth?client_id="+clientId+"&redirect_uri=http://localhost/callback&scope="+appScope.join(" ")+"&approval_prompt=force&response_type=token","_blank","location=no,clearsessioncache=yes,clearcache=yes");browserRef.addEventListener("loadstart",function(event){if(0===event.url.indexOf("http://localhost/callback")){for(var callbackResponse=event.url.split("#")[1],responseParameters=callbackResponse.split("&"),parameterMap=[],i=0;i<responseParameters.length;i++)parameterMap[responseParameters[i].split("=")[0]]=responseParameters[i].split("=")[1];void 0!==parameterMap.access_token&&null!==parameterMap.access_token?deferred.resolve({access_token:parameterMap.access_token,token_type:parameterMap.token_type,expires_in:parameterMap.expires_in}):deferred.reject("Problem authenticating"),setTimeout(function(){browserRef.close()},10)}}),browserRef.addEventListener("exit",function(){deferred.reject("The sign in flow was canceled")})}else deferred.reject("Could not find InAppBrowser plugin")}else deferred.reject("Cannot authenticate via a web browser");return deferred.promise},github:function(clientId,clientSecret,appScope){var deferred=$q.defer();if(window.cordova){var cordovaMetadata=cordova.require("cordova/plugin_list").metadata;if(cordovaMetadata.hasOwnProperty("org.apache.cordova.inappbrowser")===!0){var browserRef=window.open("https://github.com/login/oauth/authorize?client_id="+clientId+"&redirect_uri=http://localhost/callback&scope="+appScope.join(","),"_blank","location=no,clearsessioncache=yes,clearcache=yes");browserRef.addEventListener("loadstart",function(event){0===event.url.indexOf("http://localhost/callback")&&(requestToken=event.url.split("code=")[1],$http.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",$http.defaults.headers.post.accept="application/json",$http({method:"post",url:"https://github.com/login/oauth/access_token",data:"client_id="+clientId+"&client_secret="+clientSecret+"&redirect_uri=http://localhost/callback&code="+requestToken}).success(function(data){deferred.resolve(data)}).error(function(){deferred.reject("Problem authenticating")})["finally"](function(){setTimeout(function(){browserRef.close()},10)}))}),browserRef.addEventListener("exit",function(){deferred.reject("The sign in flow was canceled")})}else deferred.reject("Could not find InAppBrowser plugin")}else deferred.reject("Cannot authenticate via a web browser");return deferred.promise},facebook:function(clientId,appScope){var deferred=$q.defer();if(window.cordova){var cordovaMetadata=cordova.require("cordova/plugin_list").metadata;if(cordovaMetadata.hasOwnProperty("org.apache.cordova.inappbrowser")===!0){var browserRef=window.open("https://www.facebook.com/dialog/oauth?client_id="+clientId+"&redirect_uri=http://localhost/callback&response_type=token&scope="+appScope.join(","),"_blank","location=no,clearsessioncache=yes,clearcache=yes");browserRef.addEventListener("loadstart",function(event){if(0===event.url.indexOf("http://localhost/callback")){for(var callbackResponse=event.url.split("#")[1],responseParameters=callbackResponse.split("&"),parameterMap=[],i=0;i<responseParameters.length;i++)parameterMap[responseParameters[i].split("=")[0]]=responseParameters[i].split("=")[1];void 0!==parameterMap.access_token&&null!==parameterMap.access_token?deferred.resolve({access_token:parameterMap.access_token,expires_in:parameterMap.expires_in}):deferred.reject("Problem authenticating"),setTimeout(function(){browserRef.close()},10)}}),browserRef.addEventListener("exit",function(){deferred.reject("The sign in flow was canceled")})}else deferred.reject("Could not find InAppBrowser plugin")}else deferred.reject("Cannot authenticate via a web browser");return deferred.promise},linkedin:function(clientId,clientSecret,appScope,state){var deferred=$q.defer();if(window.cordova){var cordovaMetadata=cordova.require("cordova/plugin_list").metadata;if(cordovaMetadata.hasOwnProperty("org.apache.cordova.inappbrowser")===!0){var browserRef=window.open("https://www.linkedin.com/uas/oauth2/authorization?client_id="+clientId+"&redirect_uri=http://localhost/callback&scope="+appScope.join(" ")+"&response_type=code&state="+state,"_blank","location=no,clearsessioncache=yes,clearcache=yes");browserRef.addEventListener("loadstart",function(event){0===event.url.indexOf("http://localhost/callback")&&(requestToken=event.url.split("code=")[1],$http.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",$http({method:"post",url:"https://www.linkedin.com/uas/oauth2/accessToken",data:"client_id="+clientId+"&client_secret="+clientSecret+"&redirect_uri=http://localhost/callback&grant_type=authorization_code&code="+requestToken}).success(function(data){deferred.resolve(data)}).error(function(){deferred.reject("Problem authenticating")})["finally"](function(){setTimeout(function(){browserRef.close()},10)}))}),browserRef.addEventListener("exit",function(){deferred.reject("The sign in flow was canceled")})}else deferred.reject("Could not find InAppBrowser plugin")}else deferred.reject("Cannot authenticate via a web browser");return deferred.promise},instagram:function(clientId,appScope){var deferred=$q.defer();if(window.cordova){var cordovaMetadata=cordova.require("cordova/plugin_list").metadata;if(cordovaMetadata.hasOwnProperty("org.apache.cordova.inappbrowser")===!0){var browserRef=window.open("https://api.instagram.com/oauth/authorize/?client_id="+clientId+"&redirect_uri=http://localhost/callback&scope="+appScope.join(" ")+"&response_type=token","_blank","location=no,clearsessioncache=yes,clearcache=yes");browserRef.addEventListener("loadstart",function(event){if(0===event.url.indexOf("http://localhost/callback")){for(var callbackResponse=event.url.split("#")[1],responseParameters=callbackResponse.split("&"),parameterMap=[],i=0;i<responseParameters.length;i++)parameterMap[responseParameters[i].split("=")[0]]=responseParameters[i].split("=")[1];void 0!==parameterMap.access_token&&null!==parameterMap.access_token?deferred.resolve({access_token:parameterMap.access_token}):deferred.reject("Problem authenticating"),setTimeout(function(){browserRef.close()},10)}}),browserRef.addEventListener("exit",function(){deferred.reject("The sign in flow was canceled")})}else deferred.reject("Could not find InAppBrowser plugin")}else deferred.reject("Cannot authenticate via a web browser");return deferred.promise},box:function(clientId,clientSecret,appState){var deferred=$q.defer();if(window.cordova){var cordovaMetadata=cordova.require("cordova/plugin_list").metadata;if(cordovaMetadata.hasOwnProperty("org.apache.cordova.inappbrowser")===!0){var browserRef=window.open("https://app.box.com/api/oauth2/authorize/?client_id="+clientId+"&redirect_uri=http://localhost/callback&state="+appState+"&response_type=code","_blank","location=no,clearsessioncache=yes,clearcache=yes");browserRef.addEventListener("loadstart",function(event){0===event.url.indexOf("http://localhost/callback")&&(requestToken=event.url.split("code=")[1],$http.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",$http({method:"post",url:"https://app.box.com/api/oauth2/token",data:"client_id="+clientId+"&client_secret="+clientSecret+"&redirect_uri=http://localhost/callback&grant_type=authorization_code&code="+requestToken}).success(function(data){deferred.resolve(data)}).error(function(){deferred.reject("Problem authenticating")})["finally"](function(){setTimeout(function(){browserRef.close()},10)}))}),browserRef.addEventListener("exit",function(){deferred.reject("The sign in flow was canceled")})}else deferred.reject("Could not find InAppBrowser plugin")}else deferred.reject("Cannot authenticate via a web browser");return deferred.promise},reddit:function(clientId,clientSecret,appScope){var deferred=$q.defer();if(window.cordova){var cordovaMetadata=cordova.require("cordova/plugin_list").metadata;if(cordovaMetadata.hasOwnProperty("org.apache.cordova.inappbrowser")===!0){var browserRef=window.open("https://ssl.reddit.com/api/v1/authorize?client_id="+clientId+"&redirect_uri=http://localhost/callback&duration=permanent&state=ngcordovaoauth&scope="+appScope.join(",")+"&response_type=code","_blank","location=no,clearsessioncache=yes,clearcache=yes");browserRef.addEventListener("loadstart",function(event){0===event.url.indexOf("http://localhost/callback")&&(requestToken=event.url.split("code=")[1],$http.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",$http.defaults.headers.post.Authorization="Basic "+btoa(clientId+":"+clientSecret),$http({method:"post",url:"https://ssl.reddit.com/api/v1/access_token",data:"redirect_uri=http://localhost/callback&grant_type=authorization_code&code="+requestToken}).success(function(data){deferred.resolve(data)}).error(function(){deferred.reject("Problem authenticating")})["finally"](function(){setTimeout(function(){browserRef.close()},10)}))}),browserRef.addEventListener("exit",function(){deferred.reject("The sign in flow was canceled")})}else deferred.reject("Could not find InAppBrowser plugin")}else deferred.reject("Cannot authenticate via a web browser");return deferred.promise},twitter:function(clientId,clientSecret){var deferred=$q.defer();if(window.cordova){var cordovaMetadata=cordova.require("cordova/plugin_list").metadata;if(cordovaMetadata.hasOwnProperty("org.apache.cordova.inappbrowser")===!0)if("undefined"!=typeof jsSHA){var oauthObject={oauth_consumer_key:clientId,oauth_nonce:$cordovaOauthUtility.createNonce(10),oauth_signature_method:"HMAC-SHA1",oauth_timestamp:Math.round((new Date).getTime()/1e3),oauth_version:"1.0"},signatureObj=$cordovaOauthUtility.createSignature("POST","https://api.twitter.com/oauth/request_token",oauthObject,{oauth_callback:"http://localhost/callback"},clientSecret);$http.defaults.headers.post.Authorization=signatureObj.authorization_header,$http.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",$http({method:"post",url:"https://api.twitter.com/oauth/request_token",data:"oauth_callback=http://localhost/callback"}).success(function(requestTokenResult){for(var requestTokenParameters=requestTokenResult.split("&"),parameterMap={},i=0;i<requestTokenParameters.length;i++)parameterMap[requestTokenParameters[i].split("=")[0]]=requestTokenParameters[i].split("=")[1];parameterMap.hasOwnProperty("oauth_token")===!1&&deferred.reject("Oauth request token was not received");var browserRef=window.open("https://api.twitter.com/oauth/authenticate?oauth_token="+parameterMap.oauth_token,"_blank","location=no,clearsessioncache=yes,clearcache=yes");browserRef.addEventListener("loadstart",function(event){if(0===event.url.indexOf("http://localhost/callback")){for(var callbackResponse=event.url.split("?")[1],responseParameters=callbackResponse.split("&"),parameterMap={},i=0;i<responseParameters.length;i++)parameterMap[responseParameters[i].split("=")[0]]=responseParameters[i].split("=")[1];parameterMap.hasOwnProperty("oauth_verifier")===!1&&deferred.reject("Browser authentication failed to complete.  No oauth_verifier was returned"),delete oauthObject.oauth_signature,oauthObject.oauth_token=parameterMap.oauth_token;var signatureObj=$cordovaOauthUtility.createSignature("POST","https://api.twitter.com/oauth/access_token",oauthObject,{oauth_verifier:parameterMap.oauth_verifier},clientSecret);$http.defaults.headers.post.Authorization=signatureObj.authorization_header,$http.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",$http({method:"post",url:"https://api.twitter.com/oauth/access_token",data:"oauth_verifier="+parameterMap.oauth_verifier}).success(function(result){for(var accessTokenParameters=result.split("&"),parameterMap={},i=0;i<accessTokenParameters.length;i++)parameterMap[accessTokenParameters[i].split("=")[0]]=accessTokenParameters[i].split("=")[1];
parameterMap.hasOwnProperty("oauth_token_secret")===!1&&deferred.reject("Oauth access token was not received"),deferred.resolve(parameterMap)}).error(function(error){deferred.reject(error)})["finally"](function(){setTimeout(function(){browserRef.close()},10)})}}),browserRef.addEventListener("exit",function(){deferred.reject("The sign in flow was canceled")})}).error(function(error){deferred.reject(error)})}else deferred.reject("Missing jsSHA JavaScript library");else deferred.reject("Could not find InAppBrowser plugin")}else deferred.reject("Cannot authenticate via a web browser");return deferred.promise},meetup:function(clientId){var deferred=$q.defer();if(window.cordova){var cordovaMetadata=cordova.require("cordova/plugin_list").metadata;if(cordovaMetadata.hasOwnProperty("org.apache.cordova.inappbrowser")===!0){var browserRef=window.open("https://secure.meetup.com/oauth2/authorize/?client_id="+clientId+"&redirect_uri=http://localhost/callback&response_type=token","_blank","location=no,clearsessioncache=yes,clearcache=yes");browserRef.addEventListener("loadstart",function(event){if(0===event.url.indexOf("http://localhost/callback")){for(var callbackResponse=event.url.split("#")[1],responseParameters=callbackResponse.split("&"),parameterMap={},i=0;i<responseParameters.length;i++)parameterMap[responseParameters[i].split("=")[0]]=responseParameters[i].split("=")[1];void 0!==parameterMap.access_token&&null!==parameterMap.access_token?deferred.resolve(parameterMap):deferred.reject("Problem authenticating"),setTimeout(function(){browserRef.close()},10)}}),browserRef.addEventListener("exit",function(){deferred.reject("The sign in flow was canceled")})}else deferred.reject("Could not find InAppBrowser plugin")}else deferred.reject("Cannot authenticate via a web browser");return deferred.promise},salesforce:function(loginUrl,clientId){var redirectUri="http://localhost/callback",getAuthorizeUrl=function(loginUrl,clientId,redirectUri){return loginUrl+"services/oauth2/authorize?display=touch&response_type=token&client_id="+escape(clientId)+"&redirect_uri="+escape(redirectUri)},startWith=function(string,str){return string.substr(0,str.length)===str},deferred=$q.defer();if(window.cordova){var cordovaMetadata=cordova.require("cordova/plugin_list").metadata;if(cordovaMetadata.hasOwnProperty("org.apache.cordova.inappbrowser")===!0){var browserRef=window.open(getAuthorizeUrl(loginUrl,clientId,redirectUri),"_blank","location=no,clearsessioncache=yes,clearcache=yes");browserRef.addEventListener("loadstart",function(event){if(startWith(event.url,redirectUri)){var oauthResponse={},fragment=event.url.split("#")[1];if(fragment){var nvps=fragment.split("&");for(var nvp in nvps){var parts=nvps[nvp].split("=");oauthResponse[parts[0]]=unescape(parts[1])}}"undefined"==typeof oauthResponse||"undefined"==typeof oauthResponse.access_token?deferred.reject("Problem authenticating"):deferred.resolve(oauthResponse),setTimeout(function(){browserRef.close()},10)}}),browserRef.addEventListener("exit",function(){deferred.reject("The sign in flow was canceled")})}else deferred.reject("Could not find InAppBrowser plugin")}else deferred.reject("Cannot authenticate via a web browser");return deferred.promise},strava:function(clientId,clientSecret,appScope){var deferred=$q.defer();if(window.cordova){var cordovaMetadata=cordova.require("cordova/plugin_list").metadata;if(cordovaMetadata.hasOwnProperty("org.apache.cordova.inappbrowser")===!0){var browserRef=window.open("https://www.strava.com/oauth/authorize?client_id="+clientId+"&redirect_uri=http://localhost/callback&scope="+appScope.join(",")+"&response_type=code&approval_prompt=force","_blank","location=no,clearsessioncache=yes,clearcache=yes");browserRef.addEventListener("loadstart",function(event){0===event.url.indexOf("http://localhost/callback")&&(requestToken=event.url.split("code=")[1],$http.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",$http({method:"post",url:"https://www.strava.com/oauth/token",data:"client_id="+clientId+"&client_secret="+clientSecret+"&code="+requestToken}).success(function(data){deferred.resolve(data)}).error(function(){deferred.reject("Problem authenticating")})["finally"](function(){setTimeout(function(){browserRef.close()},10)}))}),browserRef.addEventListener("exit",function(){deferred.reject("The sign in flow was canceled")})}else deferred.reject("Could not find InAppBrowser plugin")}else deferred.reject("Cannot authenticate via a web browser");return deferred.promise},foursquare:function(clientId){var deferred=$q.defer();if(window.cordova){var cordovaMetadata=cordova.require("cordova/plugin_list").metadata;if(cordovaMetadata.hasOwnProperty("org.apache.cordova.inappbrowser")===!0){var browserRef=window.open("https://foursquare.com/oauth2/authenticate?client_id="+clientId+"&redirect_uri=http://localhost/callback&response_type=token","_blank","location=no,clearsessioncache=yes,clearcache=yes");browserRef.addEventListener("loadstart",function(event){if(0===event.url.indexOf("http://localhost/callback")){for(var callbackResponse=event.url.split("#")[1],responseParameters=callbackResponse.split("&"),parameterMap=[],i=0;i<responseParameters.length;i++)parameterMap[responseParameters[i].split("=")[0]]=responseParameters[i].split("=")[1];if(void 0!==parameterMap.access_token&&null!==parameterMap.access_token){var promiseResponse={access_token:parameterMap.access_token,expires_in:parameterMap.expires_in};deferred.resolve(promiseResponse)}else deferred.reject("Problem authenticating");setTimeout(function(){browserRef.close()},10)}}),browserRef.addEventListener("exit",function(){deferred.reject("The sign in flow was canceled")})}else deferred.reject("Could not find InAppBrowser plugin")}else deferred.reject("Cannot authenticate via a web browser");return deferred.promise},magento:function(baseUrl,clientId,clientSecret){var deferred=$q.defer();if(window.cordova){var cordovaMetadata=cordova.require("cordova/plugin_list").metadata;if(cordovaMetadata.hasOwnProperty("org.apache.cordova.inappbrowser")===!0)if("undefined"!=typeof jsSHA){var oauthObject={oauth_callback:"http://localhost/callback",oauth_consumer_key:clientId,oauth_nonce:$cordovaOauthUtility.createNonce(5),oauth_signature_method:"HMAC-SHA1",oauth_timestamp:Math.round((new Date).getTime()/1e3),oauth_version:"1.0"},signatureObj=$cordovaOauthUtility.createSignature("POST",baseUrl+"/oauth/initiate",oauthObject,{oauth_callback:"http://localhost/callback"},clientSecret);$http.defaults.headers.post.Authorization=signatureObj.authorization_header,$http.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",$http({method:"post",url:baseUrl+"/oauth/initiate",data:"oauth_callback=http://localhost/callback"}).success(function(requestTokenResult){for(var requestTokenParameters=requestTokenResult.split("&"),parameterMap={},i=0;i<requestTokenParameters.length;i++)parameterMap[requestTokenParameters[i].split("=")[0]]=requestTokenParameters[i].split("=")[1];parameterMap.hasOwnProperty("oauth_token")===!1&&deferred.reject("Oauth request token was not received");var tokenSecret=parameterMap.oauth_token_secret,browserRef=window.open(baseUrl+"/oauth/authorize?oauth_token="+parameterMap.oauth_token,"_blank","location=no,clearsessioncache=yes,clearcache=yes");browserRef.addEventListener("loadstart",function(event){if(0===event.url.indexOf("http://localhost/callback")){for(var callbackResponse=event.url.split("?")[1],responseParameters=callbackResponse.split("&"),parameterMap={},i=0;i<responseParameters.length;i++)parameterMap[responseParameters[i].split("=")[0]]=responseParameters[i].split("=")[1];parameterMap.hasOwnProperty("oauth_verifier")===!1&&deferred.reject("Browser authentication failed to complete.  No oauth_verifier was returned"),delete oauthObject.oauth_signature,delete oauthObject.oauth_callback,oauthObject.oauth_token=parameterMap.oauth_token,oauthObject.oauth_nonce=$cordovaOauthUtility.createNonce(5),oauthObject.oauth_verifier=parameterMap.oauth_verifier;var signatureObj=$cordovaOauthUtility.createSignature("POST",baseUrl+"/oauth/token",oauthObject,{},clientSecret,tokenSecret);$http.defaults.headers.post.Authorization=signatureObj.authorization_header,$http.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",$http({method:"post",url:baseUrl+"/oauth/token"}).success(function(result){for(var accessTokenParameters=result.split("&"),parameterMap={},i=0;i<accessTokenParameters.length;i++)parameterMap[accessTokenParameters[i].split("=")[0]]=accessTokenParameters[i].split("=")[1];parameterMap.hasOwnProperty("oauth_token_secret")===!1&&deferred.reject("Oauth access token was not received"),deferred.resolve(parameterMap)}).error(function(error){deferred.reject(error)})["finally"](function(){setTimeout(function(){browserRef.close()},10)})}}),browserRef.addEventListener("exit",function(){deferred.reject("The sign in flow was canceled")})}).error(function(error){deferred.reject(error)})}else deferred.reject("Missing jsSHA JavaScript library");else deferred.reject("Could not find InAppBrowser plugin")}else deferred.reject("Cannot authenticate via a web browser");return deferred.promise},vkontakte:function(clientId,appScope){var deferred=$q.defer();if(window.cordova){var cordovaMetadata=cordova.require("cordova/plugin_list").metadata;if(cordovaMetadata.hasOwnProperty("org.apache.cordova.inappbrowser")===!0){var browserRef=window.open("https://oauth.vk.com/authorize?client_id="+clientId+"&redirect_uri=http://oauth.vk.com/blank.html&response_type=token&scope="+appScope.join(",")+"&display=touch&response_type=token","_blank","location=no,clearsessioncache=yes,clearcache=yes");browserRef.addEventListener("loadstart",function(event){var tmp=event.url.split("#");if("https://oauth.vk.com/blank.html"==tmp[0]||"http://oauth.vk.com/blank.html"==tmp[0]){for(var callbackResponse=event.url.split("#")[1],responseParameters=callbackResponse.split("&"),parameterMap=[],i=0;i<responseParameters.length;i++)parameterMap[responseParameters[i].split("=")[0]]=responseParameters[i].split("=")[1];void 0!==parameterMap.access_token&&null!==parameterMap.access_token?deferred.resolve({access_token:parameterMap.access_token,expires_in:parameterMap.expires_in}):deferred.reject("Problem authenticating"),setTimeout(function(){browserRef.close()},10)}}),browserRef.addEventListener("exit",function(){deferred.reject("The sign in flow was canceled")})}else deferred.reject("Could not find InAppBrowser plugin")}else deferred.reject("Cannot authenticate via a web browser");return deferred.promise}}}]),angular.module("ngCordova.plugins.oauthUtility",[]).factory("$cordovaOauthUtility",["$q",function(){return{createSignature:function(method,endPoint,headerParameters,bodyParameters,secretKey,tokenSecret){if("undefined"!=typeof jsSHA){for(var headerAndBodyParameters=angular.copy(headerParameters),bodyParameterKeys=Object.keys(bodyParameters),i=0;i<bodyParameterKeys.length;i++)headerAndBodyParameters[bodyParameterKeys[i]]=encodeURIComponent(bodyParameters[bodyParameterKeys[i]]);var signatureBaseString=method+"&"+encodeURIComponent(endPoint)+"&",headerAndBodyParameterKeys=Object.keys(headerAndBodyParameters).sort();for(i=0;i<headerAndBodyParameterKeys.length;i++)signatureBaseString+=encodeURIComponent(i==headerAndBodyParameterKeys.length-1?headerAndBodyParameterKeys[i]+"="+headerAndBodyParameters[headerAndBodyParameterKeys[i]]:headerAndBodyParameterKeys[i]+"="+headerAndBodyParameters[headerAndBodyParameterKeys[i]]+"&");var oauthSignatureObject=new jsSHA(signatureBaseString,"TEXT"),encodedTokenSecret="";tokenSecret&&(encodedTokenSecret=encodeURIComponent(tokenSecret)),headerParameters.oauth_signature=encodeURIComponent(oauthSignatureObject.getHMAC(encodeURIComponent(secretKey)+"&"+encodedTokenSecret,"TEXT","SHA-1","B64"));var headerParameterKeys=Object.keys(headerParameters),authorizationHeader="OAuth ";for(i=0;i<headerParameterKeys.length;i++)authorizationHeader+=i==headerParameterKeys.length-1?headerParameterKeys[i]+'="'+headerParameters[headerParameterKeys[i]]+'"':headerParameterKeys[i]+'="'+headerParameters[headerParameterKeys[i]]+'",';return{signature_base_string:signatureBaseString,authorization_header:authorizationHeader,signature:headerParameters.oauth_signature}}return"Missing jsSHA JavaScript library"},createNonce:function(length){for(var text="",possible="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;length>i;i++)text+=possible.charAt(Math.floor(Math.random()*possible.length));return text}}}]),angular.module("ngCordova.plugins.pinDialog",[]).factory("$cordovaPinDialog",["$q","$window",function($q,$window){return{prompt:function(message,title,buttons){var q=$q.defer();return $window.plugins.pinDialog.prompt(message,function(res){q.resolve(res)},title,buttons),q.promise}}}]),angular.module("ngCordova.plugins.prefs",[]).factory("$cordovaPreferences",["$window","$q",function($window,$q){return{set:function(key,value){var q=$q.defer();return $window.appgiraffe.plugins.applicationPreferences.set(key,value,function(result){q.resolve(result)},function(err){q.reject(err)}),q.promise},get:function(key){var q=$q.defer();return $window.appgiraffe.plugins.applicationPreferences.get(key,function(value){q.resolve(value)},function(err){q.reject(err)}),q.promise}}}]),angular.module("ngCordova.plugins.printer",[]).factory("$cordovaPrinter",["$q","$window",function($q,$window){return{isAvailable:function(){var q=$q.defer();return $window.plugin.printer.isAvailable(function(isAvailable){q.resolve(isAvailable)}),q.promise},print:function(doc,options){var q=$q.defer();return $window.plugin.printer.print(doc,options,function(){q.resolve()}),q.promise}}}]),angular.module("ngCordova.plugins.progressIndicator",[]).factory("$cordovaProgress",["$q",function(){return{show:function(_message){var message=_message||"Please wait...";return ProgressIndicator.show(message)},showSimple:function(_dim){var dim=_dim||!1;return ProgressIndicator.showSimple(dim)},showSimpleWithLabel:function(_dim,_label){var dim=_dim||!1,label=_label||"Loading...";return ProgressIndicator.showSimpleWithLabel(dim,label)},showSimpleWithLabelDetail:function(_dim,_label,_detail){var dim=_dim||!1,label=_label||"Loading...",detail=_detail||"Please wait";return ProgressIndicator.showSimpleWithLabelDetail(dim,label,detail)},showDeterminate:function(_dim,_timeout){var dim=_dim||!1,timeout=_timeout||5e4;return ProgressIndicator.showDeterminate(dim,timeout)},showDeterminateWithLabel:function(_dim,_timeout,_label){var dim=_dim||!1,timeout=_timeout||5e4,label=_label||"Loading...";return ProgressIndicator.showDeterminateWithLabel(dim,timeout,label)},showAnnular:function(_dim,_timeout){var dim=_dim||!1,timeout=_timeout||5e4;return ProgressIndicator.showAnnular(dim,timeout)},showAnnularWithLabel:function(_dim,_timeout,_label){var dim=_dim||!1,timeout=_timeout||5e4,label=_label||"Loading...";return ProgressIndicator.showAnnularWithLabel(dim,timeout,label)},showBar:function(_dim,_timeout){var dim=_dim||!1,timeout=_timeout||5e4;return ProgressIndicator.showBar(dim,timeout)},showBarWithLabel:function(_dim,_timeout,_label){var dim=_dim||!1,timeout=_timeout||5e4,label=_label||"Loading...";return ProgressIndicator.showBarWithLabel(dim,timeout,label)},showSuccess:function(_dim,_label){var dim=_dim||!1,label=_label||"Success";return ProgressIndicator.showSuccess(dim,label)},showText:function(_dim,_text,_position){var dim=_dim||!1,text=_text||"Warning",position=_position||"center";return ProgressIndicator.showText(dim,text,position)},hide:function(){return ProgressIndicator.hide()}}}]),angular.module("ngCordova.plugins.push",[]).factory("$cordovaPush",["$q","$window","$rootScope","$timeout",function($q,$window,$rootScope,$timeout){return{onNotification:function(notification){$timeout(function(){$rootScope.$broadcast("$cordovaPush:notificationReceived",notification)})},register:function(config){var injector,q=$q.defer();return void 0!==config&&void 0===config.ecb&&(injector=null==document.querySelector("[ng-app]")?"document.body":"document.querySelector('[ng-app]')",config.ecb="angular.element("+injector+").injector().get('$cordovaPush').onNotification"),$window.plugins.pushNotification.register(function(token){q.resolve(token)},function(error){q.reject(error)},config),q.promise},unregister:function(options){var q=$q.defer();return $window.plugins.pushNotification.unregister(function(result){q.resolve(result)},function(error){q.reject(error)},options),q.promise},setBadgeNumber:function(number){var q=$q.defer();return $window.plugins.pushNotification.setApplicationIconBadgeNumber(function(result){q.resolve(result)},function(error){q.reject(error)},number),q.promise}}}]),angular.module("ngCordova.plugins.sms",[]).factory("$cordovaSms",["$q",function($q){return{send:function(number,message,intent){var q=$q.defer();return sms.send(number,message,intent,function(res){q.resolve(res)},function(err){q.reject(err)}),q.promise}}}]),angular.module("ngCordova.plugins.socialSharing",[]).factory("$cordovaSocialSharing",["$q","$window",function($q,$window){return{share:function(message,subject,file,link){var q=$q.defer();return subject=subject||null,file=file||null,link=link||null,$window.plugins.socialsharing.share(message,subject,file,link,function(){q.resolve(!0)},function(){q.reject(!1)}),q.promise},shareViaTwitter:function(message,file,link){var q=$q.defer();return file=file||null,link=link||null,$window.plugins.socialsharing.shareViaTwitter(message,file,link,function(){q.resolve(!0)},function(){q.reject(!1)}),q.promise},shareViaWhatsApp:function(message,file,link){var q=$q.defer();return file=file||null,link=link||null,$window.plugins.socialsharing.shareViaWhatsApp(message,file,link,function(){q.resolve(!0)},function(){q.reject(!1)}),q.promise},shareViaFacebook:function(message,file,link){var q=$q.defer();return message=message||null,file=file||null,link=link||null,$window.plugins.socialsharing.shareViaFacebook(message,file,link,function(){q.resolve(!0)},function(){q.reject(!1)}),q.promise},shareViaFacebookWithPasteMessageHint:function(message,file,link,pasteMessageHint){var q=$q.defer();return file=file||null,link=link||null,$window.plugins.socialsharing.shareViaFacebookWithPasteMessageHint(message,file,link,pasteMessageHint,function(){q.resolve(!0)},function(){q.reject(!1)}),q.promise},shareViaSMS:function(message,commaSeparatedPhoneNumbers){var q=$q.defer();return $window.plugins.socialsharing.shareViaSMS(message,commaSeparatedPhoneNumbers,function(){q.resolve(!0)},function(){q.reject(!1)}),q.promise},shareViaEmail:function(message,subject,toArr,ccArr,bccArr,fileArr){var q=$q.defer();return toArr=toArr||null,ccArr=ccArr||null,bccArr=bccArr||null,fileArr=fileArr||null,$window.plugins.socialsharing.shareViaEmail(message,subject,toArr,ccArr,bccArr,fileArr,function(){q.resolve(!0)},function(){q.reject(!1)}),q.promise},shareVia:function(via,message,subject,file,link){var q=$q.defer();return message=message||null,subject=subject||null,file=file||null,link=link||null,$window.plugins.socialsharing.shareVia(via,message,subject,file,link,function(){q.resolve(!0)},function(){q.reject(!1)}),q.promise},canShareViaEmail:function(){var q=$q.defer();return $window.plugins.socialsharing.canShareViaEmail(function(){q.resolve(!0)},function(){q.reject(!1)}),q.promise},canShareVia:function(via,message,subject,file,link){var q=$q.defer();return $window.plugins.socialsharing.canShareVia(via,message,subject,file,link,function(success){q.resolve(success)},function(error){q.reject(error)}),q.promise},available:function(){var q=$q.defer();window.plugins.socialsharing.available(function(isAvailable){isAvailable?q.resolve():q.reject()})}}}]),angular.module("ngCordova.plugins.spinnerDialog",[]).factory("$cordovaSpinnerDialog",["$window",function($window){return{show:function(title,message,fixed){return fixed=fixed||!1,$window.plugins.spinnerDialog.show(title,message,fixed)},hide:function(){return $window.plugins.spinnerDialog.hide()}}}]),angular.module("ngCordova.plugins.splashscreen",[]).factory("$cordovaSplashscreen",[function(){return{hide:function(){return navigator.splashscreen.hide()},show:function(){return navigator.splashscreen.show()}}}]),angular.module("ngCordova.plugins.sqlite",[]).factory("$cordovaSQLite",["$q","$window",function($q,$window){return{openDB:function(dbName,background){return"undefined"==typeof background&&(background=0),$window.sqlitePlugin.openDatabase({name:dbName,bgType:background})},execute:function(db,query,binding){var q=$q.defer();return db.transaction(function(tx){tx.executeSql(query,binding,function(tx,result){q.resolve(result)},function(transaction,error){q.reject(error)})}),q.promise},insertCollection:function(db,query,bindings){var q=$q.defer(),coll=bindings.slice(0);return db.transaction(function(tx){!function insertOne(){var record=coll.splice(0,1)[0];try{tx.executeSql(query,record,function(tx,result){0===coll.length?q.resolve(result):insertOne()},function(transaction,error){q.reject(error)})}catch(exception){q.reject(exception)}}()}),q.promise},nestedExecute:function(db,query1,query2,binding1,binding2){var q=$q.defer();return db.transaction(function(tx){tx.executeSql(query1,binding1,function(tx,result){q.resolve(result),tx.executeSql(query2,binding2,function(tx,res){q.resolve(res)})})},function(transaction,error){q.reject(error)}),q.promise},deleteDB:function(dbName){var q=$q.defer();return $window.sqlitePlugin.deleteDatabase(dbName,function(success){q.resolve(success)},function(error){q.reject(error)}),q.promise}}}]),angular.module("ngCordova.plugins.statusbar",[]).factory("$cordovaStatusbar",[function(){return{overlaysWebView:function(bool){return StatusBar.overlaysWebView(!!bool)},style:function(style){switch(style){case 0:return StatusBar.styleDefault();case 1:return StatusBar.styleLightContent();case 2:return StatusBar.styleBlackTranslucent();case 3:return StatusBar.styleBlackOpaque();default:return StatusBar.styleDefault()}},styleColor:function(color){return StatusBar.backgroundColorByName(color)},styleHex:function(colorHex){return StatusBar.backgroundColorByHexString(colorHex)},hide:function(){return StatusBar.hide()},show:function(){return StatusBar.show()},isVisible:function(){return StatusBar.isVisible}}}]),angular.module("ngCordova.plugins.toast",[]).factory("$cordovaToast",["$q","$window",function($q,$window){return{showShortTop:function(message){var q=$q.defer();return $window.plugins.toast.showShortTop(message,function(response){q.resolve(response)},function(error){q.reject(error)}),q.promise},showShortCenter:function(message){var q=$q.defer();return $window.plugins.toast.showShortCenter(message,function(response){q.resolve(response)},function(error){q.reject(error)}),q.promise},showShortBottom:function(message){var q=$q.defer();return $window.plugins.toast.showShortBottom(message,function(response){q.resolve(response)},function(error){q.reject(error)}),q.promise},showLongTop:function(message){var q=$q.defer();return $window.plugins.toast.showLongTop(message,function(response){q.resolve(response)},function(error){q.reject(error)}),q.promise},showLongCenter:function(message){var q=$q.defer();return $window.plugins.toast.showLongCenter(message,function(response){q.resolve(response)},function(error){q.reject(error)}),q.promise},showLongBottom:function(message){var q=$q.defer();return $window.plugins.toast.showLongBottom(message,function(response){q.resolve(response)},function(error){q.reject(error)}),q.promise},show:function(message,duration,position){var q=$q.defer();return $window.plugins.toast.show(message,duration,position,function(response){q.resolve(response)},function(error){q.reject(error)}),q.promise}}}]),angular.module("ngCordova.plugins.touchid",[]).factory("$cordovaTouchID",["$q",function($q){return{checkSupport:function(){var defer=$q.defer();return window.cordova?touchid.checkSupport(function(value){defer.resolve(value)},function(err){defer.reject(err)}):defer.reject("Not supported without cordova.js"),defer.promise},authenticate:function(auth_reason_text){var defer=$q.defer();return window.cordova?touchid.authenticate(function(value){defer.resolve(value)},function(err){defer.reject(err)},auth_reason_text):defer.reject("Not supported without cordova.js"),defer.promise}}}]),angular.module("ngCordova.plugins.vibration",[]).factory("$cordovaVibration",[function(){return{vibrate:function(times){return navigator.notification.vibrate(times)},vibrateWithPattern:function(pattern,repeat){return navigator.notification.vibrateWithPattern(pattern,repeat)},cancelVibration:function(){return navigator.notification.cancelVibration()}}}]),angular.module("ngCordova.plugins.videoCapturePlus",[]).provider("$cordovaVideoCapturePlus",[function(){var defaultOptions={};this.setLimit=function(limit){defaultOptions.limit=limit},this.setMaxDuration=function(seconds){defaultOptions.duration=seconds},this.setHighQuality=function(highquality){defaultOptions.highquality=highquality},this.useFrontCamera=function(frontcamera){defaultOptions.frontcamera=frontcamera},this.setPortraitOverlay=function(imageUrl){defaultOptions.portraitOverlay=imageUrl},this.setLandscapeOverlay=function(imageUrl){defaultOptions.landscapeOverlay=imageUrl},this.setOverlayText=function(text){defaultOptions.overlayText=text},this.$get=["$q","$window",function($q,$window){return{captureVideo:function(options){var q=$q.defer();return $window.plugins.videocaptureplus?($window.plugins.videocaptureplus.captureVideo(q.resolve,q.reject,angular.extend({},defaultOptions,options)),q.promise):(q.resolve(null),q.promise)}}}]}]),angular.module("ngCordova.plugins.zip",[]).factory("$cordovaZip",["$q","$window",function($q,$window){return{unzip:function(source,destination){var q=$q.defer();return $window.zip.unzip(source,destination,function(isError){0===isError?q.resolve():q.reject()},function(progressEvent){q.notify(progressEvent)}),q.promise}}}])}(),function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module){"use strict";function run($ionicPlatform){$ionicPlatform.ready(function(){window.StatusBar&&window.StatusBar.styleDefault()})}window.dbg=require("debug");var constants=require("./constants"),controllers=require("./controllers"),directives=require("./directives"),marktime=require("./core");marktime.initialize(),module.exports=angular.module("MyApp",["ionic",constants.name,controllers.name,directives.name]).run(run)},{"./constants":18,"./controllers":19,"./core":23,"./directives":25,debug:3}],2:[function(require,module,exports){(function(process,global){!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var f;"undefined"!=typeof window?f=window:"undefined"!=typeof global?f=global:"undefined"!=typeof self&&(f=self),f.Promise=e()}}(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof _dereq_&&_dereq_;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof _dereq_&&_dereq_,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(_dereq_,module){"use strict";module.exports=function(Promise){function any(promises){var ret=new SomePromiseArray(promises),promise=ret.promise();return ret.setHowMany(1),ret.setUnwrap(),ret.init(),promise}var SomePromiseArray=Promise._SomePromiseArray;Promise.any=function(promises){return any(promises)},Promise.prototype.any=function(){return any(this)}}},{}],2:[function(_dereq_,module){"use strict";function Async(){this._isTickUsed=!1,this._lateQueue=new Queue(16),this._normalQueue=new Queue(16);var self=this;this.drainQueues=function(){self._drainQueues()},this._schedule=schedule.isStatic?schedule(this.drainQueues):schedule}var firstLineError;try{throw new Error}catch(e){firstLineError=e}var schedule=_dereq_("./schedule.js"),Queue=_dereq_("./queue.js"),_process="undefined"!=typeof process?process:void 0;Async.prototype.haveItemsQueued=function(){return this._normalQueue.length()>0},Async.prototype._withDomain=function(fn){return void 0===_process||null==_process.domain||fn.domain||(fn=_process.domain.bind(fn)),fn},Async.prototype.throwLater=function(fn,arg){if(1===arguments.length&&(arg=fn,fn=function(){throw arg}),fn=this._withDomain(fn),"undefined"!=typeof setTimeout)setTimeout(function(){fn(arg)},0);else try{this._schedule(function(){fn(arg)})}catch(e){throw new Error("No async scheduler available\n\n    See http://goo.gl/m3OTXk\n")}},Async.prototype.invokeLater=function(fn,receiver,arg){fn=this._withDomain(fn),this._lateQueue.push(fn,receiver,arg),this._queueTick()},Async.prototype.invokeFirst=function(fn,receiver,arg){fn=this._withDomain(fn),this._normalQueue.unshift(fn,receiver,arg),this._queueTick()},Async.prototype.invoke=function(fn,receiver,arg){fn=this._withDomain(fn),this._normalQueue.push(fn,receiver,arg),this._queueTick()},Async.prototype.settlePromises=function(promise){this._normalQueue._pushOne(promise),this._queueTick()},Async.prototype._drainQueue=function(queue){for(;queue.length()>0;){var fn=queue.shift();if("function"==typeof fn){var receiver=queue.shift(),arg=queue.shift();fn.call(receiver,arg)}else fn._settlePromises()}},Async.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._drainQueue(this._lateQueue)},Async.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},Async.prototype._reset=function(){this._isTickUsed=!1},module.exports=new Async,module.exports.firstLineError=firstLineError},{"./queue.js":28,"./schedule.js":31}],3:[function(_dereq_,module){"use strict";module.exports=function(Promise,INTERNAL,tryConvertToPromise){function returnThis(){return this.value}function throwThis(){throw this.reason}function awaitBindingThenResolve(value){return this._then(returnThis,null,null,{value:value},void 0)}function awaitBindingThenReject(reason){return this._then(throwThis,throwThis,null,{reason:reason},void 0)}function setBinding(binding){this._setBoundTo(binding)}Promise.prototype.bind=function(thisArg){var maybePromise=tryConvertToPromise(thisArg);if(maybePromise instanceof Promise){if(!maybePromise.isFulfilled()){if(maybePromise.isRejected())return Promise.reject(maybePromise.reason());var ret=this.then(),parent=ret;return ret=ret._then(awaitBindingThenResolve,awaitBindingThenReject,null,maybePromise,void 0),maybePromise._then(setBinding,ret._reject,null,ret,null),ret._cancellable()||ret._setPendingCancellationParent(parent),ret}thisArg=maybePromise.value()}var ret=this.then();return ret._setBoundTo(thisArg),ret},Promise.bind=function(thisArg,value){return Promise.resolve(value).bind(thisArg)},Promise.prototype._setPendingCancellationParent=function(parent){this._settledValue=parent},Promise.prototype._pendingCancellationParent=function(){if(this.isPending()&&void 0!==this._settledValue){var ret=this._settledValue;return ret.cancellable(),this._settledValue=void 0,ret}},Promise.prototype._setIsMigratingBinding=function(){this._bitField=8388608|this._bitField},Promise.prototype._unsetIsMigratingBinding=function(){this._bitField=-8388609&this._bitField},Promise.prototype._isMigratingBinding=function(){return 8388608===(8388608&this._bitField)},Promise.prototype._setBoundTo=function(obj){this._boundTo=obj},Promise.prototype._isBound=function(){return void 0!==this._boundTo
}}},{}],4:[function(_dereq_,module){"use strict";function noConflict(){try{Promise===bluebird&&(Promise=old)}catch(e){}return bluebird}var old;"undefined"!=typeof Promise&&(old=Promise);var bluebird=_dereq_("./promise.js")();bluebird.noConflict=noConflict,module.exports=bluebird},{"./promise.js":23}],5:[function(_dereq_,module){"use strict";var cr=Object.create;if(cr){var callerCache=cr(null),getterCache=cr(null);callerCache[" size"]=getterCache[" size"]=0}module.exports=function(Promise){function ensureMethod(obj,methodName){var fn;if(null!=obj&&(fn=obj[methodName]),"function"!=typeof fn){var message="Object "+classString.call(obj)+" has no method '"+util.toString(methodName)+"'";throw new Promise.TypeError(message)}return fn}function caller(obj){var methodName=this.pop(),fn=ensureMethod(obj,methodName);return fn.apply(obj,this)}function namedGetter(obj){return obj[this]}function indexedGetter(obj){var index=+this;return 0>index&&(index=Math.max(0,index+obj.length)),obj[index]}var getGetter,util=_dereq_("./util.js"),canEvaluate=util.canEvaluate,classString=(util.isIdentifier,{}.toString);Promise.prototype.call=function(methodName){for(var $_len=arguments.length,args=new Array($_len-1),$_i=1;$_len>$_i;++$_i)args[$_i-1]=arguments[$_i];return args.push(methodName),this._then(caller,void 0,void 0,args,void 0)},Promise.prototype.get=function(propertyName){var getter,isIndex="number"==typeof propertyName;if(isIndex)getter=indexedGetter;else if(canEvaluate){var maybeGetter=getGetter(propertyName);getter=null!==maybeGetter?maybeGetter:namedGetter}else getter=namedGetter;return this._then(getter,void 0,void 0,propertyName,void 0)}}},{"./util.js":38}],6:[function(_dereq_,module){"use strict";module.exports=function(Promise){var errors=_dereq_("./errors.js"),async=_dereq_("./async.js"),CancellationError=errors.CancellationError;Promise.prototype._cancel=function(reason){if(!this.isCancellable())return this;for(var parent,promiseToReject=this;void 0!==(parent=promiseToReject._cancellationParent)&&parent.isCancellable();)promiseToReject=parent;this._unsetCancellable(),promiseToReject._target()._rejectCallback(reason,!1,!0)},Promise.prototype.cancel=function(reason){return this.isCancellable()?(void 0===reason&&(reason=new CancellationError),async.invokeLater(this._cancel,this,reason),this):this},Promise.prototype.cancellable=function(){return this._cancellable()?this:(this._setCancellable(),this._cancellationParent=this._pendingCancellationParent(),this)},Promise.prototype.uncancellable=function(){var ret=this.then();return ret._unsetCancellable(),ret},Promise.prototype.fork=function(didFulfill,didReject,didProgress){var ret=this._then(didFulfill,didReject,didProgress,void 0,void 0);return ret._setCancellable(),ret._cancellationParent=void 0,ret}}},{"./async.js":2,"./errors.js":13}],7:[function(_dereq_,module){"use strict";module.exports=function(){function CapturedTrace(parent){this._parent=parent;var length=this._length=1+(void 0===parent?0:parent._length);captureStackTrace(this,CapturedTrace),length>32&&this.uncycle()}function reconstructStack(message,stacks){for(var i=0;i<stacks.length-1;++i)stacks[i].push("From previous event:"),stacks[i]=stacks[i].join("\n");return i<stacks.length&&(stacks[i]=stacks[i].join("\n")),message+"\n"+stacks.join("\n")}function removeDuplicateOrEmptyJumps(stacks){for(var i=0;i<stacks.length;++i)(0===stacks[i].length||i+1<stacks.length&&stacks[i][0]===stacks[i+1][0])&&(stacks.splice(i,1),i--)}function removeCommonRoots(stacks){for(var current=stacks[0],i=1;i<stacks.length;++i){for(var prev=stacks[i],currentLastIndex=current.length-1,currentLastLine=current[currentLastIndex],commonRootMeetPoint=-1,j=prev.length-1;j>=0;--j)if(prev[j]===currentLastLine){commonRootMeetPoint=j;break}for(var j=commonRootMeetPoint;j>=0;--j){var line=prev[j];if(current[currentLastIndex]!==line)break;current.pop(),currentLastIndex--}current=prev}}function cleanStack(stack){for(var ret=[],i=0;i<stack.length;++i){var line=stack[i],isTraceLine=stackFramePattern.test(line)||"    (No stack trace)"===line,isInternalFrame=isTraceLine&&shouldIgnore(line);isTraceLine&&!isInternalFrame&&(indentStackFrames&&" "!==line.charAt(0)&&(line="    "+line),ret.push(line))}return ret}function stackFramesAsArray(error){for(var stack=error.stack.replace(/\s+$/g,"").split("\n"),i=0;i<stack.length;++i){var line=stack[i];if("    (No stack trace)"===line||stackFramePattern.test(line))break}return i>0&&(stack=stack.slice(i)),stack}function formatNonError(obj){var str;if("function"==typeof obj)str="[function "+(obj.name||"anonymous")+"]";else{str=obj.toString();var ruselessToString=/\[object [a-zA-Z0-9$_]+\]/;if(ruselessToString.test(str))try{var newStr=JSON.stringify(obj);str=newStr}catch(e){}0===str.length&&(str="(empty array)")}return"(<"+snip(str)+">, no stack trace)"}function snip(str){var maxChars=41;return str.length<maxChars?str:str.substr(0,maxChars-3)+"..."}function parseLineInfo(line){var matches=line.match(parseLineInfoRegex);return matches?{fileName:matches[1],line:parseInt(matches[2],10)}:void 0}var async=_dereq_("./async.js"),inherits=_dereq_("./util.js").inherits,bluebirdFramePattern=/[\\\/]bluebird[\\\/]js[\\\/](main|debug|zalgo|instrumented)/,stackFramePattern=null,formatStack=null,indentStackFrames=!1;inherits(CapturedTrace,Error),CapturedTrace.prototype.uncycle=function(){var length=this._length;if(!(2>length)){for(var nodes=[],stackToIndex={},i=0,node=this;void 0!==node;++i)nodes.push(node),node=node._parent;length=this._length=i;for(var i=length-1;i>=0;--i){var stack=nodes[i].stack;void 0===stackToIndex[stack]&&(stackToIndex[stack]=i)}for(var i=0;length>i;++i){var currentStack=nodes[i].stack,index=stackToIndex[currentStack];if(void 0!==index&&index!==i){index>0&&(nodes[index-1]._parent=void 0,nodes[index-1]._length=1),nodes[i]._parent=void 0,nodes[i]._length=1;var cycleEdgeNode=i>0?nodes[i-1]:this;length-1>index?(cycleEdgeNode._parent=nodes[index+1],cycleEdgeNode._parent.uncycle(),cycleEdgeNode._length=cycleEdgeNode._parent._length+1):(cycleEdgeNode._parent=void 0,cycleEdgeNode._length=1);for(var currentChildLength=cycleEdgeNode._length+1,j=i-2;j>=0;--j)nodes[j]._length=currentChildLength,currentChildLength++;return}}}},CapturedTrace.prototype.parent=function(){return this._parent},CapturedTrace.prototype.hasParent=function(){return void 0!==this._parent},CapturedTrace.prototype.attachExtraTrace=function(error){if(!error.__stackCleaned__){this.uncycle();for(var parsed=CapturedTrace.parseStackAndMessage(error),message=parsed.message,stacks=[parsed.stack],trace=this;void 0!==trace;)stacks.push(cleanStack(trace.stack.split("\n"))),trace=trace._parent;removeCommonRoots(stacks),removeDuplicateOrEmptyJumps(stacks),error.stack=reconstructStack(message,stacks),error.__stackCleaned__=!0}},CapturedTrace.parseStackAndMessage=function(error){var stack=error.stack,message=error.toString();return stack="string"==typeof stack&&stack.length>0?stackFramesAsArray(error):["    (No stack trace)"],{message:message,stack:cleanStack(stack)}},CapturedTrace.formatAndLogError=function(error,title){if("object"==typeof console){var message;if("object"==typeof error||"function"==typeof error){var stack=error.stack;message=title+formatStack(stack,error)}else message=title+String(error);"function"==typeof console.warn||"object"==typeof console.warn||"function"==typeof console.log||"object"==typeof console.log}},CapturedTrace.unhandledRejection=function(reason){CapturedTrace.formatAndLogError(reason,"^--- With additional stack trace: ")},CapturedTrace.isSupported=function(){return"function"==typeof captureStackTrace},CapturedTrace.fireRejectionEvent=function(name,localHandler,reason,promise){var localEventFired=!1;try{"function"==typeof localHandler&&(localEventFired=!0,"rejectionHandled"===name?localHandler(promise):localHandler(reason,promise))}catch(e){async.throwLater(e)}var globalEventFired=!1;try{globalEventFired=fireGlobalEvent(name,reason,promise)}catch(e){globalEventFired=!0,async.throwLater(e)}var domEventFired=!1;if(fireDomEvent)try{domEventFired=fireDomEvent(name.toLowerCase(),{reason:reason,promise:promise})}catch(e){domEventFired=!0,async.throwLater(e)}globalEventFired||localEventFired||domEventFired||"unhandledRejection"!==name||CapturedTrace.formatAndLogError(reason,"Possibly unhandled ")};var shouldIgnore=function(){return!1},parseLineInfoRegex=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;CapturedTrace.setBounds=function(firstLineError,lastLineError){if(CapturedTrace.isSupported()){for(var firstFileName,lastFileName,firstStackLines=firstLineError.stack.split("\n"),lastStackLines=lastLineError.stack.split("\n"),firstIndex=-1,lastIndex=-1,i=0;i<firstStackLines.length;++i){var result=parseLineInfo(firstStackLines[i]);if(result){firstFileName=result.fileName,firstIndex=result.line;break}}for(var i=0;i<lastStackLines.length;++i){var result=parseLineInfo(lastStackLines[i]);if(result){lastFileName=result.fileName,lastIndex=result.line;break}}0>firstIndex||0>lastIndex||!firstFileName||!lastFileName||firstFileName!==lastFileName||firstIndex>=lastIndex||(shouldIgnore=function(line){if(bluebirdFramePattern.test(line))return!0;var info=parseLineInfo(line);return info&&info.fileName===firstFileName&&firstIndex<=info.line&&info.line<=lastIndex?!0:!1})}};var fireDomEvent,captureStackTrace=function(){var v8stackFramePattern=/^\s*at\s*/,v8stackFormatter=function(stack,error){return"string"==typeof stack?stack:void 0!==error.name&&void 0!==error.message?error.toString():formatNonError(error)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit=Error.stackTraceLimit+6,stackFramePattern=v8stackFramePattern,formatStack=v8stackFormatter;var captureStackTrace=Error.captureStackTrace;return shouldIgnore=function(line){return bluebirdFramePattern.test(line)},function(receiver,ignoreUntil){Error.stackTraceLimit=Error.stackTraceLimit+6,captureStackTrace(receiver,ignoreUntil),Error.stackTraceLimit=Error.stackTraceLimit-6}}var err=new Error;if("string"==typeof err.stack&&err.stack.split("\n")[0].indexOf("stackDetection@")>=0)return stackFramePattern=/@/,formatStack=v8stackFormatter,indentStackFrames=!0,function(o){o.stack=(new Error).stack};var hasStackAfterThrow;try{throw new Error}catch(e){hasStackAfterThrow="stack"in e}return"stack"in err||!hasStackAfterThrow?(formatStack=function(stack,error){return"string"==typeof stack?stack:"object"!=typeof error&&"function"!=typeof error||void 0===error.name||void 0===error.message?formatNonError(error):error.toString()},null):(stackFramePattern=v8stackFramePattern,formatStack=v8stackFormatter,function(o){Error.stackTraceLimit=Error.stackTraceLimit+6;try{throw new Error}catch(e){o.stack=e.stack}Error.stackTraceLimit=Error.stackTraceLimit-6})}([]),fireGlobalEvent=function(){if("undefined"!=typeof process&&"string"==typeof process.version&&"undefined"==typeof window)return function(name,reason,promise){return"rejectionHandled"===name?process.emit(name,promise):process.emit(name,reason,promise)};var customEventWorks=!1,anyEventWorks=!0;try{var ev=new self.CustomEvent("test");customEventWorks=ev instanceof CustomEvent}catch(e){}if(!customEventWorks)try{var event=document.createEvent("CustomEvent");event.initCustomEvent("testingtheevent",!1,!0,{}),self.dispatchEvent(event)}catch(e){anyEventWorks=!1}anyEventWorks&&(fireDomEvent=function(type,detail){var event;return customEventWorks?event=new self.CustomEvent(type,{detail:detail,bubbles:!1,cancelable:!0}):self.dispatchEvent&&(event=document.createEvent("CustomEvent"),event.initCustomEvent(type,!1,!0,detail)),event?!self.dispatchEvent(event):!1});var toWindowMethodNameMap={};return toWindowMethodNameMap.unhandledRejection="onunhandledRejection".toLowerCase(),toWindowMethodNameMap.rejectionHandled="onrejectionHandled".toLowerCase(),function(name,reason,promise){var methodName=toWindowMethodNameMap[name],method=self[methodName];return method?("rejectionHandled"===name?method.call(self,promise):method.call(self,reason,promise),!0):!1}}();return CapturedTrace}},{"./async.js":2,"./util.js":38}],8:[function(_dereq_,module){"use strict";module.exports=function(NEXT_FILTER){function CatchFilter(instances,callback,promise){this._instances=instances,this._callback=callback,this._promise=promise}function safePredicate(predicate,e){var safeObject={},retfilter=tryCatch(predicate).call(safeObject,e);if(retfilter===errorObj)return retfilter;var safeKeys=keys(safeObject);return safeKeys.length?(errorObj.e=new TypeError("Catch filter must inherit from Error or be a simple predicate function\n\n    See http://goo.gl/o84o68\n"),errorObj):retfilter}var util=_dereq_("./util.js"),errors=_dereq_("./errors.js"),tryCatch=util.tryCatch,errorObj=util.errorObj,keys=_dereq_("./es5.js").keys,TypeError=errors.TypeError;return CatchFilter.prototype.doFilter=function(e){for(var cb=this._callback,promise=this._promise,boundTo=promise._boundTo,i=0,len=this._instances.length;len>i;++i){var item=this._instances[i],itemIsErrorType=item===Error||null!=item&&item.prototype instanceof Error;if(itemIsErrorType&&e instanceof item){var ret=tryCatch(cb).call(boundTo,e);return ret===errorObj?(NEXT_FILTER.e=ret.e,NEXT_FILTER):ret}if("function"==typeof item&&!itemIsErrorType){var shouldHandle=safePredicate(item,e);if(shouldHandle===errorObj){e=errorObj.e;break}if(shouldHandle){var ret=tryCatch(cb).call(boundTo,e);return ret===errorObj?(NEXT_FILTER.e=ret.e,NEXT_FILTER):ret}}}return NEXT_FILTER.e=e,NEXT_FILTER},CatchFilter}},{"./errors.js":13,"./es5.js":14,"./util.js":38}],9:[function(_dereq_,module){"use strict";module.exports=function(Promise,CapturedTrace,isDebugging){function Context(){this._trace=new CapturedTrace(peekContext())}function createContext(){return isDebugging()?new Context:void 0}function peekContext(){var lastIndex=contextStack.length-1;return lastIndex>=0?contextStack[lastIndex]:void 0}var contextStack=[];return Context.prototype._pushContext=function(){isDebugging()&&void 0!==this._trace&&contextStack.push(this._trace)},Context.prototype._popContext=function(){isDebugging()&&void 0!==this._trace&&contextStack.pop()},Promise.prototype._peekContext=peekContext,Promise.prototype._pushContext=Context.prototype._pushContext,Promise.prototype._popContext=Context.prototype._popContext,createContext}},{}],10:[function(_dereq_,module){"use strict";module.exports=function(Promise,CapturedTrace){var unhandledRejectionHandled,possiblyUnhandledRejection,async=_dereq_("./async.js"),util=_dereq_("./util.js"),canAttachTrace=util.canAttachTrace,debugging=!1||!("undefined"==typeof process||"string"!=typeof process.execPath||"object"!=typeof process.env||!process.env.BLUEBIRD_DEBUG&&"development"!==process.env.NODE_ENV);return Promise.prototype._ensurePossibleRejectionHandled=function(){this._setRejectionIsUnhandled(),async.invokeLater(this._notifyUnhandledRejection,this,void 0)},Promise.prototype._notifyUnhandledRejectionIsHandled=function(){CapturedTrace.fireRejectionEvent("rejectionHandled",unhandledRejectionHandled,void 0,this)},Promise.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var reason=this._getCarriedStackTrace()||this._settledValue;this._setUnhandledRejectionIsNotified(),CapturedTrace.fireRejectionEvent("unhandledRejection",possiblyUnhandledRejection,reason,this)}},Promise.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=524288|this._bitField},Promise.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-524289&this._bitField},Promise.prototype._isUnhandledRejectionNotified=function(){return(524288&this._bitField)>0},Promise.prototype._setRejectionIsUnhandled=function(){this._bitField=2097152|this._bitField},Promise.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-2097153&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},Promise.prototype._isRejectionUnhandled=function(){return(2097152&this._bitField)>0},Promise.prototype._setCarriedStackTrace=function(capturedTrace){this._bitField=1048576|this._bitField,this._fulfillmentHandler0=capturedTrace},Promise.prototype._isCarryingStackTrace=function(){return(1048576&this._bitField)>0},Promise.prototype._getCarriedStackTrace=function(){return this._isCarryingStackTrace()?this._fulfillmentHandler0:void 0},Promise.prototype._captureStackTrace=function(){return debugging&&(this._trace=new CapturedTrace(this._peekContext())),this},Promise.prototype._attachExtraTrace=function(error,ignoreSelf){if(debugging&&canAttachTrace(error)){var trace=this._trace;if(void 0!==trace&&ignoreSelf&&(trace=trace._parent),void 0!==trace)trace.attachExtraTrace(error);else if(!error.__stackCleaned__){var parsed=CapturedTrace.parseStackAndMessage(error);error.stack=parsed.stack.join("\n"),error.__stackCleaned__=!0}}},Promise.onPossiblyUnhandledRejection=function(fn){possiblyUnhandledRejection="function"==typeof fn?fn:void 0},Promise.onUnhandledRejectionHandled=function(fn){unhandledRejectionHandled="function"==typeof fn?fn:void 0},Promise.longStackTraces=function(){if(async.haveItemsQueued()&&debugging===!1)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/DT1qyG\n");debugging=CapturedTrace.isSupported()},Promise.hasLongStackTraces=function(){return debugging&&CapturedTrace.isSupported()},CapturedTrace.isSupported()||(Promise.longStackTraces=function(){},debugging=!1),function(){return debugging}}},{"./async.js":2,"./util.js":38}],11:[function(_dereq_,module){"use strict";var util=_dereq_("./util.js"),isPrimitive=util.isPrimitive,wrapsPrimitiveReceiver=util.wrapsPrimitiveReceiver;module.exports=function(Promise){var returner=function(){return this},thrower=function(){throw this},wrapper=function(value,action){return 1===action?function(){throw value}:2===action?function(){return value}:void 0};Promise.prototype["return"]=Promise.prototype.thenReturn=function(value){return wrapsPrimitiveReceiver&&isPrimitive(value)?this._then(wrapper(value,2),void 0,void 0,void 0,void 0):this._then(returner,void 0,void 0,value,void 0)},Promise.prototype["throw"]=Promise.prototype.thenThrow=function(reason){return wrapsPrimitiveReceiver&&isPrimitive(reason)?this._then(wrapper(reason,1),void 0,void 0,void 0,void 0):this._then(thrower,void 0,void 0,reason,void 0)}}},{"./util.js":38}],12:[function(_dereq_,module){"use strict";module.exports=function(Promise,INTERNAL){var PromiseReduce=Promise.reduce;Promise.prototype.each=function(fn){return PromiseReduce(this,fn,null,INTERNAL)},Promise.each=function(promises,fn){return PromiseReduce(promises,fn,null,INTERNAL)}}},{}],13:[function(_dereq_,module){"use strict";function subError(nameProperty,defaultMessage){function SubError(message){return this instanceof SubError?(notEnumerableProp(this,"message","string"==typeof message?message:defaultMessage),notEnumerableProp(this,"name",nameProperty),void(Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new SubError(message)}return inherits(SubError,Error),SubError}function OperationalError(message){return this instanceof OperationalError?(notEnumerableProp(this,"name","OperationalError"),notEnumerableProp(this,"message",message),this.cause=message,this.isOperational=!0,void(message instanceof Error?(notEnumerableProp(this,"message",message.message),notEnumerableProp(this,"stack",message.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new OperationalError(message)}var _TypeError,_RangeError,Objectfreeze=_dereq_("./es5.js").freeze,util=_dereq_("./util.js"),inherits=util.inherits,notEnumerableProp=util.notEnumerableProp,CancellationError=subError("CancellationError","cancellation error"),TimeoutError=subError("TimeoutError","timeout error"),AggregateError=subError("AggregateError","aggregate error");try{_TypeError=TypeError,_RangeError=RangeError}catch(e){_TypeError=subError("TypeError","type error"),_RangeError=subError("RangeError","range error")}for(var methods="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),i=0;i<methods.length;++i)"function"==typeof Array.prototype[methods[i]]&&(AggregateError.prototype[methods[i]]=Array.prototype[methods[i]]);AggregateError.prototype.length=0,AggregateError.prototype.isOperational=!0;var level=0;AggregateError.prototype.toString=function(){var indent=Array(4*level+1).join(" "),ret="\n"+indent+"AggregateError of:\n";level++,indent=Array(4*level+1).join(" ");for(var i=0;i<this.length;++i){for(var str=this[i]===this?"[Circular AggregateError]":this[i]+"",lines=str.split("\n"),j=0;j<lines.length;++j)lines[j]=indent+lines[j];str=lines.join("\n"),ret+=str+"\n"}return level--,ret},inherits(OperationalError,Error);var errorTypes=Error.__BluebirdErrorTypes__;errorTypes||(errorTypes=Objectfreeze({CancellationError:CancellationError,TimeoutError:TimeoutError,OperationalError:OperationalError,RejectionError:OperationalError,AggregateError:AggregateError}),notEnumerableProp(Error,"__BluebirdErrorTypes__",errorTypes)),module.exports={Error:Error,TypeError:_TypeError,RangeError:_RangeError,CancellationError:errorTypes.CancellationError,OperationalError:errorTypes.OperationalError,TimeoutError:errorTypes.TimeoutError,AggregateError:errorTypes.AggregateError}},{"./es5.js":14,"./util.js":38}],14:[function(_dereq_,module){var isES5=function(){"use strict";return void 0===this}();if(isES5)module.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,keys:Object.keys,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:isES5,propertyIsWritable:function(obj,prop){var descriptor=Object.getOwnPropertyDescriptor(obj,prop);return!(descriptor&&!descriptor.writable&&!descriptor.set)}};else{var has={}.hasOwnProperty,str={}.toString,proto={}.constructor.prototype,ObjectKeys=function(o){var ret=[];for(var key in o)has.call(o,key)&&ret.push(key);return ret},ObjectDefineProperty=function(o,key,desc){return o[key]=desc.value,o},ObjectFreeze=function(obj){return obj},ObjectGetPrototypeOf=function(obj){try{return Object(obj).constructor.prototype}catch(e){return proto}},ArrayIsArray=function(obj){try{return"[object Array]"===str.call(obj)}catch(e){return!1}};module.exports={isArray:ArrayIsArray,keys:ObjectKeys,defineProperty:ObjectDefineProperty,freeze:ObjectFreeze,getPrototypeOf:ObjectGetPrototypeOf,isES5:isES5,propertyIsWritable:function(){return!0}}}},{}],15:[function(_dereq_,module){"use strict";module.exports=function(Promise,INTERNAL){var PromiseMap=Promise.map;Promise.prototype.filter=function(fn,options){return PromiseMap(this,fn,options,INTERNAL)},Promise.filter=function(promises,fn,options){return PromiseMap(promises,fn,options,INTERNAL)}}},{}],16:[function(_dereq_,module){"use strict";module.exports=function(Promise,NEXT_FILTER,tryConvertToPromise){function returnThis(){return this}function throwThis(){throw this}function return$(r){return function(){return r}}function throw$(r){return function(){throw r}}function promisedFinally(ret,reasonOrValue,isFulfilled){var then;return then=wrapsPrimitiveReceiver&&isPrimitive(reasonOrValue)?isFulfilled?return$(reasonOrValue):throw$(reasonOrValue):isFulfilled?returnThis:throwThis,ret._then(then,thrower,void 0,reasonOrValue,void 0)}function finallyHandler(reasonOrValue){var promise=this.promise,handler=this.handler,ret=promise._isBound()?handler.call(promise._boundTo):handler();if(void 0!==ret){var maybePromise=tryConvertToPromise(ret,promise);if(maybePromise instanceof Promise)return maybePromise=maybePromise._target(),promisedFinally(maybePromise,reasonOrValue,promise.isFulfilled())}return promise.isRejected()?(NEXT_FILTER.e=reasonOrValue,NEXT_FILTER):reasonOrValue}function tapHandler(value){var promise=this.promise,handler=this.handler,ret=promise._isBound()?handler.call(promise._boundTo,value):handler(value);if(void 0!==ret){var maybePromise=tryConvertToPromise(ret,promise);if(maybePromise instanceof Promise)return maybePromise=maybePromise._target(),promisedFinally(maybePromise,value,!0)}return value}var util=_dereq_("./util.js"),wrapsPrimitiveReceiver=util.wrapsPrimitiveReceiver,isPrimitive=util.isPrimitive,thrower=util.thrower;Promise.prototype._passThroughHandler=function(handler,isFinally){if("function"!=typeof handler)return this.then();var promiseAndHandler={promise:this,handler:handler};return this._then(isFinally?finallyHandler:tapHandler,isFinally?finallyHandler:void 0,void 0,promiseAndHandler,void 0)},Promise.prototype.lastly=Promise.prototype["finally"]=function(handler){return this._passThroughHandler(handler,!0)},Promise.prototype.tap=function(handler){return this._passThroughHandler(handler,!1)}}},{"./util.js":38}],17:[function(_dereq_,module){"use strict";module.exports=function(Promise,apiRejection,INTERNAL,tryConvertToPromise){function promiseFromYieldHandler(value,yieldHandlers,traceParent){for(var i=0;i<yieldHandlers.length;++i){traceParent._pushContext();var result=tryCatch(yieldHandlers[i])(value);if(traceParent._popContext(),result===errorObj){traceParent._pushContext();var ret=Promise.reject(errorObj.e);return traceParent._popContext(),ret}var maybePromise=tryConvertToPromise(result,traceParent);if(maybePromise instanceof Promise)return maybePromise}return null}function PromiseSpawn(generatorFunction,receiver,yieldHandler,stack){var promise=this._promise=new Promise(INTERNAL);promise._captureStackTrace(),this._stack=stack,this._generatorFunction=generatorFunction,this._receiver=receiver,this._generator=void 0,this._yieldHandlers="function"==typeof yieldHandler?[yieldHandler].concat(yieldHandlers):yieldHandlers}var errors=_dereq_("./errors.js"),TypeError=errors.TypeError,util=_dereq_("./util.js"),errorObj=util.errorObj,tryCatch=util.tryCatch,yieldHandlers=[];PromiseSpawn.prototype.promise=function(){return this._promise},PromiseSpawn.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._next(void 0)},PromiseSpawn.prototype._continue=function(result){if(result===errorObj)return this._promise._rejectCallback(result.e,!1,!0);var value=result.value;if(result.done===!0)this._promise._resolveCallback(value);else{var maybePromise=tryConvertToPromise(value,this._promise);if(!(maybePromise instanceof Promise)&&(maybePromise=promiseFromYieldHandler(maybePromise,this._yieldHandlers,this._promise),null===maybePromise))return void this._throw(new TypeError("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/4Y4pDk\n\n".replace("%s",value)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));maybePromise._then(this._next,this._throw,void 0,this,null)}},PromiseSpawn.prototype._throw=function(reason){this._promise._attachExtraTrace(reason),this._promise._pushContext();var result=tryCatch(this._generator["throw"]).call(this._generator,reason);this._promise._popContext(),this._continue(result)},PromiseSpawn.prototype._next=function(value){this._promise._pushContext();var result=tryCatch(this._generator.next).call(this._generator,value);this._promise._popContext(),this._continue(result)},Promise.coroutine=function(generatorFunction,options){if("function"!=typeof generatorFunction)throw new TypeError("generatorFunction must be a function\n\n    See http://goo.gl/6Vqhm0\n");var yieldHandler=Object(options).yieldHandler,PromiseSpawn$=PromiseSpawn,stack=(new Error).stack;return function(){var generator=generatorFunction.apply(this,arguments),spawn=new PromiseSpawn$(void 0,void 0,yieldHandler,stack);return spawn._generator=generator,spawn._next(void 0),spawn.promise()}},Promise.coroutine.addYieldHandler=function(fn){if("function"!=typeof fn)throw new TypeError("fn must be a function\n\n    See http://goo.gl/916lJJ\n");yieldHandlers.push(fn)},Promise.spawn=function(generatorFunction){if("function"!=typeof generatorFunction)return apiRejection("generatorFunction must be a function\n\n    See http://goo.gl/6Vqhm0\n");var spawn=new PromiseSpawn(generatorFunction,this),ret=spawn.promise();return spawn._run(Promise.spawn),ret}}},{"./errors.js":13,"./util.js":38}],18:[function(_dereq_,module){"use strict";module.exports=function(Promise,PromiseArray,tryConvertToPromise,INTERNAL){{var util=_dereq_("./util.js");util.canEvaluate,util.tryCatch,util.errorObj}Promise.join=function(){var fn,last=arguments.length-1;if(last>0&&"function"==typeof arguments[last]){fn=arguments[last];var ret}for(var $_len=arguments.length,args=new Array($_len),$_i=0;$_len>$_i;++$_i)args[$_i]=arguments[$_i];fn&&args.pop();var ret=new PromiseArray(args).promise();return void 0!==fn?ret.spread(fn):ret}}},{"./util.js":38}],19:[function(_dereq_,module){"use strict";module.exports=function(Promise,PromiseArray,apiRejection,tryConvertToPromise,INTERNAL){function MappingPromiseArray(promises,fn,limit,_filter){this.constructor$(promises),this._promise._setIsSpreadable(),this._promise._captureStackTrace(),this._callback=fn,this._preservedValues=_filter===INTERNAL?new Array(this.length()):null,this._limit=limit,this._inFlight=0,this._queue=limit>=1?[]:EMPTY_ARRAY,this._init$(void 0,-2)}function map(promises,fn,options,_filter){var limit="object"==typeof options&&null!==options?options.concurrency:0;return limit="number"==typeof limit&&isFinite(limit)&&limit>=1?limit:0,new MappingPromiseArray(promises,fn,limit,_filter)}var util=_dereq_("./util.js"),tryCatch=util.tryCatch,errorObj=util.errorObj,PENDING={},EMPTY_ARRAY=[];util.inherits(MappingPromiseArray,PromiseArray),MappingPromiseArray.prototype._init=function(){},MappingPromiseArray.prototype._promiseFulfilled=function(value,index){var values=this._values,length=this.length(),preservedValues=this._preservedValues,limit=this._limit;if(values[index]===PENDING){if(values[index]=value,limit>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return}else{if(limit>=1&&this._inFlight>=limit)return values[index]=value,void this._queue.push(index);null!==preservedValues&&(preservedValues[index]=value);var callback=this._callback,receiver=this._promise._boundTo;this._promise._pushContext();var ret=tryCatch(callback).call(receiver,value,index,length);if(this._promise._popContext(),ret===errorObj)return this._reject(ret.e);var maybePromise=tryConvertToPromise(ret,this._promise);if(maybePromise instanceof Promise){if(maybePromise=maybePromise._target(),maybePromise._isPending())return limit>=1&&this._inFlight++,values[index]=PENDING,maybePromise._proxyPromiseArray(this,index);if(!maybePromise._isFulfilled())return this._reject(maybePromise._reason());ret=maybePromise._value()}values[index]=ret}var totalResolved=++this._totalResolved;totalResolved>=length&&(null!==preservedValues?this._filter(values,preservedValues):this._resolve(values))},MappingPromiseArray.prototype._drainQueue=function(){for(var queue=this._queue,limit=this._limit,values=this._values;queue.length>0&&this._inFlight<limit;){if(this._isResolved())return;var index=queue.pop();this._promiseFulfilled(values[index],index)}},MappingPromiseArray.prototype._filter=function(booleans,values){for(var len=values.length,ret=new Array(len),j=0,i=0;len>i;++i)booleans[i]&&(ret[j++]=values[i]);ret.length=j,this._resolve(ret)},MappingPromiseArray.prototype.preservedValues=function(){return this._preservedValues},Promise.prototype.map=function(fn,options){return"function"!=typeof fn?apiRejection("fn must be a function\n\n    See http://goo.gl/916lJJ\n"):map(this,fn,options,null).promise()},Promise.map=function(promises,fn,options,_filter){return"function"!=typeof fn?apiRejection("fn must be a function\n\n    See http://goo.gl/916lJJ\n"):map(promises,fn,options,_filter).promise()}}},{"./util.js":38}],20:[function(_dereq_,module){"use strict";module.exports=function(Promise,INTERNAL,tryConvertToPromise,apiRejection){var util=_dereq_("./util.js"),tryCatch=util.tryCatch;Promise.method=function(fn){if("function"!=typeof fn)throw new Promise.TypeError("fn must be a function\n\n    See http://goo.gl/916lJJ\n");
return function(){var ret=new Promise(INTERNAL);ret._captureStackTrace(),ret._pushContext();var value=tryCatch(fn).apply(this,arguments);return ret._popContext(),ret._resolveFromSyncValue(value),ret}},Promise.attempt=Promise["try"]=function(fn,args,ctx){if("function"!=typeof fn)return apiRejection("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var ret=new Promise(INTERNAL);ret._captureStackTrace(),ret._pushContext();var value=util.isArray(args)?tryCatch(fn).apply(ctx,args):tryCatch(fn).call(ctx,args);return ret._popContext(),ret._resolveFromSyncValue(value),ret},Promise.prototype._resolveFromSyncValue=function(value){value===util.errorObj?this._rejectCallback(value.e,!1,!0):this._resolveCallback(value,!0)}}},{"./util.js":38}],21:[function(_dereq_,module){"use strict";module.exports=function(Promise){function spreadAdapter(val,nodeback){var promise=this;if(!util.isArray(val))return successAdapter.call(promise,val,nodeback);var ret=tryCatch(nodeback).apply(promise._boundTo,[null].concat(val));ret===errorObj&&async.throwLater(ret.e)}function successAdapter(val,nodeback){var promise=this,receiver=promise._boundTo,ret=void 0===val?tryCatch(nodeback).call(receiver,null):tryCatch(nodeback).call(receiver,null,val);ret===errorObj&&async.throwLater(ret.e)}function errorAdapter(reason,nodeback){var promise=this;if(!reason){var target=promise._target(),newReason=target._getCarriedStackTrace();newReason.cause=reason,reason=newReason}var ret=tryCatch(nodeback).call(promise._boundTo,reason);ret===errorObj&&async.throwLater(ret.e)}var util=_dereq_("./util.js"),async=_dereq_("./async.js"),tryCatch=util.tryCatch,errorObj=util.errorObj;Promise.prototype.nodeify=function(nodeback,options){if("function"==typeof nodeback){var adapter=successAdapter;void 0!==options&&Object(options).spread&&(adapter=spreadAdapter),this._then(adapter,errorAdapter,void 0,this,nodeback)}return this}}},{"./async.js":2,"./util.js":38}],22:[function(_dereq_,module){"use strict";module.exports=function(Promise,PromiseArray){var util=_dereq_("./util.js"),async=_dereq_("./async.js"),tryCatch=util.tryCatch,errorObj=util.errorObj;Promise.prototype.progressed=function(handler){return this._then(void 0,void 0,handler,void 0,void 0)},Promise.prototype._progress=function(progressValue){this._isFollowingOrFulfilledOrRejected()||this._target()._progressUnchecked(progressValue)},Promise.prototype._progressHandlerAt=function(index){return 0===index?this._progressHandler0:this[(index<<2)+index-5+2]},Promise.prototype._doProgressWith=function(progression){var progressValue=progression.value,handler=progression.handler,promise=progression.promise,receiver=progression.receiver,ret=tryCatch(handler).call(receiver,progressValue);if(ret===errorObj){if(null!=ret.e&&"StopProgressPropagation"!==ret.e.name){var trace=util.canAttachTrace(ret.e)?ret.e:new Error(util.toString(ret.e));promise._attachExtraTrace(trace),promise._progress(ret.e)}}else ret instanceof Promise?ret._then(promise._progress,null,null,promise,void 0):promise._progress(ret)},Promise.prototype._progressUnchecked=function(progressValue){for(var len=this._length(),progress=this._progress,i=0;len>i;i++){var handler=this._progressHandlerAt(i),promise=this._promiseAt(i);if(promise instanceof Promise)"function"==typeof handler?async.invoke(this._doProgressWith,this,{handler:handler,promise:promise,receiver:this._receiverAt(i),value:progressValue}):async.invoke(progress,promise,progressValue);else{var receiver=this._receiverAt(i);"function"==typeof handler?handler.call(receiver,progressValue,promise):receiver instanceof PromiseArray&&!receiver._isResolved()&&receiver._promiseProgressed(progressValue,promise)}}}}},{"./async.js":2,"./util.js":38}],23:[function(_dereq_,module){"use strict";module.exports=function(){function Promise(resolver){if("function"!=typeof resolver)throw new TypeError("the promise constructor requires a resolver function\n\n    See http://goo.gl/EC22Yn\n");if(this.constructor!==Promise)throw new TypeError("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/KsIlge\n");this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._progressHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._settledValue=void 0,this._boundTo=void 0,resolver!==INTERNAL&&this._resolveFromResolver(resolver)}var makeSelfResolutionError=function(){return new TypeError("circular promise resolution chain\n\n    See http://goo.gl/LhFpo0\n")},reflect=function(){return new Promise.PromiseInspection(this._target())},apiRejection=function(msg){return Promise.reject(new TypeError(msg))},util=_dereq_("./util.js"),async=_dereq_("./async.js"),errors=_dereq_("./errors.js"),TypeError=Promise.TypeError=errors.TypeError;Promise.RangeError=errors.RangeError,Promise.CancellationError=errors.CancellationError,Promise.TimeoutError=errors.TimeoutError,Promise.OperationalError=errors.OperationalError,Promise.RejectionError=errors.OperationalError,Promise.AggregateError=errors.AggregateError;var INTERNAL=function(){},APPLY={},NEXT_FILTER={e:null},tryConvertToPromise=_dereq_("./thenables.js")(Promise,INTERNAL),PromiseArray=_dereq_("./promise_array.js")(Promise,INTERNAL,tryConvertToPromise,apiRejection),CapturedTrace=_dereq_("./captured_trace.js")(),isDebugging=_dereq_("./debuggability.js")(Promise,CapturedTrace),createContext=_dereq_("./context.js")(Promise,CapturedTrace,isDebugging),CatchFilter=_dereq_("./catch_filter.js")(NEXT_FILTER),PromiseResolver=_dereq_("./promise_resolver.js"),nodebackForPromise=PromiseResolver._nodebackForPromise,errorObj=util.errorObj,tryCatch=util.tryCatch;return Promise.prototype.toString=function(){return"[object Promise]"},Promise.prototype.caught=Promise.prototype["catch"]=function(fn){var len=arguments.length;if(len>1){var i,catchInstances=new Array(len-1),j=0;for(i=0;len-1>i;++i){var item=arguments[i];if("function"!=typeof item)return Promise.reject(new TypeError("Catch filter must inherit from Error or be a simple predicate function\n\n    See http://goo.gl/o84o68\n"));catchInstances[j++]=item}catchInstances.length=j,fn=arguments[i];var catchFilter=new CatchFilter(catchInstances,fn,this);return this._then(void 0,catchFilter.doFilter,void 0,catchFilter,void 0)}return this._then(void 0,fn,void 0,void 0,void 0)},Promise.prototype.reflect=function(){return this._then(reflect,reflect,void 0,this,void 0)},Promise.prototype.then=function(didFulfill,didReject,didProgress){return this._then(didFulfill,didReject,didProgress,void 0,void 0)},Promise.prototype.done=function(didFulfill,didReject,didProgress){var promise=this._then(didFulfill,didReject,didProgress,void 0,void 0);promise._setIsFinal()},Promise.prototype.spread=function(didFulfill,didReject){var followee=this._target(),target=followee._isSpreadable()?followee===this?this:this.then():this.all();return target._then(didFulfill,didReject,void 0,APPLY,void 0)},Promise.prototype.isCancellable=function(){return!this.isResolved()&&this._cancellable()},Promise.prototype.toJSON=function(){var ret={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(ret.fulfillmentValue=this.value(),ret.isFulfilled=!0):this.isRejected()&&(ret.rejectionReason=this.reason(),ret.isRejected=!0),ret},Promise.prototype.all=function(){var ret=new PromiseArray(this).promise();return ret._setIsSpreadable(),ret},Promise.prototype.error=function(fn){return this.caught(util.originatesFromRejection,fn)},Promise.is=function(val){return val instanceof Promise},Promise.fromNode=function(fn){var ret=new Promise(INTERNAL),result=tryCatch(fn)(nodebackForPromise(ret));return result===errorObj&&ret._rejectCallback(result.e,!0,!0),ret},Promise.all=function(promises){var ret=new PromiseArray(promises).promise();return ret._setIsSpreadable(),ret},Promise.defer=Promise.pending=function(){var promise=new Promise(INTERNAL);return new PromiseResolver(promise)},Promise.cast=function(obj){var ret=tryConvertToPromise(obj);if(!(ret instanceof Promise)){var val=ret;ret=new Promise(INTERNAL),ret._fulfillUnchecked(val)}return ret},Promise.resolve=Promise.fulfilled=Promise.cast,Promise.reject=Promise.rejected=function(reason){var ret=new Promise(INTERNAL);return ret._captureStackTrace(),ret._rejectCallback(reason,!0),ret},Promise.setScheduler=function(fn){if("function"!=typeof fn)throw new TypeError("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var prev=async._schedule;return async._schedule=fn,prev},Promise.prototype._then=function(didFulfill,didReject,didProgress,receiver,internalData){var haveInternalData=void 0!==internalData,ret=haveInternalData?internalData:new Promise(INTERNAL);haveInternalData||(ret._propagateFrom(this,5),ret._captureStackTrace());var target=this._target();target!==this&&(haveInternalData||(ret._setIsMigrated(),void 0===receiver&&(ret._setIsMigratingBinding(),receiver=this)));var callbackIndex=target._addCallbacks(didFulfill,didReject,didProgress,ret,receiver);return target._isResolved()&&!target._isSettlePromisesQueued()&&async.invoke(target._settlePromiseAtPostResolution,target,callbackIndex),ret},Promise.prototype._settlePromiseAtPostResolution=function(index){this._isRejectionUnhandled()&&this._unsetRejectionIsUnhandled(),this._settlePromiseAt(index)},Promise.prototype._length=function(){return 131071&this._bitField},Promise.prototype._isFollowingOrFulfilledOrRejected=function(){return(939524096&this._bitField)>0},Promise.prototype._isFollowing=function(){return 536870912===(536870912&this._bitField)},Promise.prototype._setLength=function(len){this._bitField=-131072&this._bitField|131071&len},Promise.prototype._setFulfilled=function(){this._bitField=268435456|this._bitField},Promise.prototype._setRejected=function(){this._bitField=134217728|this._bitField},Promise.prototype._setFollowing=function(){this._bitField=536870912|this._bitField},Promise.prototype._setIsFinal=function(){this._bitField=33554432|this._bitField},Promise.prototype._isFinal=function(){return(33554432&this._bitField)>0},Promise.prototype._cancellable=function(){return(67108864&this._bitField)>0},Promise.prototype._setCancellable=function(){this._bitField=67108864|this._bitField},Promise.prototype._unsetCancellable=function(){this._bitField=-67108865&this._bitField},Promise.prototype._isSpreadable=function(){return(131072&this._bitField)>0},Promise.prototype._setIsSpreadable=function(){this._bitField=131072|this._bitField},Promise.prototype._setIsMigrated=function(){this._bitField=4194304|this._bitField},Promise.prototype._unsetIsMigrated=function(){this._bitField=-4194305&this._bitField},Promise.prototype._isMigrated=function(){return(4194304&this._bitField)>0},Promise.prototype._receiverAt=function(index){var ret=0===index?this._receiver0:this[5*index-5+4];return this._isBound()&&void 0===ret?this._boundTo:ret},Promise.prototype._promiseAt=function(index){return 0===index?this._promise0:this[5*index-5+3]},Promise.prototype._fulfillmentHandlerAt=function(index){return 0===index?this._fulfillmentHandler0:this[5*index-5+0]},Promise.prototype._rejectionHandlerAt=function(index){return 0===index?this._rejectionHandler0:this[5*index-5+1]},Promise.prototype._migrateCallbacks=function(follower,index){var fulfill=follower._fulfillmentHandlerAt(index),reject=follower._rejectionHandlerAt(index),progress=follower._progressHandlerAt(index),promise=follower._promiseAt(index),receiver=follower._receiverAt(index);promise instanceof Promise&&(promise._setIsMigrated(),void 0===receiver&&(receiver=follower,promise._setIsMigratingBinding())),this._addCallbacks(fulfill,reject,progress,promise,receiver)},Promise.prototype._addCallbacks=function(fulfill,reject,progress,promise,receiver){var index=this._length();if(index>=131066&&(index=0,this._setLength(0)),0===index)this._promise0=promise,void 0!==receiver&&(this._receiver0=receiver),"function"!=typeof fulfill||this._isCarryingStackTrace()||(this._fulfillmentHandler0=fulfill),"function"==typeof reject&&(this._rejectionHandler0=reject),"function"==typeof progress&&(this._progressHandler0=progress);else{var base=5*index-5;this[base+3]=promise,this[base+4]=receiver,"function"==typeof fulfill&&(this[base+0]=fulfill),"function"==typeof reject&&(this[base+1]=reject),"function"==typeof progress&&(this[base+2]=progress)}return this._setLength(index+1),index},Promise.prototype._setProxyHandlers=function(receiver,promiseSlotValue){var index=this._length();if(index>=131066&&(index=0,this._setLength(0)),0===index)this._promise0=promiseSlotValue,this._receiver0=receiver;else{var base=5*index-5;this[base+3]=promiseSlotValue,this[base+4]=receiver}this._setLength(index+1)},Promise.prototype._proxyPromiseArray=function(promiseArray,index){this._setProxyHandlers(promiseArray,index)},Promise.prototype._resolveCallback=function(value,shouldBind){if(!this._isFollowingOrFulfilledOrRejected()){if(value===this)return this._rejectCallback(makeSelfResolutionError(),!1,!0);var maybePromise=tryConvertToPromise(value,this);if(!(maybePromise instanceof Promise))return this._fulfill(value);var propagationFlags=1|(shouldBind?4:0);this._propagateFrom(maybePromise,propagationFlags);var promise=maybePromise._target();if(promise._isPending()){for(var len=this._length(),i=0;len>i;++i)promise._migrateCallbacks(this,i);this._setFollowing(),this._setLength(0),this._setFollowee(promise)}else promise._isFulfilled()?this._fulfillUnchecked(promise._value()):this._rejectUnchecked(promise._reason(),promise._getCarriedStackTrace())}},Promise.prototype._rejectCallback=function(reason,synchronous,shouldNotMarkOriginatingFromRejection){shouldNotMarkOriginatingFromRejection||util.markAsOriginatingFromRejection(reason);var trace=util.ensureErrorObject(reason),hasStack=util.canAttachTrace(reason)&&"string"==typeof trace.stack&&trace.stack.length>0;this._attachExtraTrace(trace,synchronous?hasStack:!1),this._reject(reason,trace===reason?void 0:trace)},Promise.prototype._resolveFromResolver=function(resolver){var promise=this;this._captureStackTrace(),this._pushContext();var synchronous=!0,r=tryCatch(resolver)(function(value){null!==promise&&(promise._resolveCallback(value),promise=null)},function(reason){null!==promise&&(promise._rejectCallback(reason,synchronous),promise=null)});synchronous=!1,this._popContext(),void 0!==r&&r===errorObj&&null!==promise&&(promise._rejectCallback(r.e,!0,!0),promise=null)},Promise.prototype._settlePromiseFromHandler=function(handler,receiver,value,promise){if(!promise._isRejected()){promise._pushContext();var x;if(x=receiver!==APPLY||this._isRejected()?tryCatch(handler).call(receiver,value):tryCatch(handler).apply(this._boundTo,value),promise._popContext(),x===errorObj||x===promise||x===NEXT_FILTER){var err=x===promise?makeSelfResolutionError():x.e;promise._rejectCallback(err,!1,!0)}else promise._resolveCallback(x)}},Promise.prototype._target=function(){for(var ret=this;ret._isFollowing();)ret=ret._followee();return ret},Promise.prototype._followee=function(){return this._rejectionHandler0},Promise.prototype._setFollowee=function(promise){this._rejectionHandler0=promise},Promise.prototype._cleanValues=function(){this._cancellable()&&(this._cancellationParent=void 0)},Promise.prototype._propagateFrom=function(parent,flags){(1&flags)>0&&parent._cancellable()&&(this._setCancellable(),this._cancellationParent=parent),(4&flags)>0&&this._setBoundTo(parent._boundTo)},Promise.prototype._fulfill=function(value){this._isFollowingOrFulfilledOrRejected()||this._fulfillUnchecked(value)},Promise.prototype._reject=function(reason,carriedStackTrace){this._isFollowingOrFulfilledOrRejected()||this._rejectUnchecked(reason,carriedStackTrace)},Promise.prototype._settlePromiseAt=function(index){var promise=this._promiseAt(index),isPromise=promise instanceof Promise;if(isPromise&&promise._isMigrated())return promise._unsetIsMigrated(),async.invoke(this._settlePromiseAt,this,index);var handler=this._isFulfilled()?this._fulfillmentHandlerAt(index):this._rejectionHandlerAt(index),carriedStackTrace=this._isCarryingStackTrace()?this._getCarriedStackTrace():void 0,value=this._settledValue,receiver=this._receiverAt(index);isPromise&&promise._isMigratingBinding()&&(promise._unsetIsMigratingBinding(),receiver=receiver._boundTo),this._clearCallbackDataAtIndex(index),"function"==typeof handler?isPromise?this._settlePromiseFromHandler(handler,receiver,value,promise):handler.call(receiver,value,promise):receiver instanceof PromiseArray?receiver._isResolved()||(this._isFulfilled()?receiver._promiseFulfilled(value,promise):receiver._promiseRejected(value,promise)):isPromise&&(this._isFulfilled()?promise._fulfill(value):promise._reject(value,carriedStackTrace)),index>=4&&4===(31&index)&&async.invokeLater(this._setLength,this,0)},Promise.prototype._clearCallbackDataAtIndex=function(index){if(0===index)this._isCarryingStackTrace()||(this._fulfillmentHandler0=void 0),this._rejectionHandler0=this._progressHandler0=this._receiver0=this._promise0=void 0;else{var base=5*index-5;this[base+3]=this[base+4]=this[base+0]=this[base+1]=this[base+2]=void 0}},Promise.prototype._isSettlePromisesQueued=function(){return-1073741824===(-1073741824&this._bitField)},Promise.prototype._setSettlePromisesQueued=function(){this._bitField=-1073741824|this._bitField},Promise.prototype._unsetSettlePromisesQueued=function(){this._bitField=1073741823&this._bitField},Promise.prototype._queueSettlePromises=function(){async.settlePromises(this),this._setSettlePromisesQueued()},Promise.prototype._fulfillUnchecked=function(value){if(value===this){var err=makeSelfResolutionError();return this._attachExtraTrace(err),this._rejectUnchecked(err,void 0)}this._setFulfilled(),this._settledValue=value,this._cleanValues(),this._length()>0&&this._queueSettlePromises()},Promise.prototype._rejectUncheckedCheckError=function(reason){var trace=util.ensureErrorObject(reason);this._rejectUnchecked(reason,trace===reason?void 0:trace)},Promise.prototype._rejectUnchecked=function(reason,trace){if(reason===this){var err=makeSelfResolutionError();return this._attachExtraTrace(err),this._rejectUnchecked(err)}return this._setRejected(),this._settledValue=reason,this._cleanValues(),this._isFinal()?void async.throwLater(function(e){throw"stack"in e&&async.invokeFirst(CapturedTrace.unhandledRejection,void 0,e),e},void 0===trace?reason:trace):(void 0!==trace&&trace!==reason&&this._setCarriedStackTrace(trace),void(this._length()>0?this._queueSettlePromises():this._ensurePossibleRejectionHandled()))},Promise.prototype._settlePromises=function(){this._unsetSettlePromisesQueued();for(var len=this._length(),i=0;len>i;i++)this._settlePromiseAt(i)},Promise._makeSelfResolutionError=makeSelfResolutionError,_dereq_("./method.js")(Promise,INTERNAL,tryConvertToPromise,apiRejection),_dereq_("./bind.js")(Promise,INTERNAL,tryConvertToPromise),_dereq_("./finally.js")(Promise,NEXT_FILTER,tryConvertToPromise),_dereq_("./direct_resolve.js")(Promise),_dereq_("./synchronous_inspection.js")(Promise),_dereq_("./join.js")(Promise,PromiseArray,tryConvertToPromise,INTERNAL),util.toFastProperties(Promise),util.toFastProperties(Promise.prototype),Promise.Promise=Promise,CapturedTrace.setBounds(async.firstLineError,util.lastLineError),_dereq_("./map.js")(Promise,PromiseArray,apiRejection,tryConvertToPromise,INTERNAL),_dereq_("./using.js")(Promise,apiRejection,tryConvertToPromise,createContext),_dereq_("./generators.js")(Promise,apiRejection,INTERNAL,tryConvertToPromise),_dereq_("./nodeify.js")(Promise),_dereq_("./cancel.js")(Promise),_dereq_("./promisify.js")(Promise,INTERNAL),_dereq_("./props.js")(Promise,PromiseArray,tryConvertToPromise,apiRejection),_dereq_("./race.js")(Promise,INTERNAL,tryConvertToPromise,apiRejection),_dereq_("./reduce.js")(Promise,PromiseArray,apiRejection,tryConvertToPromise,INTERNAL),_dereq_("./settle.js")(Promise,PromiseArray),_dereq_("./call_get.js")(Promise),_dereq_("./some.js")(Promise,PromiseArray,apiRejection),_dereq_("./progress.js")(Promise,PromiseArray),_dereq_("./any.js")(Promise),_dereq_("./each.js")(Promise,INTERNAL),_dereq_("./timers.js")(Promise,INTERNAL),_dereq_("./filter.js")(Promise,INTERNAL),Promise.prototype=Promise.prototype,Promise}},{"./any.js":1,"./async.js":2,"./bind.js":3,"./call_get.js":5,"./cancel.js":6,"./captured_trace.js":7,"./catch_filter.js":8,"./context.js":9,"./debuggability.js":10,"./direct_resolve.js":11,"./each.js":12,"./errors.js":13,"./filter.js":15,"./finally.js":16,"./generators.js":17,"./join.js":18,"./map.js":19,"./method.js":20,"./nodeify.js":21,"./progress.js":22,"./promise_array.js":24,"./promise_resolver.js":25,"./promisify.js":26,"./props.js":27,"./race.js":29,"./reduce.js":30,"./settle.js":32,"./some.js":33,"./synchronous_inspection.js":34,"./thenables.js":35,"./timers.js":36,"./using.js":37,"./util.js":38}],24:[function(_dereq_,module){"use strict";module.exports=function(Promise,INTERNAL,tryConvertToPromise,apiRejection){function toResolutionValue(val){switch(val){case-2:return[];case-3:return{}}}function PromiseArray(values){var parent,promise=this._promise=new Promise(INTERNAL);values instanceof Promise&&(parent=values,promise._propagateFrom(parent,5)),this._values=values,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var util=_dereq_("./util.js"),isArray=util.isArray;return PromiseArray.prototype.length=function(){return this._length},PromiseArray.prototype.promise=function(){return this._promise},PromiseArray.prototype._init=function init(_,resolveValueIfEmpty){var values=tryConvertToPromise(this._values,this._promise);if(values instanceof Promise){if(values._setBoundTo(this._promise._boundTo),values=values._target(),this._values=values,!values._isFulfilled())return values._isPending()?void values._then(init,this._reject,void 0,this,resolveValueIfEmpty):void this._reject(values._reason());if(values=values._value(),!isArray(values)){var err=new Promise.TypeError("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n");return void this.__hardReject__(err)}}else if(!isArray(values))return void this._promise._reject(apiRejection("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n")._reason());if(0===values.length)return void(-5===resolveValueIfEmpty?this._resolveEmptyArray():this._resolve(toResolutionValue(resolveValueIfEmpty)));var len=this.getActualLength(values.length);this._length=len,this._values=this.shouldCopyValues()?new Array(len):this._values;for(var promise=this._promise,i=0;len>i;++i){var isResolved=this._isResolved(),maybePromise=tryConvertToPromise(values[i],promise);maybePromise instanceof Promise?(maybePromise=maybePromise._target(),isResolved?maybePromise._unsetRejectionIsUnhandled():maybePromise._isPending()?maybePromise._proxyPromiseArray(this,i):maybePromise._isFulfilled()?this._promiseFulfilled(maybePromise._value(),i):this._promiseRejected(maybePromise._reason(),i)):isResolved||this._promiseFulfilled(maybePromise,i)}},PromiseArray.prototype._isResolved=function(){return null===this._values},PromiseArray.prototype._resolve=function(value){this._values=null,this._promise._fulfill(value)},PromiseArray.prototype.__hardReject__=PromiseArray.prototype._reject=function(reason){this._values=null,this._promise._rejectCallback(reason,!1,!0)},PromiseArray.prototype._promiseProgressed=function(progressValue,index){this._promise._progress({index:index,value:progressValue})},PromiseArray.prototype._promiseFulfilled=function(value,index){this._values[index]=value;var totalResolved=++this._totalResolved;totalResolved>=this._length&&this._resolve(this._values)},PromiseArray.prototype._promiseRejected=function(reason){this._totalResolved++,this._reject(reason)},PromiseArray.prototype.shouldCopyValues=function(){return!0},PromiseArray.prototype.getActualLength=function(len){return len},PromiseArray}},{"./util.js":38}],25:[function(_dereq_,module){"use strict";function isUntypedError(obj){return obj instanceof Error&&es5.getPrototypeOf(obj)===Error.prototype}function wrapAsOperationalError(obj){var ret;if(isUntypedError(obj)){ret=new OperationalError(obj),ret.name=obj.name,ret.message=obj.message,ret.stack=obj.stack;for(var keys=es5.keys(obj),i=0;i<keys.length;++i){var key=keys[i];rErrorKey.test(key)||(ret[key]=obj[key])}return ret}return util.markAsOriginatingFromRejection(obj),obj}function nodebackForPromise(promise){return function(err,value){if(null!==promise){if(err){var wrapped=wrapAsOperationalError(maybeWrapAsError(err));promise._attachExtraTrace(wrapped),promise._reject(wrapped)}else if(arguments.length>2){for(var $_len=arguments.length,args=new Array($_len-1),$_i=1;$_len>$_i;++$_i)args[$_i-1]=arguments[$_i];promise._fulfill(args)}else promise._fulfill(value);promise=null}}}var PromiseResolver,util=_dereq_("./util.js"),maybeWrapAsError=util.maybeWrapAsError,errors=_dereq_("./errors.js"),TimeoutError=errors.TimeoutError,OperationalError=errors.OperationalError,haveGetters=util.haveGetters,es5=_dereq_("./es5.js"),rErrorKey=/^(?:name|message|stack|cause)$/;if(PromiseResolver=haveGetters?function(promise){this.promise=promise}:function(promise){this.promise=promise,this.asCallback=nodebackForPromise(promise),this.callback=this.asCallback},haveGetters){var prop={get:function(){return nodebackForPromise(this.promise)}};es5.defineProperty(PromiseResolver.prototype,"asCallback",prop),es5.defineProperty(PromiseResolver.prototype,"callback",prop)}PromiseResolver._nodebackForPromise=nodebackForPromise,PromiseResolver.prototype.toString=function(){return"[object PromiseResolver]"},PromiseResolver.prototype.resolve=PromiseResolver.prototype.fulfill=function(value){if(!(this instanceof PromiseResolver))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._resolveCallback(value)},PromiseResolver.prototype.reject=function(reason){if(!(this instanceof PromiseResolver))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._rejectCallback(reason)},PromiseResolver.prototype.progress=function(value){if(!(this instanceof PromiseResolver))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._progress(value)},PromiseResolver.prototype.cancel=function(err){this.promise.cancel(err)},PromiseResolver.prototype.timeout=function(){this.reject(new TimeoutError("timeout"))},PromiseResolver.prototype.isResolved=function(){return this.promise.isResolved()},PromiseResolver.prototype.toJSON=function(){return this.promise.toJSON()},module.exports=PromiseResolver},{"./errors.js":13,"./es5.js":14,"./util.js":38}],26:[function(_dereq_,module){"use strict";module.exports=function(Promise,INTERNAL){function isPromisified(fn){try{return fn.__isPromisified__===!0}catch(e){return!1}}function hasPromisified(obj,key,suffix){var val=util.getDataPropertyOrDefault(obj,key+suffix,defaultPromisified);return val?isPromisified(val):!1}function checkValid(ret,suffix,suffixRegexp){for(var i=0;i<ret.length;i+=2){var key=ret[i];if(suffixRegexp.test(key))for(var keyWithoutAsyncSuffix=key.replace(suffixRegexp,""),j=0;j<ret.length;j+=2)if(ret[j]===keyWithoutAsyncSuffix)throw new TypeError("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/iWrZbw\n".replace("%s",suffix))}}function promisifiableMethods(obj,suffix,suffixRegexp,filter){for(var keys=util.inheritedDataKeys(obj),ret=[],i=0;i<keys.length;++i){var key=keys[i],value=obj[key],passesDefaultFilter=filter===defaultFilter?!0:defaultFilter(key,value,obj);"function"!=typeof value||isPromisified(value)||hasPromisified(obj,key,suffix)||!filter(key,value,obj,passesDefaultFilter)||ret.push(key,value)}return checkValid(ret,suffix,suffixRegexp),ret}function makeNodePromisifiedClosure(callback,receiver){function promisified(){var _receiver=receiver;receiver===THIS&&(_receiver=this),"string"==typeof callback&&(callback=_receiver[callback]);var promise=new Promise(INTERNAL);promise._captureStackTrace(),promise._setIsSpreadable();var fn=nodebackForPromise(promise);try{callback.apply(_receiver,withAppended(arguments,fn))}catch(e){var wrapped=maybeWrapAsError(e);promise._attachExtraTrace(wrapped),promise._reject(wrapped)}return promise}return promisified.__isPromisified__=!0,promisified}function promisifyAll(obj,suffix,filter,promisifier){for(var suffixRegexp=new RegExp(escapeIdentRegex(suffix)+"$"),methods=promisifiableMethods(obj,suffix,suffixRegexp,filter),i=0,len=methods.length;len>i;i+=2){var key=methods[i],fn=methods[i+1],promisifiedKey=key+suffix;obj[promisifiedKey]=promisifier===makeNodePromisified?makeNodePromisified(key,THIS,key,fn,suffix):promisifier(fn,function(){return makeNodePromisified(key,THIS,key,fn,suffix)})}return util.toFastProperties(obj),obj}function promisify(callback,receiver){return makeNodePromisified(callback,receiver,void 0,callback)}var makeNodePromisifiedEval,THIS={},util=_dereq_("./util.js"),nodebackForPromise=_dereq_("./promise_resolver.js")._nodebackForPromise,withAppended=util.withAppended,maybeWrapAsError=util.maybeWrapAsError,canEvaluate=util.canEvaluate,TypeError=_dereq_("./errors").TypeError,defaultSuffix="Async",defaultFilter=function(name,func){return util.isIdentifier(name)&&"_"!==name.charAt(0)&&!util.isClass(func)},defaultPromisified={__isPromisified__:!0},escapeIdentRegex=function(str){return str.replace(/([$])/,"\\$")},makeNodePromisified=canEvaluate?makeNodePromisifiedEval:makeNodePromisifiedClosure;Promise.promisify=function(fn,receiver){if("function"!=typeof fn)throw new TypeError("fn must be a function\n\n    See http://goo.gl/916lJJ\n");return isPromisified(fn)?fn:promisify(fn,arguments.length<2?THIS:receiver)},Promise.promisifyAll=function(target,options){if("function"!=typeof target&&"object"!=typeof target)throw new TypeError("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/9ITlV0\n");options=Object(options);var suffix=options.suffix;"string"!=typeof suffix&&(suffix=defaultSuffix);var filter=options.filter;"function"!=typeof filter&&(filter=defaultFilter);var promisifier=options.promisifier;if("function"!=typeof promisifier&&(promisifier=makeNodePromisified),!util.isIdentifier(suffix))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/8FZo5V\n");for(var keys=util.inheritedDataKeys(target,{includeHidden:!0}),i=0;i<keys.length;++i){var value=target[keys[i]];"constructor"!==keys[i]&&util.isClass(value)&&(promisifyAll(value.prototype,suffix,filter,promisifier),promisifyAll(value,suffix,filter,promisifier))}return promisifyAll(target,suffix,filter,promisifier)}}},{"./errors":13,"./promise_resolver.js":25,"./util.js":38}],27:[function(_dereq_,module){"use strict";module.exports=function(Promise,PromiseArray,tryConvertToPromise,apiRejection){function PropertiesPromiseArray(obj){for(var keys=es5.keys(obj),len=keys.length,values=new Array(2*len),i=0;len>i;++i){var key=keys[i];values[i]=obj[key],values[i+len]=key}this.constructor$(values)}function props(promises){var ret,castValue=tryConvertToPromise(promises);return isObject(castValue)?(ret=castValue instanceof Promise?castValue._then(Promise.props,void 0,void 0,void 0,void 0):new PropertiesPromiseArray(castValue).promise(),castValue instanceof Promise&&ret._propagateFrom(castValue,4),ret):apiRejection("cannot await properties of a non-object\n\n    See http://goo.gl/OsFKC8\n")}var util=_dereq_("./util.js"),isObject=util.isObject,es5=_dereq_("./es5.js");util.inherits(PropertiesPromiseArray,PromiseArray),PropertiesPromiseArray.prototype._init=function(){this._init$(void 0,-3)},PropertiesPromiseArray.prototype._promiseFulfilled=function(value,index){this._values[index]=value;var totalResolved=++this._totalResolved;
if(totalResolved>=this._length){for(var val={},keyOffset=this.length(),i=0,len=this.length();len>i;++i)val[this._values[i+keyOffset]]=this._values[i];this._resolve(val)}},PropertiesPromiseArray.prototype._promiseProgressed=function(value,index){this._promise._progress({key:this._values[index+this.length()],value:value})},PropertiesPromiseArray.prototype.shouldCopyValues=function(){return!1},PropertiesPromiseArray.prototype.getActualLength=function(len){return len>>1},Promise.prototype.props=function(){return props(this)},Promise.props=function(promises){return props(promises)}}},{"./es5.js":14,"./util.js":38}],28:[function(_dereq_,module){"use strict";function arrayMove(src,srcIndex,dst,dstIndex,len){for(var j=0;len>j;++j)dst[j+dstIndex]=src[j+srcIndex],src[j+srcIndex]=void 0}function Queue(capacity){this._capacity=capacity,this._length=0,this._front=0}Queue.prototype._willBeOverCapacity=function(size){return this._capacity<size},Queue.prototype._pushOne=function(arg){var length=this.length();this._checkCapacity(length+1);var i=this._front+length&this._capacity-1;this[i]=arg,this._length=length+1},Queue.prototype._unshiftOne=function(value){var capacity=this._capacity;this._checkCapacity(this.length()+1);var front=this._front,i=(front-1&capacity-1^capacity)-capacity;this[i]=value,this._front=i,this._length=this.length()+1},Queue.prototype.unshift=function(fn,receiver,arg){this._unshiftOne(arg),this._unshiftOne(receiver),this._unshiftOne(fn)},Queue.prototype.push=function(fn,receiver,arg){var length=this.length()+3;if(this._willBeOverCapacity(length))return this._pushOne(fn),this._pushOne(receiver),void this._pushOne(arg);var j=this._front+length-3;this._checkCapacity(length);var wrapMask=this._capacity-1;this[j+0&wrapMask]=fn,this[j+1&wrapMask]=receiver,this[j+2&wrapMask]=arg,this._length=length},Queue.prototype.shift=function(){var front=this._front,ret=this[front];return this[front]=void 0,this._front=front+1&this._capacity-1,this._length--,ret},Queue.prototype.length=function(){return this._length},Queue.prototype._checkCapacity=function(size){this._capacity<size&&this._resizeTo(this._capacity<<1)},Queue.prototype._resizeTo=function(capacity){var oldCapacity=this._capacity;this._capacity=capacity;var front=this._front,length=this._length,moveItemsCount=front+length&oldCapacity-1;arrayMove(this,0,this,oldCapacity,moveItemsCount)},module.exports=Queue},{}],29:[function(_dereq_,module){"use strict";module.exports=function(Promise,INTERNAL,tryConvertToPromise,apiRejection){function race(promises,parent){var maybePromise=tryConvertToPromise(promises);if(maybePromise instanceof Promise)return raceLater(maybePromise);if(!isArray(promises))return apiRejection("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n");var ret=new Promise(INTERNAL);void 0!==parent&&ret._propagateFrom(parent,5);for(var fulfill=ret._fulfill,reject=ret._reject,i=0,len=promises.length;len>i;++i){var val=promises[i];(void 0!==val||i in promises)&&Promise.cast(val)._then(fulfill,reject,void 0,ret,null)}return ret}var isArray=_dereq_("./util.js").isArray,raceLater=function(promise){return promise.then(function(array){return race(array,promise)})};Promise.race=function(promises){return race(promises,void 0)},Promise.prototype.race=function(){return race(this,void 0)}}},{"./util.js":38}],30:[function(_dereq_,module){"use strict";module.exports=function(Promise,PromiseArray,apiRejection,tryConvertToPromise,INTERNAL){function ReductionPromiseArray(promises,fn,accum,_each){this.constructor$(promises),this._promise._captureStackTrace(),this._preservedValues=_each===INTERNAL?[]:null,this._zerothIsAccum=void 0===accum,this._gotAccum=!1,this._reducingIndex=this._zerothIsAccum?1:0,this._valuesPhase=void 0;var maybePromise=tryConvertToPromise(accum,this._promise),rejected=!1,isPromise=maybePromise instanceof Promise;isPromise&&(maybePromise=maybePromise._target(),maybePromise._isPending()?maybePromise._proxyPromiseArray(this,-1):maybePromise._isFulfilled()?(accum=maybePromise._value(),this._gotAccum=!0):(this._reject(maybePromise._reason()),rejected=!0)),isPromise||this._zerothIsAccum||(this._gotAccum=!0),this._callback=fn,this._accum=accum,rejected||this._init$(void 0,-5)}function reduce(promises,fn,initialValue,_each){if("function"!=typeof fn)return apiRejection("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var array=new ReductionPromiseArray(promises,fn,initialValue,_each);return array.promise()}var util=_dereq_("./util.js"),tryCatch=util.tryCatch,errorObj=util.errorObj;util.inherits(ReductionPromiseArray,PromiseArray),ReductionPromiseArray.prototype._init=function(){},ReductionPromiseArray.prototype._resolveEmptyArray=function(){(this._gotAccum||this._zerothIsAccum)&&this._resolve(null!==this._preservedValues?[]:this._accum)},ReductionPromiseArray.prototype._promiseFulfilled=function(value,index){var values=this._values;values[index]=value;var valuesPhaseIndex,length=this.length(),preservedValues=this._preservedValues,isEach=null!==preservedValues,gotAccum=this._gotAccum,valuesPhase=this._valuesPhase;if(!valuesPhase)for(valuesPhase=this._valuesPhase=new Array(length),valuesPhaseIndex=0;length>valuesPhaseIndex;++valuesPhaseIndex)valuesPhase[valuesPhaseIndex]=0;if(valuesPhaseIndex=valuesPhase[index],0===index&&this._zerothIsAccum?(this._accum=value,this._gotAccum=gotAccum=!0,valuesPhase[index]=0===valuesPhaseIndex?1:2):-1===index?(this._accum=value,this._gotAccum=gotAccum=!0):0===valuesPhaseIndex?valuesPhase[index]=1:(valuesPhase[index]=2,this._accum=value),gotAccum){for(var ret,callback=this._callback,receiver=this._promise._boundTo,i=this._reducingIndex;length>i;++i)if(valuesPhaseIndex=valuesPhase[i],2!==valuesPhaseIndex){if(1!==valuesPhaseIndex)return;if(value=values[i],this._promise._pushContext(),isEach?(preservedValues.push(value),ret=tryCatch(callback).call(receiver,value,i,length)):ret=tryCatch(callback).call(receiver,this._accum,value,i,length),this._promise._popContext(),ret===errorObj)return this._reject(ret.e);var maybePromise=tryConvertToPromise(ret,this._promise);if(maybePromise instanceof Promise){if(maybePromise=maybePromise._target(),maybePromise._isPending())return valuesPhase[i]=4,maybePromise._proxyPromiseArray(this,i);if(!maybePromise._isFulfilled())return this._reject(maybePromise._reason());ret=maybePromise._value()}this._reducingIndex=i+1,this._accum=ret}else this._reducingIndex=i+1;this._resolve(isEach?preservedValues:this._accum)}},Promise.prototype.reduce=function(fn,initialValue){return reduce(this,fn,initialValue,null)},Promise.reduce=function(promises,fn,initialValue,_each){return reduce(promises,fn,initialValue,_each)}}},{"./util.js":38}],31:[function(_dereq_,module){"use strict";var schedule;if("object"==typeof process&&"string"==typeof process.version){var version=process.version.split(".").map(Number);schedule=0===version[0]&&version[1]>10||version[0]>0?global.setImmediate:process.nextTick}else"undefined"!=typeof MutationObserver?(schedule=function(fn){var div=document.createElement("div"),observer=new MutationObserver(fn);return observer.observe(div,{attributes:!0}),function(){div.classList.toggle("foo")}},schedule.isStatic=!0):schedule="undefined"!=typeof setTimeout?function(fn){setTimeout(fn,0)}:function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/m3OTXk\n")};module.exports=schedule},{}],32:[function(_dereq_,module){"use strict";module.exports=function(Promise,PromiseArray){function SettledPromiseArray(values){this.constructor$(values),this._promise._setIsSpreadable()}var PromiseInspection=Promise.PromiseInspection,util=_dereq_("./util.js");util.inherits(SettledPromiseArray,PromiseArray),SettledPromiseArray.prototype._promiseResolved=function(index,inspection){this._values[index]=inspection;var totalResolved=++this._totalResolved;totalResolved>=this._length&&this._resolve(this._values)},SettledPromiseArray.prototype._promiseFulfilled=function(value,index){var ret=new PromiseInspection;ret._bitField=268435456,ret._settledValue=value,this._promiseResolved(index,ret)},SettledPromiseArray.prototype._promiseRejected=function(reason,index){var ret=new PromiseInspection;ret._bitField=134217728,ret._settledValue=reason,this._promiseResolved(index,ret)},Promise.settle=function(promises){return new SettledPromiseArray(promises).promise()},Promise.prototype.settle=function(){return new SettledPromiseArray(this).promise()}}},{"./util.js":38}],33:[function(_dereq_,module){"use strict";module.exports=function(Promise,PromiseArray,apiRejection){function SomePromiseArray(values){this.constructor$(values),this._howMany=0,this._unwrap=!1,this._initialized=!1}function some(promises,howMany){if((0|howMany)!==howMany||0>howMany)return apiRejection("expecting a positive integer\n\n    See http://goo.gl/1wAmHx\n");var ret=new SomePromiseArray(promises),promise=ret.promise();return ret.setHowMany(howMany),ret.init(),promise}var util=_dereq_("./util.js"),RangeError=_dereq_("./errors.js").RangeError,AggregateError=_dereq_("./errors.js").AggregateError,isArray=util.isArray;util.inherits(SomePromiseArray,PromiseArray),SomePromiseArray.prototype._init=function(){if(this._initialized){if(this._promise._setIsSpreadable(),0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var isArrayResolved=isArray(this._values);!this._isResolved()&&isArrayResolved&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},SomePromiseArray.prototype.init=function(){this._initialized=!0,this._init()},SomePromiseArray.prototype.setUnwrap=function(){this._unwrap=!0},SomePromiseArray.prototype.howMany=function(){return this._howMany},SomePromiseArray.prototype.setHowMany=function(count){this._howMany=count},SomePromiseArray.prototype._promiseFulfilled=function(value){this._addFulfilled(value),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),this._resolve(1===this.howMany()&&this._unwrap?this._values[0]:this._values))},SomePromiseArray.prototype._promiseRejected=function(reason){if(this._addRejected(reason),this.howMany()>this._canPossiblyFulfill()){for(var e=new AggregateError,i=this.length();i<this._values.length;++i)e.push(this._values[i]);this._reject(e)}},SomePromiseArray.prototype._fulfilled=function(){return this._totalResolved},SomePromiseArray.prototype._rejected=function(){return this._values.length-this.length()},SomePromiseArray.prototype._addRejected=function(reason){this._values.push(reason)},SomePromiseArray.prototype._addFulfilled=function(value){this._values[this._totalResolved++]=value},SomePromiseArray.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},SomePromiseArray.prototype._getRangeError=function(count){var message="Input array must contain at least "+this._howMany+" items but contains only "+count+" items";return new RangeError(message)},SomePromiseArray.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},Promise.some=function(promises,howMany){return some(promises,howMany)},Promise.prototype.some=function(howMany){return some(this,howMany)},Promise._SomePromiseArray=SomePromiseArray}},{"./errors.js":13,"./util.js":38}],34:[function(_dereq_,module){"use strict";module.exports=function(Promise){function PromiseInspection(promise){void 0!==promise?(promise=promise._target(),this._bitField=promise._bitField,this._settledValue=promise._settledValue):(this._bitField=0,this._settledValue=void 0)}PromiseInspection.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/hc1DLj\n");return this._settledValue},PromiseInspection.prototype.error=PromiseInspection.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/hPuiwB\n");return this._settledValue},PromiseInspection.prototype.isFulfilled=Promise.prototype._isFulfilled=function(){return(268435456&this._bitField)>0},PromiseInspection.prototype.isRejected=Promise.prototype._isRejected=function(){return(134217728&this._bitField)>0},PromiseInspection.prototype.isPending=Promise.prototype._isPending=function(){return 0===(402653184&this._bitField)},PromiseInspection.prototype.isResolved=Promise.prototype._isResolved=function(){return(402653184&this._bitField)>0},Promise.prototype.isPending=function(){return this._target()._isPending()},Promise.prototype.isRejected=function(){return this._target()._isRejected()},Promise.prototype.isFulfilled=function(){return this._target()._isFulfilled()},Promise.prototype.isResolved=function(){return this._target()._isResolved()},Promise.prototype._value=function(){return this._settledValue},Promise.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue},Promise.prototype.value=function(){var target=this._target();if(!target.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/hc1DLj\n");return target._settledValue},Promise.prototype.reason=function(){var target=this._target();if(!target.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/hPuiwB\n");return target._unsetRejectionIsUnhandled(),target._settledValue},Promise.PromiseInspection=PromiseInspection}},{}],35:[function(_dereq_,module){"use strict";module.exports=function(Promise,INTERNAL){function tryConvertToPromise(obj,context){if(isObject(obj)){if(obj instanceof Promise)return obj;if(isAnyBluebirdPromise(obj)){var ret=new Promise(INTERNAL);return obj._then(ret._fulfillUnchecked,ret._rejectUncheckedCheckError,ret._progressUnchecked,ret,null),ret}var then=util.tryCatch(getThen)(obj);if(then===errorObj){context&&context._pushContext();var ret=Promise.reject(then.e);return context&&context._popContext(),ret}if("function"==typeof then)return doThenable(obj,then,context)}return obj}function getThen(obj){return obj.then}function isAnyBluebirdPromise(obj){return hasProp.call(obj,"_promise0")}function doThenable(x,then,context){function resolveFromThenable(value){promise&&(x===value?promise._rejectCallback(Promise._makeSelfResolutionError(),!1,!0):promise._resolveCallback(value),promise=null)}function rejectFromThenable(reason){promise&&(promise._rejectCallback(reason,synchronous,!0),promise=null)}function progressFromThenable(value){promise&&"function"==typeof promise._progress&&promise._progress(value)}var promise=new Promise(INTERNAL),ret=promise;context&&context._pushContext(),promise._captureStackTrace(),context&&context._popContext();var synchronous=!0,result=util.tryCatch(then).call(x,resolveFromThenable,rejectFromThenable,progressFromThenable);return synchronous=!1,promise&&result===errorObj&&(promise._rejectCallback(result.e,!0,!0),promise=null),ret}var util=_dereq_("./util.js"),errorObj=util.errorObj,isObject=util.isObject,hasProp={}.hasOwnProperty;return tryConvertToPromise}},{"./util.js":38}],36:[function(_dereq_,module){"use strict";module.exports=function(Promise,INTERNAL){function successClear(value){var handle=this;return handle instanceof Number&&(handle=+handle),clearTimeout(handle),value}function failureClear(reason){var handle=this;throw handle instanceof Number&&(handle=+handle),clearTimeout(handle),reason}var util=_dereq_("./util.js"),TimeoutError=Promise.TimeoutError,afterTimeout=function(promise,message){if(promise.isPending()){"string"!=typeof message&&(message="operation timed out");var err=new TimeoutError(message);util.markAsOriginatingFromRejection(err),promise._attachExtraTrace(err),promise._cancel(err)}},afterValue=function(value){return delay(+this).thenReturn(value)},delay=Promise.delay=function(value,ms){if(void 0===ms){ms=value,value=void 0;var ret=new Promise(INTERNAL);return setTimeout(function(){ret._fulfill()},ms),ret}return ms=+ms,Promise.resolve(value)._then(afterValue,null,null,ms,void 0)};Promise.prototype.delay=function(ms){return delay(this,ms)},Promise.prototype.timeout=function(ms,message){ms=+ms;var ret=this.then().cancellable();ret._cancellationParent=this;var handle=setTimeout(function(){afterTimeout(ret,message)},ms);return ret._then(successClear,failureClear,void 0,handle,void 0)}}},{"./util.js":38}],37:[function(_dereq_,module){"use strict";module.exports=function(Promise,apiRejection,tryConvertToPromise,createContext){function inspectionMapper(inspections){for(var len=inspections.length,i=0;len>i;++i){var inspection=inspections[i];if(inspection.isRejected())return Promise.reject(inspection.error());inspections[i]=inspection._settledValue}return inspections}function thrower(e){setTimeout(function(){throw e},0)}function castPreservingDisposable(thenable){var maybePromise=tryConvertToPromise(thenable);return maybePromise!==thenable&&"function"==typeof thenable._isDisposable&&"function"==typeof thenable._getDisposer&&thenable._isDisposable()&&maybePromise._setDisposable(thenable._getDisposer()),maybePromise}function dispose(resources,inspection){function iterator(){if(i>=len)return ret.resolve();var maybePromise=castPreservingDisposable(resources[i++]);if(maybePromise instanceof Promise&&maybePromise._isDisposable()){try{maybePromise=tryConvertToPromise(maybePromise._getDisposer().tryDispose(inspection),resources.promise)}catch(e){return thrower(e)}if(maybePromise instanceof Promise)return maybePromise._then(iterator,thrower,null,null,null)}iterator()}var i=0,len=resources.length,ret=Promise.defer();return iterator(),ret.promise}function disposerSuccess(value){var inspection=new PromiseInspection;return inspection._settledValue=value,inspection._bitField=268435456,dispose(this,inspection).thenReturn(value)}function disposerFail(reason){var inspection=new PromiseInspection;return inspection._settledValue=reason,inspection._bitField=134217728,dispose(this,inspection).thenThrow(reason)}function Disposer(data,promise,context){this._data=data,this._promise=promise,this._context=context}function FunctionDisposer(fn,promise,context){this.constructor$(fn,promise,context)}function maybeUnwrapDisposer(value){return Disposer.isDisposer(value)?(this.resources[this.index]._setDisposable(value),value.promise()):value}var TypeError=_dereq_("./errors.js").TypeError,inherits=_dereq_("./util.js").inherits,PromiseInspection=Promise.PromiseInspection;Disposer.prototype.data=function(){return this._data},Disposer.prototype.promise=function(){return this._promise},Disposer.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():null},Disposer.prototype.tryDispose=function(inspection){var resource=this.resource(),context=this._context;void 0!==context&&context._pushContext();var ret=null!==resource?this.doDispose(resource,inspection):null;return void 0!==context&&context._popContext(),this._promise._unsetDisposable(),this._data=null,ret},Disposer.isDisposer=function(d){return null!=d&&"function"==typeof d.resource&&"function"==typeof d.tryDispose},inherits(FunctionDisposer,Disposer),FunctionDisposer.prototype.doDispose=function(resource,inspection){var fn=this.data();return fn.call(resource,resource,inspection)},Promise.using=function(){var len=arguments.length;if(2>len)return apiRejection("you must pass at least 2 arguments to Promise.using");var fn=arguments[len-1];if("function"!=typeof fn)return apiRejection("fn must be a function\n\n    See http://goo.gl/916lJJ\n");len--;for(var resources=new Array(len),i=0;len>i;++i){var resource=arguments[i];if(Disposer.isDisposer(resource)){var disposer=resource;resource=resource.promise(),resource._setDisposable(disposer)}else{var maybePromise=tryConvertToPromise(resource);maybePromise instanceof Promise&&(resource=maybePromise._then(maybeUnwrapDisposer,null,null,{resources:resources,index:i},void 0))}resources[i]=resource}var promise=Promise.settle(resources).then(inspectionMapper).then(function(vals){promise._pushContext();var ret;try{ret=fn.apply(void 0,vals)}finally{promise._popContext()}return ret})._then(disposerSuccess,disposerFail,void 0,resources,void 0);return resources.promise=promise,promise},Promise.prototype._setDisposable=function(disposer){this._bitField=262144|this._bitField,this._disposer=disposer},Promise.prototype._isDisposable=function(){return(262144&this._bitField)>0},Promise.prototype._getDisposer=function(){return this._disposer},Promise.prototype._unsetDisposable=function(){this._bitField=-262145&this._bitField,this._disposer=void 0},Promise.prototype.disposer=function(fn){if("function"==typeof fn)return new FunctionDisposer(fn,this,createContext());throw new TypeError}}},{"./errors.js":13,"./util.js":38}],38:[function(_dereq_,module,exports){"use strict";function tryCatcher(){try{return tryCatchTarget.apply(this,arguments)}catch(e){return errorObj.e=e,errorObj}}function tryCatch(fn){return tryCatchTarget=fn,tryCatcher}function asString(val){return"string"==typeof val?val:""+val}function isPrimitive(val){return null==val||val===!0||val===!1||"string"==typeof val||"number"==typeof val}function isObject(value){return!isPrimitive(value)}function maybeWrapAsError(maybeError){return isPrimitive(maybeError)?new Error(asString(maybeError)):maybeError}function withAppended(target,appendee){var i,len=target.length,ret=new Array(len+1);for(i=0;len>i;++i)ret[i]=target[i];return ret[i]=appendee,ret}function getDataPropertyOrDefault(obj,key,defaultValue){if(!es5.isES5)return{}.hasOwnProperty.call(obj,key)?obj[key]:void 0;var desc=Object.getOwnPropertyDescriptor(obj,key);return null!=desc?null==desc.get&&null==desc.set?desc.value:defaultValue:void 0}function notEnumerableProp(obj,name,value){if(isPrimitive(obj))return obj;var descriptor={value:value,configurable:!0,enumerable:!1,writable:!0};return es5.defineProperty(obj,name,descriptor),obj}function thrower(r){throw r}function isClass(fn){try{if("function"==typeof fn){var keys=es5.keys(fn.prototype);return keys.length>0&&!(1===keys.length&&"constructor"===keys[0])}return!1}catch(e){return!1}}function toFastProperties(obj){function f(){}return f.prototype=obj,f}function isIdentifier(str){return rident.test(str)}function filledRange(count,prefix,suffix){for(var ret=new Array(count),i=0;count>i;++i)ret[i]=prefix+i+suffix;return ret}function safeToString(obj){try{return obj+""}catch(e){return"[no string representation]"}}function markAsOriginatingFromRejection(e){try{notEnumerableProp(e,"isOperational",!0)}catch(ignore){}}function originatesFromRejection(e){return null==e?!1:e instanceof Error.__BluebirdErrorTypes__.OperationalError||e.isOperational===!0}function canAttachTrace(obj){return obj instanceof Error&&es5.propertyIsWritable(obj,"stack")}var es5=_dereq_("./es5.js"),canEvaluate="undefined"==typeof navigator,haveGetters=function(){try{var o={};return es5.defineProperty(o,"f",{get:function(){return 3}}),3===o.f}catch(e){return!1}}(),errorObj={e:{}},tryCatchTarget,inherits=function(Child,Parent){function T(){this.constructor=Child,this.constructor$=Parent;for(var propertyName in Parent.prototype)hasProp.call(Parent.prototype,propertyName)&&"$"!==propertyName.charAt(propertyName.length-1)&&(this[propertyName+"$"]=Parent.prototype[propertyName])}var hasProp={}.hasOwnProperty;return T.prototype=Parent.prototype,Child.prototype=new T,Child.prototype},wrapsPrimitiveReceiver=function(){return"string"!==this}.call("string"),inheritedDataKeys=function(){return es5.isES5?function(obj,opts){for(var ret=[],visitedKeys=Object.create(null),getKeys=Object(opts).includeHidden?Object.getOwnPropertyNames:Object.keys;null!=obj;){var keys;try{keys=getKeys(obj)}catch(e){return ret}for(var i=0;i<keys.length;++i){var key=keys[i];if(!visitedKeys[key]){visitedKeys[key]=!0;var desc=Object.getOwnPropertyDescriptor(obj,key);null!=desc&&null==desc.get&&null==desc.set&&ret.push(key)}}obj=es5.getPrototypeOf(obj)}return ret}:function(obj){var ret=[];for(var key in obj)ret.push(key);return ret}}(),rident=/^[a-z$_][a-z$_0-9]*$/i,ensureErrorObject=function(){return"stack"in new Error?function(value){return canAttachTrace(value)?value:new Error(safeToString(value))}:function(value){if(canAttachTrace(value))return value;try{throw new Error(safeToString(value))}catch(err){return err}}}(),ret={isClass:isClass,isIdentifier:isIdentifier,inheritedDataKeys:inheritedDataKeys,getDataPropertyOrDefault:getDataPropertyOrDefault,thrower:thrower,isArray:es5.isArray,haveGetters:haveGetters,notEnumerableProp:notEnumerableProp,isPrimitive:isPrimitive,isObject:isObject,canEvaluate:canEvaluate,errorObj:errorObj,tryCatch:tryCatch,inherits:inherits,withAppended:withAppended,asString:asString,maybeWrapAsError:maybeWrapAsError,wrapsPrimitiveReceiver:wrapsPrimitiveReceiver,toFastProperties:toFastProperties,filledRange:filledRange,toString:safeToString,canAttachTrace:canAttachTrace,ensureErrorObject:ensureErrorObject,originatesFromRejection:originatesFromRejection,markAsOriginatingFromRejection:markAsOriginatingFromRejection};try{throw new Error}catch(e){ret.lastLineError=e}module.exports=ret},{"./es5.js":14}]},{},[4])(4)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:10}],3:[function(require,module,exports){function useColors(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function formatArgs(){var args=arguments,useColors=this.useColors;if(args[0]=(useColors?"%c":"")+this.namespace+(useColors?" %c":" ")+args[0]+(useColors?"%c ":" ")+"+"+exports.humanize(this.diff),!useColors)return args;var c="color: "+this.color;args=[args[0],c,"color: inherit"].concat(Array.prototype.slice.call(args,1));var index=0,lastC=0;return args[0].replace(/%[a-z%]/g,function(match){"%%"!==match&&(index++,"%c"===match&&(lastC=index))}),args.splice(lastC,0,c),args}function log(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function save(namespaces){try{null==namespaces?storage.removeItem("debug"):storage.debug=namespaces}catch(e){}}function load(){var r;try{r=storage.debug}catch(e){}return r}exports=module.exports=require("./debug"),exports.log=log,exports.formatArgs=formatArgs,exports.save=save,exports.load=load,exports.useColors=useColors;var storage;storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:window.localStorage,exports.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],exports.formatters.j=function(v){return JSON.stringify(v)},exports.enable(load())},{"./debug":4}],4:[function(require,module,exports){function selectColor(){return exports.colors[prevColor++%exports.colors.length]}function debug(namespace){function disabled(){}function enabled(){var self=enabled,curr=+new Date,ms=curr-(prevTime||curr);self.diff=ms,self.prev=prevTime,self.curr=curr,prevTime=curr,null==self.useColors&&(self.useColors=exports.useColors()),null==self.color&&self.useColors&&(self.color=selectColor());var args=Array.prototype.slice.call(arguments);args[0]=exports.coerce(args[0]),"string"!=typeof args[0]&&(args=["%o"].concat(args));var index=0;args[0]=args[0].replace(/%([a-z%])/g,function(match,format){if("%%"===match)return match;index++;var formatter=exports.formatters[format];if("function"==typeof formatter){var val=args[index];match=formatter.call(self,val),args.splice(index,1),index--}return match}),"function"==typeof exports.formatArgs&&(args=exports.formatArgs.apply(self,args));var logFn=enabled.log||exports.log||console.log.bind(console);logFn.apply(self,args)}disabled.enabled=!1,enabled.enabled=!0;var fn=exports.enabled(namespace)?enabled:disabled;return fn.namespace=namespace,fn}function enable(namespaces){exports.save(namespaces);for(var split=(namespaces||"").split(/[\s,]+/),len=split.length,i=0;len>i;i++)split[i]&&(namespaces=split[i].replace(/\*/g,".*?"),"-"===namespaces[0]?exports.skips.push(new RegExp("^"+namespaces.substr(1)+"$")):exports.names.push(new RegExp("^"+namespaces+"$")))}function disable(){exports.enable("")}function enabled(name){var i,len;for(i=0,len=exports.skips.length;len>i;i++)if(exports.skips[i].test(name))return!1;for(i=0,len=exports.names.length;len>i;i++)if(exports.names[i].test(name))return!0;return!1}function coerce(val){return val instanceof Error?val.stack||val.message:val}exports=module.exports=debug,exports.coerce=coerce,exports.disable=disable,exports.enable=enable,exports.enabled=enabled,exports.humanize=require("ms"),exports.names=[],exports.skips=[],exports.formatters={};var prevTime,prevColor=0},{ms:5}],5:[function(require,module){function parse(str){var match=/^((?:\d+)?\.?\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i.exec(str);if(match){var n=parseFloat(match[1]),type=(match[2]||"ms").toLowerCase();switch(type){case"years":case"year":case"y":return n*y;case"days":case"day":case"d":return n*d;case"hours":case"hour":case"h":return n*h;case"minutes":case"minute":case"m":return n*m;case"seconds":case"second":case"s":return n*s;case"ms":return n}}}function short(ms){return ms>=d?Math.round(ms/d)+"d":ms>=h?Math.round(ms/h)+"h":ms>=m?Math.round(ms/m)+"m":ms>=s?Math.round(ms/s)+"s":ms+"ms"}function long(ms){return plural(ms,d,"day")||plural(ms,h,"hour")||plural(ms,m,"minute")||plural(ms,s,"second")||ms+" ms"}function plural(ms,n,name){return n>ms?void 0:1.5*n>ms?Math.floor(ms/n)+" "+name:Math.ceil(ms/n)+" "+name+"s"}var s=1e3,m=60*s,h=60*m,d=24*h,y=365.25*d;module.exports=function(val,options){return options=options||{},"string"==typeof val?parse(val):options["long"]?long(val):short(val)}},{}],6:[function(){},{}],7:[function(require,module){function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(arg){return"function"==typeof arg}function isNumber(arg){return"number"==typeof arg}function isObject(arg){return"object"==typeof arg&&null!==arg}function isUndefined(arg){return void 0===arg}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(n){if(!isNumber(n)||0>n||isNaN(n))throw TypeError("n must be a positive number");return this._maxListeners=n,this},EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(this._events||(this._events={}),"error"===type&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if(er=arguments[1],er instanceof Error)throw er;throw TypeError('Uncaught, unspecified "error" event.')}if(handler=this._events[type],isUndefined(handler))return!1;if(isFunction(handler))switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:for(len=arguments.length,args=new Array(len-1),i=1;len>i;i++)args[i-1]=arguments[i];handler.apply(this,args)}else if(isObject(handler)){for(len=arguments.length,args=new Array(len-1),i=1;len>i;i++)args[i-1]=arguments[i];for(listeners=handler.slice(),len=listeners.length,i=0;len>i;i++)listeners[i].apply(this,args)}return!0},EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",type,isFunction(listener.listener)?listener.listener:listener),this._events[type]?isObject(this._events[type])?this._events[type].push(listener):this._events[type]=[this._events[type],listener]:this._events[type]=listener,isObject(this._events[type])&&!this._events[type].warned){var m;m=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners,m&&m>0&&this._events[type].length>m&&(this._events[type].warned=!0,"function"==typeof console.trace)
}return this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(type,listener){function g(){this.removeListener(type,g),fired||(fired=!0,listener.apply(this,arguments))}if(!isFunction(listener))throw TypeError("listener must be a function");var fired=!1;return g.listener=listener,this.on(type,g),this},EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events||!this._events[type])return this;if(list=this._events[type],length=list.length,position=-1,list===listener||isFunction(list.listener)&&list.listener===listener)delete this._events[type],this._events.removeListener&&this.emit("removeListener",type,listener);else if(isObject(list)){for(i=length;i-->0;)if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}if(0>position)return this;1===list.length?(list.length=0,delete this._events[type]):list.splice(position,1),this._events.removeListener&&this.emit("removeListener",type,listener)}return this},EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[type]&&delete this._events[type],this;if(0===arguments.length){for(key in this._events)"removeListener"!==key&&this.removeAllListeners(key);return this.removeAllListeners("removeListener"),this._events={},this}if(listeners=this._events[type],isFunction(listeners))this.removeListener(type,listeners);else for(;listeners.length;)this.removeListener(type,listeners[listeners.length-1]);return delete this._events[type],this},EventEmitter.prototype.listeners=function(type){var ret;return ret=this._events&&this._events[type]?isFunction(this._events[type])?[this._events[type]]:this._events[type].slice():[]},EventEmitter.listenerCount=function(emitter,type){var ret;return ret=emitter._events&&emitter._events[type]?isFunction(emitter._events[type])?1:emitter._events[type].length:0}},{}],8:[function(require,module){module.exports="function"==typeof Object.create?function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})}:function(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype,ctor.prototype=new TempCtor,ctor.prototype.constructor=ctor}},{}],9:[function(require,module,exports){(function(process){function normalizeArray(parts,allowAboveRoot){for(var up=0,i=parts.length-1;i>=0;i--){var last=parts[i];"."===last?parts.splice(i,1):".."===last?(parts.splice(i,1),up++):up&&(parts.splice(i,1),up--)}if(allowAboveRoot)for(;up--;up)parts.unshift("..");return parts}function filter(xs,f){if(xs.filter)return xs.filter(f);for(var res=[],i=0;i<xs.length;i++)f(xs[i],i,xs)&&res.push(xs[i]);return res}var splitPathRe=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,splitPath=function(filename){return splitPathRe.exec(filename).slice(1)};exports.resolve=function(){for(var resolvedPath="",resolvedAbsolute=!1,i=arguments.length-1;i>=-1&&!resolvedAbsolute;i--){var path=i>=0?arguments[i]:process.cwd();if("string"!=typeof path)throw new TypeError("Arguments to path.resolve must be strings");path&&(resolvedPath=path+"/"+resolvedPath,resolvedAbsolute="/"===path.charAt(0))}return resolvedPath=normalizeArray(filter(resolvedPath.split("/"),function(p){return!!p}),!resolvedAbsolute).join("/"),(resolvedAbsolute?"/":"")+resolvedPath||"."},exports.normalize=function(path){var isAbsolute=exports.isAbsolute(path),trailingSlash="/"===substr(path,-1);return path=normalizeArray(filter(path.split("/"),function(p){return!!p}),!isAbsolute).join("/"),path||isAbsolute||(path="."),path&&trailingSlash&&(path+="/"),(isAbsolute?"/":"")+path},exports.isAbsolute=function(path){return"/"===path.charAt(0)},exports.join=function(){var paths=Array.prototype.slice.call(arguments,0);return exports.normalize(filter(paths,function(p){if("string"!=typeof p)throw new TypeError("Arguments to path.join must be strings");return p}).join("/"))},exports.relative=function(from,to){function trim(arr){for(var start=0;start<arr.length&&""===arr[start];start++);for(var end=arr.length-1;end>=0&&""===arr[end];end--);return start>end?[]:arr.slice(start,end-start+1)}from=exports.resolve(from).substr(1),to=exports.resolve(to).substr(1);for(var fromParts=trim(from.split("/")),toParts=trim(to.split("/")),length=Math.min(fromParts.length,toParts.length),samePartsLength=length,i=0;length>i;i++)if(fromParts[i]!==toParts[i]){samePartsLength=i;break}for(var outputParts=[],i=samePartsLength;i<fromParts.length;i++)outputParts.push("..");return outputParts=outputParts.concat(toParts.slice(samePartsLength)),outputParts.join("/")},exports.sep="/",exports.delimiter=":",exports.dirname=function(path){var result=splitPath(path),root=result[0],dir=result[1];return root||dir?(dir&&(dir=dir.substr(0,dir.length-1)),root+dir):"."},exports.basename=function(path,ext){var f=splitPath(path)[2];return ext&&f.substr(-1*ext.length)===ext&&(f=f.substr(0,f.length-ext.length)),f},exports.extname=function(path){return splitPath(path)[3]};var substr="b"==="ab".substr(-1)?function(str,start,len){return str.substr(start,len)}:function(str,start,len){return 0>start&&(start=str.length+start),str.substr(start,len)}}).call(this,require("_process"))},{_process:10}],10:[function(require,module){function drainQueue(){if(!draining){draining=!0;for(var currentQueue,len=queue.length;len;){currentQueue=queue,queue=[];for(var i=-1;++i<len;)currentQueue[i]();len=queue.length}draining=!1}}function noop(){}var process=module.exports={},queue=[],draining=!1;process.nextTick=function(fun){queue.push(fun),draining||setTimeout(drainQueue,0)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},{}],11:[function(require,module){module.exports=function(arg){return arg&&"object"==typeof arg&&"function"==typeof arg.copy&&"function"==typeof arg.fill&&"function"==typeof arg.readUInt8}},{}],12:[function(require,module,exports){(function(process,global){function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(ctx.depth=arguments[2]),arguments.length>=4&&(ctx.colors=arguments[3]),isBoolean(opts)?ctx.showHidden=opts:opts&&exports._extend(ctx,opts),isUndefined(ctx.showHidden)&&(ctx.showHidden=!1),isUndefined(ctx.depth)&&(ctx.depth=2),isUndefined(ctx.colors)&&(ctx.colors=!1),isUndefined(ctx.customInspect)&&(ctx.customInspect=!0),ctx.colors&&(ctx.stylize=stylizeWithColor),formatValue(ctx,obj,ctx.depth)}function stylizeWithColor(str,styleType){var style=inspect.styles[styleType];return style?"["+inspect.colors[style][0]+"m"+str+"["+inspect.colors[style][1]+"m":str}function stylizeNoColor(str){return str}function arrayToHash(array){var hash={};return array.forEach(function(val){hash[val]=!0}),hash}function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==exports.inspect&&(!value.constructor||value.constructor.prototype!==value)){var ret=value.inspect(recurseTimes,ctx);return isString(ret)||(ret=formatValue(ctx,ret,recurseTimes)),ret}var primitive=formatPrimitive(ctx,value);if(primitive)return primitive;var keys=Object.keys(value),visibleKeys=arrayToHash(keys);if(ctx.showHidden&&(keys=Object.getOwnPropertyNames(value)),isError(value)&&(keys.indexOf("message")>=0||keys.indexOf("description")>=0))return formatError(value);if(0===keys.length){if(isFunction(value)){var name=value.name?": "+value.name:"";return ctx.stylize("[Function"+name+"]","special")}if(isRegExp(value))return ctx.stylize(RegExp.prototype.toString.call(value),"regexp");if(isDate(value))return ctx.stylize(Date.prototype.toString.call(value),"date");if(isError(value))return formatError(value)}var base="",array=!1,braces=["{","}"];if(isArray(value)&&(array=!0,braces=["[","]"]),isFunction(value)){var n=value.name?": "+value.name:"";base=" [Function"+n+"]"}if(isRegExp(value)&&(base=" "+RegExp.prototype.toString.call(value)),isDate(value)&&(base=" "+Date.prototype.toUTCString.call(value)),isError(value)&&(base=" "+formatError(value)),0===keys.length&&(!array||0==value.length))return braces[0]+base+braces[1];if(0>recurseTimes)return isRegExp(value)?ctx.stylize(RegExp.prototype.toString.call(value),"regexp"):ctx.stylize("[Object]","special");ctx.seen.push(value);var output;return output=array?formatArray(ctx,value,recurseTimes,visibleKeys,keys):keys.map(function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array)}),ctx.seen.pop(),reduceToSingleString(output,base,braces)}function formatPrimitive(ctx,value){if(isUndefined(value))return ctx.stylize("undefined","undefined");if(isString(value)){var simple="'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ctx.stylize(simple,"string")}return isNumber(value)?ctx.stylize(""+value,"number"):isBoolean(value)?ctx.stylize(""+value,"boolean"):isNull(value)?ctx.stylize("null","null"):void 0}function formatError(value){return"["+Error.prototype.toString.call(value)+"]"}function formatArray(ctx,value,recurseTimes,visibleKeys,keys){for(var output=[],i=0,l=value.length;l>i;++i)output.push(hasOwnProperty(value,String(i))?formatProperty(ctx,value,recurseTimes,visibleKeys,String(i),!0):"");return keys.forEach(function(key){key.match(/^\d+$/)||output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,!0))}),output}function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;if(desc=Object.getOwnPropertyDescriptor(value,key)||{value:value[key]},desc.get?str=desc.set?ctx.stylize("[Getter/Setter]","special"):ctx.stylize("[Getter]","special"):desc.set&&(str=ctx.stylize("[Setter]","special")),hasOwnProperty(visibleKeys,key)||(name="["+key+"]"),str||(ctx.seen.indexOf(desc.value)<0?(str=isNull(recurseTimes)?formatValue(ctx,desc.value,null):formatValue(ctx,desc.value,recurseTimes-1),str.indexOf("\n")>-1&&(str=array?str.split("\n").map(function(line){return"  "+line}).join("\n").substr(2):"\n"+str.split("\n").map(function(line){return"   "+line}).join("\n"))):str=ctx.stylize("[Circular]","special")),isUndefined(name)){if(array&&key.match(/^\d+$/))return str;name=JSON.stringify(""+key),name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(name=name.substr(1,name.length-2),name=ctx.stylize(name,"name")):(name=name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),name=ctx.stylize(name,"string"))}return name+": "+str}function reduceToSingleString(output,base,braces){var numLinesEst=0,length=output.reduce(function(prev,cur){return numLinesEst++,cur.indexOf("\n")>=0&&numLinesEst++,prev+cur.replace(/\u001b\[\d\d?m/g,"").length+1},0);return length>60?braces[0]+(""===base?"":base+"\n ")+" "+output.join(",\n  ")+" "+braces[1]:braces[0]+base+" "+output.join(", ")+" "+braces[1]}function isArray(ar){return Array.isArray(ar)}function isBoolean(arg){return"boolean"==typeof arg}function isNull(arg){return null===arg}function isNullOrUndefined(arg){return null==arg}function isNumber(arg){return"number"==typeof arg}function isString(arg){return"string"==typeof arg}function isSymbol(arg){return"symbol"==typeof arg}function isUndefined(arg){return void 0===arg}function isRegExp(re){return isObject(re)&&"[object RegExp]"===objectToString(re)}function isObject(arg){return"object"==typeof arg&&null!==arg}function isDate(d){return isObject(d)&&"[object Date]"===objectToString(d)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(arg){return"function"==typeof arg}function isPrimitive(arg){return null===arg||"boolean"==typeof arg||"number"==typeof arg||"string"==typeof arg||"symbol"==typeof arg||"undefined"==typeof arg}function objectToString(o){return Object.prototype.toString.call(o)}function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}var formatRegExp=/%[sdj%]/g;exports.format=function(f){if(!isString(f)){for(var objects=[],i=0;i<arguments.length;i++)objects.push(inspect(arguments[i]));return objects.join(" ")}for(var i=1,args=arguments,len=args.length,str=String(f).replace(formatRegExp,function(x){if("%%"===x)return"%";if(i>=len)return x;switch(x){case"%s":return String(args[i++]);case"%d":return Number(args[i++]);case"%j":try{return JSON.stringify(args[i++])}catch(_){return"[Circular]"}default:return x}}),x=args[i];len>i;x=args[++i])str+=isNull(x)||!isObject(x)?" "+x:" "+inspect(x);return str},exports.deprecate=function(fn,msg){function deprecated(){if(!warned){if(process.throwDeprecation)throw new Error(msg);process.traceDeprecation,warned=!0}return fn.apply(this,arguments)}if(isUndefined(global.process))return function(){return exports.deprecate(fn,msg).apply(this,arguments)};if(process.noDeprecation===!0)return fn;var warned=!1;return deprecated};var debugEnviron,debugs={};exports.debuglog=function(set){if(isUndefined(debugEnviron)&&(debugEnviron=process.env.NODE_DEBUG||""),set=set.toUpperCase(),!debugs[set])if(new RegExp("\\b"+set+"\\b","i").test(debugEnviron)){{process.pid}debugs[set]=function(){exports.format.apply(exports,arguments)}}else debugs[set]=function(){};return debugs[set]},exports.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=isNullOrUndefined,exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=isSymbol,exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=isPrimitive,exports.isBuffer=require("./support/isBuffer");exports.log=function(){},exports.inherits=require("inherits"),exports._extend=function(origin,add){if(!add||!isObject(add))return origin;for(var keys=Object.keys(add),i=keys.length;i--;)origin[keys[i]]=add[keys[i]];return origin}}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":11,_process:10,inherits:8}],13:[function(require,module,exports){"use strict";var utils=require("./utils"),pathm=require("path"),fs=require("./fileSystem"),wrapSuccess=utils.wrapSuccess,wrapFail=utils.wrapFail;exports.getFsInstance=fs.getInstance,exports.appendFile=function(path,data,callback){fs.writeFile(path,data,callback,!0)},exports.writeFile=function(path,data,callback){fs.writeFile(path,data,callback,!1)},exports.readFile=function(path,opts,callback){"function"==typeof opts&&(callback=opts,opts={encoding:"utf8"});var success=wrapSuccess(callback),fail=wrapFail(callback);fs.getFile(path,function(err,fileEntry){err?fail(err):fileEntry.file(function(file){var reader=new FileReader;reader.onloadend=function(evt){success(evt.target.result)},reader.onerror=function(err){fail(err)},"utf8"===opts.encoding?reader.readAsText(file):reader.readAsDataURL(file)},fail)})},exports.unlink=function(path,callback){var success=wrapSuccess(callback),fail=wrapFail(callback);fs.getFile(path,function(err,file){err?fail(err):file.remove(success,fail)})},exports.readdir=function(path,callback){var success=wrapSuccess(callback),fail=wrapFail(callback);fs.getDirectory(path,function(err,dirEntry){if(err)fail(err);else{var directoryReader=dirEntry.createReader();directoryReader.readEntries(success,fail)}})},exports.mkdir=function(path,callback){"function"==typeof arguments[2]&&(callback=arguments[2]);var newFolderName=pathm.basename(path),basePath=pathm.dirname(path),success=utils.wrapSuccess(callback),fail=utils.wrapFail(callback),opts={create:!0,exclusive:!0};"."===basePath?fs.getDirectory(newFolderName,opts,callback):fs.getDirectory(basePath,function(err,dir){err?callback(err,null):dir.getDirectory(newFolderName,opts,success,fail)})},exports.rmdir=function(path,callback){var success=wrapSuccess(callback),fail=wrapFail(callback);this.readdir(path,function(err,list){err?fail(err):list&&list.length>0?fail("ENOTEMPTY: Directory must be empty"):fs.getDirectory(path,function(err,dirEntry){err?fail(err):dirEntry.remove(success,fail)})})},exports.exists=function(path,callback){var success=wrapSuccess(callback),fail=wrapFail(callback);fs.getFile(path,{create:!1},function(err){err&&1===err.code?success(!1):err?fail(err):success(!0)})},exports.stat=function(path,callback){var success=wrapSuccess(callback),fail=wrapFail(callback),fn=fs.getFile;utils.isDirectory(path)&&(fn=fs.getDirectory),fn(path,function(err,res){err?fail(err):res.getMetadata(success,fail)})},exports.init=function(bytes,callback){fs.init(bytes,function(err){err?callback(err,null):fs.getInstance(function(err){callback(err,null)})})}},{"./fileSystem":14,"./utils":15,path:9}],14:[function(require,module,exports){"use strict";function requestFileSystem(bytes,success,fail){window.navigator.webkitRequestFileSystem?window.navigator.webkitRequestFileSystem(bytes,success,fail):window.requestFileSystem?window.requestFileSystem(window.LocalFileSystem.PERSISTENT,bytes,success,fail):window.webkitRequestFileSystem?window.webkitRequestFileSystem(window.PERSISTENT,bytes,success,fail):fail("NO_SUPPORT")}function requestQuota(quota,callback){function success(bytes){callback(null,bytes)}function fail(err){callback(err,null)}quota=quota||DEFAULT_QUOTA,navigator.webkitPersistentStorage&&navigator.webkitPersistentStorage.requestQuota?navigator.webkitPersistentStorage.requestQuota(quota,success,fail):window.webkitStorageInfo&&window.webkitStorageInfo.requestQuota?window.webkitStorageInfo.requestQuota(window.PERSISTENT,quota,success,fail):window.requestFileSystem?(utils.isPhoneGap()===!0&&(quota=0),success(quota)):fail("NO_SUPPORT")}var utils=require("./utils"),pathm=require("path"),DEFAULT_QUOTA=10485760,fileSystem=null;exports.getInstance=function(callback){fileSystem?callback(null,fileSystem):init(null,callback)};var init=exports.init=function(bytes,callback){requestQuota(bytes,function(err,grantedBytes){return err?callback(err,null):void requestFileSystem(grantedBytes,function(instance){fileSystem=instance,callback(null,grantedBytes)},function(err){callback(err,null)})})};exports.writeFile=function(path,data,callback,append){var fail=utils.wrapFail(callback),success=utils.wrapSuccess(callback);exports.getFile(path,{create:!0,exclusive:!1},function(err,file){return err?callback(err,null):void file.createWriter(function(writer){writer.onwrite=function(){success(file.toURL())},writer.onerror=function(evt){fail(evt.target.error)},append===!0&&writer.seek(writer.length),writer.write(utils.isMobile()?data:new Blob([data]))},fail)})},exports.getDirectory=function(path,opts,callback){callback||(callback=opts,opts={create:!1});var success=utils.wrapSuccess(callback),fail=utils.wrapFail(callback);fileSystem.root.getDirectory(path,opts,success,fail)},exports.getFile=function(path,opts,callback){function doGet(dirRef){dirRef.getFile(fileName,opts,success,fail)}callback||(callback=opts,opts={create:!1});var fileName=pathm.basename(path),basePath=pathm.dirname(path),success=utils.wrapSuccess(callback),fail=utils.wrapFail(callback);"."===basePath?doGet(fileSystem.root):exports.getDirectory(basePath,function(err,dir){err?callback(err,null):doGet(dir)})}},{"./utils":15,path:9}],15:[function(require,module,exports){"use strict";exports.isMobile=function(){var ua=window.navigator.userAgent;return null!==ua.match(/Android|iPad|iPhone|iPod|Windows Phone/)},exports.isPhoneGap=function(){var proto=window.location.protocol;return this.isMobile()&&-1!==proto.indexOf("file")},exports.supportsFileSystem=function(){return this.isPhoneGap()===!0?!0:window.navigator.userAgent.match(/Chrome|Opera/)},exports.wrapSuccess=function(callback){return"function"!=typeof callback?function(){}:function(){var args=[null].concat(Array.prototype.slice.call(arguments));callback.apply(callback,args)}},exports.wrapFail=function(callback){return"function"!=typeof callback?function(){}:function(){var args=Array.prototype.slice.call(arguments),e=args[0];callback.apply(callback,[e,null])}},exports.isDirectory=function(path){return path.lastIndexOf("/")===path.length-1}},{}],16:[function(require,module){(function(process){function mkdirP(p,opts,f,made){"function"==typeof opts?(f=opts,opts={}):opts&&"object"==typeof opts||(opts={mode:opts});var mode=opts.mode,xfs=opts.fs||fs;void 0===mode&&(mode=511&~process.umask()),made||(made=null);var cb=f||function(){};p=path.resolve(p),xfs.mkdir(p,mode,function(er){if(!er)return made=made||p,cb(null,made);switch(er.code){case"ENOENT":mkdirP(path.dirname(p),opts,function(er,made){er?cb(er,made):mkdirP(p,opts,cb,made)});break;default:xfs.stat(p,function(er2,stat){er2||!stat.isDirectory()?cb(er,made):cb(null,made)})}})}var path=require("path"),fs=require("fs");module.exports=mkdirP.mkdirp=mkdirP.mkdirP=mkdirP,mkdirP.sync=function sync(p,opts,made){opts&&"object"==typeof opts||(opts={mode:opts});var mode=opts.mode,xfs=opts.fs||fs;void 0===mode&&(mode=511&~process.umask()),made||(made=null),p=path.resolve(p);try{xfs.mkdirSync(p,mode),made=made||p}catch(err0){switch(err0.code){case"ENOENT":made=sync(path.dirname(p),opts,made),sync(p,opts,made);break;default:var stat;try{stat=xfs.statSync(p)}catch(err1){throw err0}if(!stat.isDirectory())throw err0}}return made}}).call(this,require("_process"))},{_process:10,fs:6,path:9}],17:[function(require,module){"use strict";module.exports=[{firstName:"Evan",lastName:"Shortiss",age:23},{firstName:"John",lastName:"Wayne",age:52}]},{}],18:[function(require,module){"use strict";module.exports=angular.module("MyApp.constants",[]).constant("API_TOKEN","123ABC123ABC").constant("DEFAULT_USERS",require("./Users"))},{"./Users":17}],19:[function(require,module){"use strict";module.exports=angular.module("MyApp.controllers",[])},{}],20:[function(require,module){var marktime=require("../"),debug=require("debug")("marktime:api:configuration");module.exports=function(API){var configApi=new API("configuration");configApi.on("use",function(api){var prefs=marktime["default"]("preferences");api.load=function(dictionary,obj){debug("loading config keys in %s",dictionary);var pref=prefs.getDictionary(dictionary),ret={},count=0;for(var key in obj)obj.hasOwnProperty(key)&&(ret[key]=pref.maybe(key,obj[key]),count++);return debug("loaded %s keys",count),ret}})}},{"../":23,debug:3}],21:[function(require,module){module.exports=function(API){require("./configuration")(API),require("./preferences")(API)}},{"./configuration":20,"./preferences":22}],22:[function(require,module){function save(){return debug("saving preferences"),new Promise(function(resolve,reject){if(clearTimeout(saveTimeout),changes>0){changes=0,debug("saving preferences");var prefFile=marktime.root+"prefs.json";mkdirp(path.dirname(prefFile),{fs:fs},function(err){return debug("created file path"),err?(debug("create dir error",err),reject(err)):void fs.writeFile(prefFile,JSON.stringify(cache),function(err){return debug("finished writing preferences"),err?(debug("write error",err),reject(err)):void resolve()})})}else resolve()}).then(function(){saveTimeout=setTimeout(save,saveTime)})}function Dictionary(name,items){this.name=name,this.readonly=!1,this.get=function(key){return items[key]},this.set=function(key,value){return items[key]=value,changes++,changes>saveChanges&&save(),value},this.exists=function(key){return items.hasOwnProperty(key)}}function ReadonlyDictionary(){Dictionary.apply(this,arguments),this.readonly=!0,this.set=function(){throw new Error("Dictionary#set is not supported in read-only mode")}}var saveTimeout,saveTime,saveChanges,fs=require("fs"),marktime=require("../"),util=require("util"),Promise=require("bluebird"),debug=require("debug")("marktime:api:preferences"),mkdirp=require("mkdirp"),path=require("path"),cache={},changes=0;module.exports=function(API){var prefsApi=new API("preferences");prefsApi.on("initialize",function(){return new Promise(function(resolve,reject){debug("reading prefs file"),fs.readFile(marktime.root+"prefs.json",{encoding:"utf8"},function(err,data){if(debug("finished reading prefs file"),err){if("NotFoundError"!==err.name)return reject(err,debug("read error",err));cache={}}else cache=JSON.parse(data);cache.config||(cache.config={}),saveTime=cache.config["autosave.time"]||1e4,saveChanges=cache.config["autosave.maxchanges"]||10,saveTimeout=setTimeout(save,saveTime),resolve()})})}),prefsApi.on("use",function(api){var plugin=this,prefs=cache[plugin.name];prefs||(prefs=cache[plugin.name]={});var dictionaryCache={};api.get=function(name,ronly){var dotIndex=name.indexOf(".");if(-1!==dotIndex){var dictionaryName=name.substring(0,dotIndex),itemName=name.substring(dotIndex+1);return api.getDictionary(dictionaryName).get(itemName)}return api.getDictionary(name,ronly)},api.getDictionary=function(name,ronly){var readonly=readonly||ronly,rName=name+(readonly?"0":"1");return dictionaryCache[rName]?dictionaryCache[rName]:(prefs[rName]||(prefs[rName]={}),dictionaryCache[rName]=readonly?new ReadonlyDictionary(name,prefs[rName]):new Dictionary(name,prefs[rName]))},api.set=function(name,val){var dotIndex=name.indexOf(".");if(-1===dotIndex)throw new Error("Invalid dictionary/item name");var dictionaryName=name.substring(0,dotIndex),itemName=name.substring(dotIndex+1);return api.get(dictionaryName).set(itemName,val)},api.maybe=function(name,val){var dotIndex=name.indexOf(".");if(-1===dotIndex)throw new Error("Invalid dictionary/item name");var dictionaryName=name.substring(0,dotIndex),itemName=name.substring(dotIndex+1);return api.get(dictionaryName).maybe(itemName,val)},api.save=save})},Dictionary.prototype.maybe=function(key,value){return this.exists(key)?this.get(key):this.set(key,value)},Dictionary.prototype.save=save,util.inherits(ReadonlyDictionary,Dictionary),ReadonlyDictionary.prototype.save=function(){throw new Error("Dictionary#save is not supported in read-only mode")}},{"../":23,bluebird:2,debug:3,fs:13,mkdirp:16,path:9,util:12}],23:[function(require,module,exports){var EventEmitter=require("events").EventEmitter,plugins=require("./plugins"),Promise=require("bluebird"),fs=require("fs"),debug=require("debug")("marktime");exports.events=new EventEmitter,exports["default"]=plugins["default"],exports.root="marktime/",exports.initialize=function(){debug("beginning initialize"),new Promise(function(resolve,reject){debug("initializing filesystem"),fs.init(!1,function(err){err?reject(err):resolve()})}).then(plugins.initialize).then(function(){debug("initialization complete")},function(err){debug("initialization failed: %s",err.stack?err.stack:err)})}},{"./plugins":24,bluebird:2,debug:3,events:7,fs:13}],24:[function(require,module,exports){function Plugin(obj,ignoreContext){function APIConstructor(name){if(this.name=name,self.apis[name])throw new Error('An API with the name "'+name+'" already exists');constructorEvents[name]=new AwesomeEmitter,EventEmitterProxy.call(this,constructorEvents[name]),self.apis[name]=this,self.hasInitialized&&(debug("system already initialized"),Promise.all(constructorEvents[name].emit("initialize")).then(function(){debug("finished initializing")}))}obj=obj||{},this.main=obj.main||config.default_main,this.name=obj.name||config.default_name,this.version=obj.version||config.default_version,this.description=obj.description||config.default_description,this.authors=obj.authors||config.default_authors,this.dependencies=obj.dependencies||config.default_dependencies,this.contextCache={},this.apis={},this.apiCache={},this.context=ignoreContext||new SandboxContext;var constructorEvents=this.constructorEvents={};this.hasInitialized=!1;var self=this;util.inherits(APIConstructor,EventEmitterProxy),this.APIConstructor=APIConstructor}function loadPlugin(plugin,loadedPlugins,plugins){var dependencies=plugin.dependencies,dependantArgs=[],dependencyNames=Object.keys(dependencies);return debug("loading %s dependencies for %s",dependencyNames.length,plugin.name),Promise.resolve(dependencyNames).each(function(name){if(!plugins[name])throw new Error(plugin.name+" requires "+name+" which is not installed");var dependency=plugins[name];return dependantArgs.push(dependency),-1===loadedPlugins.indexOf(dependency.name)?loadPlugin(dependency,loadedPlugins,plugins):void 0}).then(function(){return plugin.load()}).then(function(){loadedPlugins.push(plugin.name)})}function loadPluginDefs(plugins){for(var promises={},i=0;i<plugins.length;i++){var pluginName=plugins[i];debug("loading plugin definition for %s",pluginName),promises[pluginName]=new Promise(function(resolve,reject){fs.readFile(path.join(marktime.root,config.folder_root,pluginName,config.file_plugin),"utf8",function(err,data){err?reject(err):resolve(data)})})}return Promise.props(promises)}var debug=require("debug")("marktime:plugins"),Promise=require("bluebird"),marktime=require("./"),fs=require("fs"),path=require("path"),AwesomeEmitter=require("../util/AwesomeEmitter"),SandboxContext=require("../util/SandboxContext"),EventEmitterProxy=require("../util/EventEmitterProxy"),util=require("util"),config={},plugins={};Plugin.prototype.load=function(){var self=this;return this.context.copy({Promise:Promise,marktime:defaultPlugin.createContext(this),plugins:{get:function(name){if(!plugins[name])throw new Error('No plugin called "'+name+'"');return plugins[name].createContext(self)}},API:this.APIConstructor},new EventEmitterProxy(marktime.events)),this.loadApis()},Plugin.prototype.loadApis=function(){debug("initializing %s apis on %s",Object.keys(this.apis).length,this.name);var apiPromises=[],pluginName=this.name;for(var name in this.apis)this.apis.hasOwnProperty(name)&&(debug("initializing api %s",name),apiPromises.push.apply(apiPromises,this.constructorEvents[name].emit(window,"initialize")),this.hasInitialized=!0);return Promise.all(apiPromises).then(function(){debug("finished initializing plugins on %s",pluginName)})},Plugin.prototype.createContext=function(plugin){function getApi(name,args){if(args=[].slice.call(arguments,1),name=name.toLowerCase(),!self.apis[name])throw new Error('Unknown API "'+name+'" on plugin "'+self.name+'"');self.apiCache[name]||(self.apiCache[name]=[]);for(var apiCache=self.apiCache[name],i=0;i<apiCache.length;i++){var cacheItem=apiCache[i];if(cacheItem.plugin===plugin.name&&cacheItem.args===args)return cacheItem.obj}debug("creating api %s for %s",name,plugin.name);var apiResult={};apiResult._api=apiResult;var params=[].slice.call(arguments,0);params[0]=apiResult;var api=self.apis[name];return params.unshift("use"),params.unshift(plugin.createContext(self)),self.constructorEvents[name].emit.apply(api,params),apiCache.push({plugin:plugin.name,args:args,obj:apiResult._api}),apiResult._api}if(this.contextCache[plugin.name])return this.contextCache[plugin.name];var self=this;return getApi.api=getApi,getApi.exists=function(name){return!!self.apis[name]},getApi.config=function(){return mt("preferences").getDictionary("plugin.config."+plugin)},this.contextCache[plugin.name]=getApi,getApi},exports.Plugin=Plugin;var defaultPlugin=exports.defaultPlugin=new Plugin({main:null,name:"MarkTime",version:"0.1.0",description:"",authors:["John Board","Nicholas Thorne","Tom Barham"],dependencies:{}},!0);require("./default")(defaultPlugin.APIConstructor);
var mt=exports["default"]=defaultPlugin.createContext(defaultPlugin);exports.initialize=function(){return defaultPlugin.loadApis().then(function(){debug("loading default plugin configuration"),config=mt("configuration").load("plugin.config",{folder_root:"plugins/",file_plugin:"plugin.json",default_main:"index.js",default_name:"My Plugin",default_version:"1.0.0",default_description:"<em>No Description</em>",default_authors:[],default_dependencies:{}});var pluginList=mt("preferences").maybe("plugin.list",[]);return debug("found %s plugins, loading definitions",pluginList.length),loadPluginDefs(pluginList).then(function(defs){debug("finished loading definitions, initializing plugins");for(var pluginName in defs)defs.hasOwnProperty(pluginName)&&(plugins[pluginName]=new Plugin(defs[pluginName]));return Promise.resolve(Object.keys(plugins)).each(function(name){return loadPlugin(plugins[name],[],plugins)})}).then(function(){debug("finished loading plugins")})})}},{"../util/AwesomeEmitter":26,"../util/EventEmitterProxy":27,"../util/SandboxContext":28,"./":23,"./default":21,bluebird:2,debug:3,fs:13,path:9,util:12}],25:[function(require,module){"use strict";module.exports=angular.module("MyApp.directives",[])},{}],26:[function(require,module){function AwesomeEmitter(){return this instanceof AwesomeEmitter?void EventEmitter.call(this):new AwesomeEmitter}var EventEmitter=require("events").EventEmitter,util=require("util");util.inherits(AwesomeEmitter,EventEmitter),AwesomeEmitter.prototype.emit=function(ctx,type){var len,args,i,listeners,res;this._events||(this._events={});var handler=this._events[type];if("undefined"==typeof handler)return[];if("function"==typeof handler)switch(arguments.length){case 2:return[handler.call(ctx)];case 3:return[handler.call(ctx,arguments[2])];case 4:return[handler.call(ctx,arguments[3])];default:for(len=arguments.length,args=new Array(len-2),i=2;len>i;i++)args[i-2]=arguments[i];return[handler.apply(ctx,args)]}if(Array.isArray(handler)){for(len=arguments.length,args=new Array(len-2),i=2;len>i;i++)args[i-2]=arguments[i];for(listeners=handler.slice(),len=listeners.length,res=[],i=0;len>i;i++)res.push(listeners[i].apply(ctx,args));return res}return[]},AwesomeEmitter.prototype.once=function(type,listener){function g(){return self.removeListener(type,g),listener.apply(this,arguments)}if("function"!=typeof listener)throw new Error("listener must be a function");var self=this;return g.listener=listener,this.on(type,g),this},module.exports=AwesomeEmitter},{events:7,util:12}],27:[function(require,module){function EventEmitterProxy(evt){var events={};this._events=events,this.addListener=function(event,listener){if("function"!=typeof listener)throw new TypeError("listener must be a function");return events[event]=events[event]||[],events[event].push(listener),evt.addListener(event,listener),this},this.on=this.addListener,this.once=function(event,listener){function g(){return self.removeListener(event,g),fired?void 0:(fired=!0,listener.apply(this,arguments))}var self=this,fired=!1;return g.listener=listener,this.on(event,g),this},this.removeListener=function(event,listener){if("function"!=typeof listener)throw new TypeError("listener must be a function");if(events[event]){for(var eventsIndex=-1,eventList=events[event],i=0;i<eventList.length;i++)if(eventList[i]===listener||eventList[i].listener&&eventList[i].listener===listener){eventsIndex=i;break}return-1===eventsIndex?this:(eventList.splice(eventsIndex,1),evt.removeListener(event,listener),this)}},this.removeAllListeners=function(event){return events[event]=[],evt.removeAllListeners(event),this},this.listeners=function(event){return events[event]?events[event].slice():[]}}module.exports=EventEmitterProxy},{}],28:[function(require,module){function SandboxContext(globals){var iframe=document.createElement("iframe");iframe.style||(iframe.style={}),iframe.style.display="none",iframe.setAttribute?iframe.setAttribute("sandbox","allow-scripts"):iframe.sandbox="allow-scripts",document.body.appendChild(iframe);var win=iframe.contentWindow;this.iframe=iframe,this.win=win,win.isSandbox=!0,globals&&this.copy(globals)}SandboxContext.prototype.copy=function(items){if(items&&"object"==typeof items&&null!=items)for(var key in items)items.hasOwnProperty(key)&&(this.win[key]=globals[key])},SandboxContext.prototype.run=function(code,ctx){var script=this.win.document.createElement("script");this.win.__sandboxContext=ctx||this.win,script.innerHTML="(function() {delete window.__sandboxContext;"+code+"}).call(window.__sandboxContext)",this.win.document.body.appendChild(script)},module.exports=SandboxContext},{}]},{},[1]);